"use strict";var Zp=Object.create;var ka=Object.defineProperty;var e0=Object.getOwnPropertyDescriptor;var t0=Object.getOwnPropertyNames;var r0=Object.getPrototypeOf,n0=Object.prototype.hasOwnProperty;var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var i0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of t0(t))!n0.call(e,i)&&i!==r&&ka(e,i,{get:()=>t[i],enumerable:!(n=e0(t,i))||n.enumerable});return e};var Zt=(e,t,r)=>(r=e!=null?Zp(r0(e)):{},i0(t||!e||!e.__esModule?ka(r,"default",{value:e,enumerable:!0}):r,e));var Hs=b((D4,bu)=>{"use strict";var C0=Object.create,Pn=Object.defineProperty,j0=Object.getOwnPropertyDescriptor,D0=Object.getOwnPropertyNames,k0=Object.getPrototypeOf,L0=Object.prototype.hasOwnProperty,ll=(e,t)=>()=>(e&&(t=e(e=0)),t),me=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xt=(e,t)=>{for(var r in t)Pn(e,r,{get:t[r],enumerable:!0})},cl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of D0(t))!L0.call(e,i)&&i!==r&&Pn(e,i,{get:()=>t[i],enumerable:!(n=j0(t,i))||n.enumerable});return e},V=(e,t,r)=>(r=e!=null?C0(k0(e)):{},cl(t||!e||!e.__esModule?Pn(r,"default",{value:e,enumerable:!0}):r,e)),F0=e=>cl(Pn({},"__esModule",{value:!0}),e),ul=me((e,t)=>{"use strict";t.exports=(r,n=process.argv)=>{let i=r.startsWith("-")?"":r.length===1?"-":"--",s=n.indexOf(i+r),a=n.indexOf("--");return s!==-1&&(a===-1||s<a)}}),V0=me((e,t)=>{"use strict";var r=require("node:os"),n=require("node:tty"),i=ul(),{env:s}=process,a;i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in s&&(s.FORCE_COLOR==="true"?a=1:s.FORCE_COLOR==="false"?a=0:a=s.FORCE_COLOR.length===0?1:Math.min(parseInt(s.FORCE_COLOR,10),3));function o(u){return u===0?!1:{level:u,hasBasic:!0,has256:u>=2,has16m:u>=3}}function l(u,d){if(a===0)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(u&&!d&&a===void 0)return 0;let f=a||0;if(s.TERM==="dumb")return f;if(process.platform==="win32"){let h=r.release().split(".");return Number(h[0])>=10&&Number(h[2])>=10586?Number(h[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(h=>h in s)||s.CI_NAME==="codeship"?1:f;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if(s.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in s){let h=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return h>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:f}function c(u){let d=l(u,u&&u.isTTY);return o(d)}t.exports={supportsColor:c,stdout:o(l(!0,n.isatty(1))),stderr:o(l(!0,n.isatty(2)))}}),M0=me((e,t)=>{"use strict";var r=V0(),n=ul();function i(a){if(/^\d{3,4}$/.test(a)){let l=/(\d{1,2})(\d{2})/.exec(a)||[];return{major:0,minor:parseInt(l[1],10),patch:parseInt(l[2],10)}}let o=(a||"").split(".").map(l=>parseInt(l,10));return{major:o[0],minor:o[1],patch:o[2]}}function s(a){let{CI:o,FORCE_HYPERLINK:l,NETLIFY:c,TEAMCITY_VERSION:u,TERM_PROGRAM:d,TERM_PROGRAM_VERSION:f,VTE_VERSION:h,TERM:m}=process.env;if(l)return!(l.length>0&&parseInt(l,10)===0);if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||c)return!0;if(!r.supportsColor(a)||a&&!a.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if(process.platform==="win32"||o||u)return!1;if(d){let p=i(f||"");switch(d){case"iTerm.app":return p.major===3?p.minor>=1:p.major>3;case"WezTerm":return p.major>=20200620;case"vscode":return p.major>1||p.major===1&&p.minor>=72;case"ghostty":return!0}}if(h){if(h==="0.50.0")return!1;let p=i(h);return p.major>0||p.minor>=50}switch(m){case"alacritty":return!0}return!1}t.exports={supportsHyperlink:s,stdout:s(process.stdout),stderr:s(process.stderr)}}),U0=me((e,t)=>{t.exports={name:"@prisma/internals",version:"6.13.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",esbuild:"0.25.5","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-dirs":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0","read-package-up":"11.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-ansi":"6.0.1","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-node":"10.9.2","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.13.0-35.361e86d0ea4987e9f53a565309b3eed797a6bcbd","@prisma/schema-engine-wasm":"6.13.0-35.361e86d0ea4987e9f53a565309b3eed797a6bcbd","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),dl=me((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.13.0-35.361e86d0ea4987e9f53a565309b3eed797a6bcbd",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"361e86d0ea4987e9f53a565309b3eed797a6bcbd"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),bs=me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=dl().prisma.enginesVersion}),B0=me((e,t)=>{"use strict";t.exports=r=>{let n=r.match(/^[ \t]*(?=\S)/gm);return n?n.reduce((i,s)=>Math.min(i,s.length),1/0):0}}),fl=me((e,t)=>{"use strict";t.exports=(r,n=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},typeof r!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof r}\``);if(typeof n!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof n}\``);if(typeof i.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(n===0)return r;let s=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(s,i.indent.repeat(n))}}),H0=me((e,t)=>{"use strict";t.exports=({onlyFirst:r=!1}={})=>{let n=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(n,r?void 0:"g")}}),hl=me((e,t)=>{"use strict";var r=H0();t.exports=n=>typeof n=="string"?n.replace(r(),""):n}),G0=me((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),W0=me((e,t)=>{"use strict";var r=require("node:fs"),n=require("node:path"),i=require("node:os"),s=require("node:crypto"),a=G0(),o=a.version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function c(y){let A={},R=y.toString();R=R.replace(/\r\n?/mg,`
`);let D;for(;(D=l.exec(R))!=null;){let C=D[1],q=D[2]||"";q=q.trim();let k=q[0];q=q.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),k==='"'&&(q=q.replace(/\\n/g,`
`),q=q.replace(/\\r/g,"\r")),A[C]=q}return A}function u(y){let A=p(y),R=$.configDotenv({path:A});if(!R.parsed){let k=new Error(`MISSING_DATA: Cannot parse ${A} for an unknown reason`);throw k.code="MISSING_DATA",k}let D=h(y).split(","),C=D.length,q;for(let k=0;k<C;k++)try{let Q=D[k].trim(),M=m(R,Q);q=$.decrypt(M.ciphertext,M.key);break}catch(Q){if(k+1>=C)throw Q}return $.parse(q)}function d(y){console.log(`[dotenv@${o}][WARN] ${y}`)}function f(y){console.log(`[dotenv@${o}][DEBUG] ${y}`)}function h(y){return y&&y.DOTENV_KEY&&y.DOTENV_KEY.length>0?y.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function m(y,A){let R;try{R=new URL(A)}catch(Q){if(Q.code==="ERR_INVALID_URL"){let M=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw M.code="INVALID_DOTENV_KEY",M}throw Q}let D=R.password;if(!D){let Q=new Error("INVALID_DOTENV_KEY: Missing key part");throw Q.code="INVALID_DOTENV_KEY",Q}let C=R.searchParams.get("environment");if(!C){let Q=new Error("INVALID_DOTENV_KEY: Missing environment part");throw Q.code="INVALID_DOTENV_KEY",Q}let q=`DOTENV_VAULT_${C.toUpperCase()}`,k=y.parsed[q];if(!k){let Q=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${q} in your .env.vault file.`);throw Q.code="NOT_FOUND_DOTENV_ENVIRONMENT",Q}return{ciphertext:k,key:D}}function p(y){let A=null;if(y&&y.path&&y.path.length>0)if(Array.isArray(y.path))for(let R of y.path)r.existsSync(R)&&(A=R.endsWith(".vault")?R:`${R}.vault`);else A=y.path.endsWith(".vault")?y.path:`${y.path}.vault`;else A=n.resolve(process.cwd(),".env.vault");return r.existsSync(A)?A:null}function E(y){return y[0]==="~"?n.join(i.homedir(),y.slice(1)):y}function I(y){y&&y.debug&&f("Loading env from encrypted .env.vault");let A=$._parseVault(y),R=process.env;return y&&y.processEnv!=null&&(R=y.processEnv),$.populate(R,A,y),{parsed:A}}function O(y){let A=n.resolve(process.cwd(),".env"),R="utf8",D=!!(y&&y.debug);y&&y.encoding?R=y.encoding:D&&f("No encoding is specified. UTF-8 is used by default");let C=[A];if(y&&y.path)if(!Array.isArray(y.path))C=[E(y.path)];else{C=[];for(let M of y.path)C.push(E(M))}let q,k={};for(let M of C)try{let j=$.parse(r.readFileSync(M,{encoding:R}));$.populate(k,j,y)}catch(j){D&&f(`Failed to load ${M} ${j.message}`),q=j}let Q=process.env;return y&&y.processEnv!=null&&(Q=y.processEnv),$.populate(Q,k,y),q?{parsed:k,error:q}:{parsed:k}}function P(y){if(h(y).length===0)return $.configDotenv(y);let A=p(y);return A?$._configVault(y):(d(`You set DOTENV_KEY but you are missing a .env.vault file at ${A}. Did you forget to build it?`),$.configDotenv(y))}function U(y,A){let R=Buffer.from(A.slice(-64),"hex"),D=Buffer.from(y,"base64"),C=D.subarray(0,12),q=D.subarray(-16);D=D.subarray(12,-16);try{let k=s.createDecipheriv("aes-256-gcm",R,C);return k.setAuthTag(q),`${k.update(D)}${k.final()}`}catch(k){let Q=k instanceof RangeError,M=k.message==="Invalid key length",j=k.message==="Unsupported state or unable to authenticate data";if(Q||M){let Xt=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw Xt.code="INVALID_DOTENV_KEY",Xt}else if(j){let Xt=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw Xt.code="DECRYPTION_FAILED",Xt}else throw k}}function se(y,A,R={}){let D=!!(R&&R.debug),C=!!(R&&R.override);if(typeof A!="object"){let q=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw q.code="OBJECT_REQUIRED",q}for(let q of Object.keys(A))Object.prototype.hasOwnProperty.call(y,q)?(C===!0&&(y[q]=A[q]),D&&f(C===!0?`"${q}" is already defined and WAS overwritten`:`"${q}" is already defined and was NOT overwritten`)):y[q]=A[q]}var $={configDotenv:O,_configVault:I,_parseVault:u,config:P,decrypt:U,parse:c,populate:se};t.exports.configDotenv=$.configDotenv,t.exports._configVault=$._configVault,t.exports._parseVault=$._parseVault,t.exports.config=$.config,t.exports.decrypt=$.decrypt,t.exports.parse=$.parse,t.exports.populate=$.populate,t.exports=$}),K0=me((e,t)=>{"use strict";t.exports=(r={})=>{let n;if(r.repoUrl)n=r.repoUrl;else if(r.user&&r.repo)n=`https://github.com/${r.user}/${r.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let i=new URL(`${n}/issues/new`),s=["body","title","labels","template","milestone","assignee","projects"];for(let a of s){let o=r[a];if(o!==void 0){if(a==="labels"||a==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${a}\` option should be an array`);o=o.join(",")}i.searchParams.set(a,o)}}return i.toString()},t.exports.default=t.exports}),pl=me((e,t)=>{"use strict";t.exports=function(){function r(n,i,s,a,o){return n<i||s<i?n>s?s+1:n+1:a===o?i:i+1}return function(n,i){if(n===i)return 0;if(n.length>i.length){var s=n;n=i,i=s}for(var a=n.length,o=i.length;a>0&&n.charCodeAt(a-1)===i.charCodeAt(o-1);)a--,o--;for(var l=0;l<a&&n.charCodeAt(l)===i.charCodeAt(l);)l++;if(a-=l,o-=l,a===0||o<3)return o;var c=0,u,d,f,h,m,p,E,I,O,P,U,se,$=[];for(u=0;u<a;u++)$.push(u+1),$.push(n.charCodeAt(l+u));for(var y=$.length-1;c<o-3;)for(O=i.charCodeAt(l+(d=c)),P=i.charCodeAt(l+(f=c+1)),U=i.charCodeAt(l+(h=c+2)),se=i.charCodeAt(l+(m=c+3)),p=c+=4,u=0;u<y;u+=2)E=$[u],I=$[u+1],d=r(E,d,f,O,I),f=r(d,f,h,P,I),h=r(f,h,m,U,I),p=r(h,m,p,se,I),$[u]=p,m=h,h=f,f=d,d=E;for(;c<o;)for(O=i.charCodeAt(l+(d=c)),p=++c,u=0;u<y;u+=2)E=$[u],$[u]=p=r(E,d,p,O,$[u+1]),d=E;return p}}()}),J0=ll(()=>{"use strict"}),Q0=ll(()=>{"use strict"}),ml={};xt(ml,{DMMF:()=>tc,Debug:()=>ue,Decimal:()=>Ar,Extensions:()=>gl,MetricsClient:()=>Oc,PrismaClientInitializationError:()=>ee,PrismaClientKnownRequestError:()=>nt,PrismaClientRustPanicError:()=>tt,PrismaClientUnknownRequestError:()=>we,PrismaClientValidationError:()=>He,Public:()=>yl,Sql:()=>at,createParam:()=>ex,defineDmmfProperty:()=>dx,deserializeJsonResponse:()=>En,deserializeRawResult:()=>mu,dmmfToRuntimeDataModel:()=>zy,empty:()=>xx,getPrismaClient:()=>sv,getRuntime:()=>Uc,join:()=>bx,makeStrictEnum:()=>lv,makeTypedQueryFactory:()=>hx,objectEnumValues:()=>gc,raw:()=>qc,serializeJsonQuery:()=>$c,skip:()=>Pc,sqltag:()=>wx,warnEnvConflicts:()=>cv,warnOnce:()=>Ml});bu.exports=F0(ml);var gl={};xt(gl,{defineExtension:()=>Y0,getExtensionContext:()=>z0});function Y0(e){return typeof e=="function"?e:t=>t.$extends(e)}function z0(e){return e}var yl={};xt(yl,{validator:()=>X0});function X0(...e){return t=>t}var Ui={};xt(Ui,{$:()=>El,bgBlack:()=>lm,bgBlue:()=>fm,bgCyan:()=>pm,bgGreen:()=>um,bgMagenta:()=>hm,bgRed:()=>cm,bgWhite:()=>mm,bgYellow:()=>dm,black:()=>im,blue:()=>cr,bold:()=>$e,cyan:()=>gt,dim:()=>Er,gray:()=>xs,green:()=>mr,grey:()=>om,hidden:()=>rm,inverse:()=>tm,italic:()=>em,magenta:()=>sm,red:()=>yt,reset:()=>Z0,strikethrough:()=>nm,underline:()=>ve,white:()=>am,yellow:()=>Rr});var Bi,bl,xl,wl,vl=!0;typeof process<"u"&&({FORCE_COLOR:Bi,NODE_DISABLE_COLORS:bl,NO_COLOR:xl,TERM:wl}=process.env||{},vl=process.stdout&&process.stdout.isTTY);var El={enabled:!bl&&xl==null&&wl!=="dumb"&&(Bi!=null&&Bi!=="0"||vl)};function G(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(s){return!El.enabled||s==null?s:n+(~(""+s).indexOf(i)?s.replace(r,i+n):s)+i}}var Z0=G(0,0),$e=G(1,22),Er=G(2,22),em=G(3,23),ve=G(4,24),tm=G(7,27),rm=G(8,28),nm=G(9,29),im=G(30,39),yt=G(31,39),mr=G(32,39),Rr=G(33,39),cr=G(34,39),sm=G(35,39),gt=G(36,39),am=G(37,39),xs=G(90,39),om=G(90,39),lm=G(40,49),cm=G(41,49),um=G(42,49),dm=G(43,49),fm=G(44,49),hm=G(45,49),pm=G(46,49),mm=G(47,49),gm=100,go=["green","yellow","blue","magenta","cyan","red"],ur=[],yo=Date.now(),ym=0,Hi=typeof process<"u"?process.env:{};globalThis.DEBUG??=Hi.DEBUG??"";globalThis.DEBUG_COLORS??=Hi.DEBUG_COLORS?Hi.DEBUG_COLORS==="true":!0;var dr={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function bm(e){let t={color:go[ym++%go.length],enabled:dr.enabled(e),namespace:e,log:dr.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:s,color:a,log:o}=t;if(n.length!==0&&ur.push([s,...n]),ur.length>gm&&ur.shift(),dr.enabled(s)||i){let l=n.map(u=>typeof u=="string"?u:xm(u)),c=`+${Date.now()-yo}ms`;yo=Date.now(),globalThis.DEBUG_COLORS?o(Ui[a]($e(s)),...l,Ui[a](c)):o(s,...l,c)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,s)=>t[i]=s})}var ue=new Proxy(bm,{get:(e,t)=>dr[t],set:(e,t,r)=>dr[t]=r});function xm(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function wm(e=7500){let t=ur.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function vm(){ur.length=0}var ws=ue,Em=V(require("node:fs"));function Rm(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&Em.default.existsSync(e))&&process.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Sm=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],rn="libquery_engine";function Pm(e,t){let r=t==="url";return e.includes("windows")?r?"query_engine.dll.node":`query_engine-${e}.dll.node`:e.includes("darwin")?r?`${rn}.dylib.node`:`${rn}-${e}.dylib.node`:r?`${rn}.so.node`:`${rn}-${e}.so.node`}var Am=V(require("node:child_process")),Rl=V(require("node:fs/promises")),Gi=V(require("node:os")),We=Symbol.for("@ts-pattern/matcher"),$m=Symbol.for("@ts-pattern/isVariadic"),yn="@ts-pattern/anonymous-select-key",Wi=e=>!!(e&&typeof e=="object"),cn=e=>e&&!!e[We],je=(e,t,r)=>{if(cn(e)){let n=e[We](),{matched:i,selections:s}=n.match(t);return i&&s&&Object.keys(s).forEach(a=>r(a,s[a])),i}if(Wi(e)){if(!Wi(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],i=[],s=[];for(let a of e.keys()){let o=e[a];cn(o)&&o[$m]?s.push(o):s.length?i.push(o):n.push(o)}if(s.length){if(s.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+i.length)return!1;let a=t.slice(0,n.length),o=i.length===0?[]:t.slice(-i.length),l=t.slice(n.length,i.length===0?1/0:-i.length);return n.every((c,u)=>je(c,a[u],r))&&i.every((c,u)=>je(c,o[u],r))&&(s.length===0||je(s[0],l,r))}return e.length===t.length&&e.every((a,o)=>je(a,t[o],r))}return Reflect.ownKeys(e).every(n=>{let i=e[n];return(n in t||cn(s=i)&&s[We]().matcherType==="optional")&&je(i,t[n],r);var s})}return Object.is(t,e)},rt=e=>{var t,r,n;return Wi(e)?cn(e)?(t=(r=(n=e[We]()).getSelectionKeys)==null?void 0:r.call(n))!=null?t:[]:Array.isArray(e)?gr(e,rt):gr(Object.values(e),rt):[]},gr=(e,t)=>e.reduce((r,n)=>r.concat(t(n)),[]);function Ee(e){return Object.assign(e,{optional:()=>Tm(e),and:t=>Y(e,t),or:t=>Im(e,t),select:t=>t===void 0?bo(e):bo(t,e)})}function Tm(e){return Ee({[We]:()=>({match:t=>{let r={},n=(i,s)=>{r[i]=s};return t===void 0?(rt(e).forEach(i=>n(i,void 0)),{matched:!0,selections:r}):{matched:je(e,t,n),selections:r}},getSelectionKeys:()=>rt(e),matcherType:"optional"})})}function Y(...e){return Ee({[We]:()=>({match:t=>{let r={},n=(i,s)=>{r[i]=s};return{matched:e.every(i=>je(i,t,n)),selections:r}},getSelectionKeys:()=>gr(e,rt),matcherType:"and"})})}function Im(...e){return Ee({[We]:()=>({match:t=>{let r={},n=(i,s)=>{r[i]=s};return gr(e,rt).forEach(i=>n(i,void 0)),{matched:e.some(i=>je(i,t,n)),selections:r}},getSelectionKeys:()=>gr(e,rt),matcherType:"or"})})}function L(e){return{[We]:()=>({match:t=>({matched:!!e(t)})})}}function bo(...e){let t=typeof e[0]=="string"?e[0]:void 0,r=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return Ee({[We]:()=>({match:n=>{let i={[t??yn]:n};return{matched:r===void 0||je(r,n,(s,a)=>{i[s]=a}),selections:i}},getSelectionKeys:()=>[t??yn].concat(r===void 0?[]:rt(r))})})}function _e(e){return typeof e=="number"}function Qe(e){return typeof e=="string"}function Ye(e){return typeof e=="bigint"}var d4=Ee(L(function(e){return!0})),ze=e=>Object.assign(Ee(e),{startsWith:t=>{return ze(Y(e,(r=t,L(n=>Qe(n)&&n.startsWith(r)))));var r},endsWith:t=>{return ze(Y(e,(r=t,L(n=>Qe(n)&&n.endsWith(r)))));var r},minLength:t=>ze(Y(e,(r=>L(n=>Qe(n)&&n.length>=r))(t))),length:t=>ze(Y(e,(r=>L(n=>Qe(n)&&n.length===r))(t))),maxLength:t=>ze(Y(e,(r=>L(n=>Qe(n)&&n.length<=r))(t))),includes:t=>{return ze(Y(e,(r=t,L(n=>Qe(n)&&n.includes(r)))));var r},regex:t=>{return ze(Y(e,(r=t,L(n=>Qe(n)&&!!n.match(r)))));var r}}),f4=ze(L(Qe)),qe=e=>Object.assign(Ee(e),{between:(t,r)=>qe(Y(e,((n,i)=>L(s=>_e(s)&&n<=s&&i>=s))(t,r))),lt:t=>qe(Y(e,(r=>L(n=>_e(n)&&n<r))(t))),gt:t=>qe(Y(e,(r=>L(n=>_e(n)&&n>r))(t))),lte:t=>qe(Y(e,(r=>L(n=>_e(n)&&n<=r))(t))),gte:t=>qe(Y(e,(r=>L(n=>_e(n)&&n>=r))(t))),int:()=>qe(Y(e,L(t=>_e(t)&&Number.isInteger(t)))),finite:()=>qe(Y(e,L(t=>_e(t)&&Number.isFinite(t)))),positive:()=>qe(Y(e,L(t=>_e(t)&&t>0))),negative:()=>qe(Y(e,L(t=>_e(t)&&t<0)))}),h4=qe(L(_e)),Xe=e=>Object.assign(Ee(e),{between:(t,r)=>Xe(Y(e,((n,i)=>L(s=>Ye(s)&&n<=s&&i>=s))(t,r))),lt:t=>Xe(Y(e,(r=>L(n=>Ye(n)&&n<r))(t))),gt:t=>Xe(Y(e,(r=>L(n=>Ye(n)&&n>r))(t))),lte:t=>Xe(Y(e,(r=>L(n=>Ye(n)&&n<=r))(t))),gte:t=>Xe(Y(e,(r=>L(n=>Ye(n)&&n>=r))(t))),positive:()=>Xe(Y(e,L(t=>Ye(t)&&t>0))),negative:()=>Xe(Y(e,L(t=>Ye(t)&&t<0)))}),p4=Xe(L(Ye)),m4=Ee(L(function(e){return typeof e=="boolean"})),g4=Ee(L(function(e){return typeof e=="symbol"})),y4=Ee(L(function(e){return e==null})),b4=Ee(L(function(e){return e!=null})),Om=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},Ki={matched:!1,value:void 0};function An(e){return new Nm(e,Ki)}var Nm=class Ji{constructor(t,r){this.input=void 0,this.state=void 0,this.input=t,this.state=r}with(...t){if(this.state.matched)return this;let r=t[t.length-1],n=[t[0]],i;t.length===3&&typeof t[1]=="function"?i=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let s=!1,a={},o=(c,u)=>{s=!0,a[c]=u},l=!n.some(c=>je(c,this.input,o))||i&&!i(this.input)?Ki:{matched:!0,value:r(s?yn in a?a[yn]:a:this.input,this.input)};return new Ji(this.input,l)}when(t,r){if(this.state.matched)return this;let n=!!t(this.input);return new Ji(this.input,n?{matched:!0,value:r(this.input,this.input)}:Ki)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new Om(this.input)}run(){return this.exhaustive()}returnType(){return this}},_m=require("node:util"),qm={warn:Rr("prisma:warn")},Cm={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function _i(e,...t){Cm.warn()&&console.warn(`${qm.warn} ${e}`,...t)}var jm=(0,_m.promisify)(Am.default.exec),ce=ws("prisma:get-platform"),Dm=["1.0.x","1.1.x","3.0.x"];async function km(){let e=Gi.default.platform(),t=process.arch;if(e==="freebsd"){let a=await bn("freebsd-version");if(a&&a.trim().length>0){let o=/^(\d+)\.?/.exec(a);if(o)return{platform:"freebsd",targetDistro:`freebsd${o[1]}`,arch:t}}}if(e!=="linux")return{platform:e,arch:t};let r=await Fm(),n=await Jm(),i=Mm({arch:t,archFromUname:n,familyDistro:r.familyDistro}),{libssl:s}=await Um(i);return{platform:"linux",libssl:s,arch:t,archFromUname:n,...r}}function Lm(e){let t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),i=n&&n[1]&&n[1].toLowerCase()||"",s=r.exec(e),a=s&&s[1]&&s[1].toLowerCase()||"",o=An({id:i,idLike:a}).with({id:"alpine"},({id:l})=>({targetDistro:"musl",familyDistro:l,originalDistro:l})).with({id:"raspbian"},({id:l})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:l})).with({id:"nixos"},({id:l})=>({targetDistro:"nixos",originalDistro:l,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:l})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:l})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:l})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:l})).when(({idLike:l})=>l.includes("debian")||l.includes("ubuntu"),({id:l})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:l})).when(({idLike:l})=>i==="arch"||l.includes("arch"),({id:l})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:l})).when(({idLike:l})=>l.includes("centos")||l.includes("fedora")||l.includes("rhel")||l.includes("suse"),({id:l})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:l})).otherwise(({id:l})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:l}));return ce(`Found distro info:
${JSON.stringify(o,null,2)}`),o}async function Fm(){let e="/etc/os-release";try{let t=await Rl.default.readFile(e,{encoding:"utf-8"});return Lm(t)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function Vm(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t){let r=`${t[1]}.x`;return Sl(r)}}function xo(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t){let r=`${t[1]}${t[2]??".0"}.x`;return Sl(r)}}function Sl(e){let t=(()=>{if(Al(e))return e;let r=e.split(".");return r[1]="0",r.join(".")})();if(Dm.includes(t))return t}function Mm(e){return An(e).with({familyDistro:"musl"},()=>(ce('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:t})=>(ce('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${t}-linux-gnu`,`/lib/${t}-linux-gnu`])).with({familyDistro:"rhel"},()=>(ce('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:t,arch:r,archFromUname:n})=>(ce(`Don't know any platform-specific paths for "${t}" on ${r} (${n})`),[]))}async function Um(e){let t='grep -v "libssl.so.0"',r=await wo(e);if(r){ce(`Found libssl.so file using platform-specific paths: ${r}`);let s=xo(r);if(ce(`The parsed libssl version is: ${s}`),s)return{libssl:s,strategy:"libssl-specific-path"}}ce('Falling back to "ldconfig" and other generic paths');let n=await bn(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${t}`);if(n||(n=await wo(["/lib64","/usr/lib64","/lib","/usr/lib"])),n){ce(`Found libssl.so file using "ldconfig" or other generic paths: ${n}`);let s=xo(n);if(ce(`The parsed libssl version is: ${s}`),s)return{libssl:s,strategy:"ldconfig"}}let i=await bn("openssl version -v");if(i){ce(`Found openssl binary with version: ${i}`);let s=Vm(i);if(ce(`The parsed openssl version is: ${s}`),s)return{libssl:s,strategy:"openssl-binary"}}return ce("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function wo(e){for(let t of e){let r=await Bm(t);if(r)return r}}async function Bm(e){try{return(await Rl.default.readdir(e)).find(t=>t.startsWith("libssl.so.")&&!t.startsWith("libssl.so.0"))}catch(t){if(t.code==="ENOENT")return;throw t}}async function vs(){let{binaryTarget:e}=await Pl();return e}function Hm(e){return e.binaryTarget!==void 0}async function Gm(){let{memoized:e,...t}=await Pl();return t}var nn={};async function Pl(){if(Hm(nn))return Promise.resolve({...nn,memoized:!0});let e=await km(),t=Wm(e);return nn={...e,binaryTarget:t},{...nn,memoized:!1}}function Wm(e){let{platform:t,arch:r,archFromUname:n,libssl:i,targetDistro:s,familyDistro:a,originalDistro:o}=e;t==="linux"&&!["x64","arm64"].includes(r)&&_i(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let l="1.1.x";if(t==="linux"&&i===void 0){let u=An({familyDistro:a}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");_i(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${u}`)}let c="debian";if(t==="linux"&&s===void 0&&ce(`Distro is "${o}". Falling back to Prisma engines built for "${c}".`),t==="darwin"&&r==="arm64")return"darwin-arm64";if(t==="darwin")return"darwin";if(t==="win32")return"windows";if(t==="freebsd")return s;if(t==="openbsd")return"openbsd";if(t==="netbsd")return"netbsd";if(t==="linux"&&s==="nixos")return"linux-nixos";if(t==="linux"&&r==="arm64")return`${s==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if(t==="linux"&&r==="arm")return`linux-arm-openssl-${i||l}`;if(t==="linux"&&s==="musl"){let u="linux-musl";return!i||Al(i)?u:`${u}-openssl-${i}`}return t==="linux"&&s&&i?`${s}-openssl-${i}`:(t!=="linux"&&_i(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${c}-openssl-${i}`:s?`${s}-openssl-${l}`:`${c}-openssl-${l}`)}async function Km(e){try{return await e()}catch{return}}function bn(e){return Km(async()=>{let t=await jm(e);return ce(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function Jm(){return typeof Gi.default.machine=="function"?Gi.default.machine():(await bn("uname -m"))?.trim()}function Al(e){return e.startsWith("1.")}var $l={};xt($l,{beep:()=>wg,clearScreen:()=>gg,clearTerminal:()=>yg,cursorBackward:()=>tg,cursorDown:()=>Zm,cursorForward:()=>eg,cursorGetPosition:()=>ig,cursorHide:()=>og,cursorLeft:()=>Ol,cursorMove:()=>Xm,cursorNextLine:()=>sg,cursorPrevLine:()=>ag,cursorRestorePosition:()=>ng,cursorSavePosition:()=>rg,cursorShow:()=>lg,cursorTo:()=>zm,cursorUp:()=>Il,enterAlternativeScreen:()=>bg,eraseDown:()=>fg,eraseEndLine:()=>ug,eraseLine:()=>Nl,eraseLines:()=>cg,eraseScreen:()=>Qi,eraseStartLine:()=>dg,eraseUp:()=>hg,exitAlternativeScreen:()=>xg,iTerm:()=>Rg,image:()=>Eg,link:()=>vg,scrollDown:()=>mg,scrollUp:()=>pg});var Es=V(require("node:process"),1),Rs=globalThis.window?.document!==void 0,x4=globalThis.process?.versions?.node!==void 0,w4=globalThis.process?.versions?.bun!==void 0,v4=globalThis.Deno?.version?.deno!==void 0,E4=globalThis.process?.versions?.electron!==void 0,R4=globalThis.navigator?.userAgent?.includes("jsdom")===!0,S4=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,P4=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,A4=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,$4=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Sr=globalThis.navigator?.userAgentData?.platform,T4=Sr==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",I4=Sr==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",O4=Sr==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",N4=Sr==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),_4=Sr==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",F="\x1B[",yr="\x1B]",Ot="\x07",or=";",Tl=!Rs&&Es.default.env.TERM_PROGRAM==="Apple_Terminal",Qm=!Rs&&Es.default.platform==="win32",Ym=Rs?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Es.default.cwd,zm=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?F+(e+1)+"G":F+(t+1)+or+(e+1)+"H"},Xm=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=F+-e+"D":e>0&&(r+=F+e+"C"),t<0?r+=F+-t+"A":t>0&&(r+=F+t+"B"),r},Il=(e=1)=>F+e+"A",Zm=(e=1)=>F+e+"B",eg=(e=1)=>F+e+"C",tg=(e=1)=>F+e+"D",Ol=F+"G",rg=Tl?"\x1B7":F+"s",ng=Tl?"\x1B8":F+"u",ig=F+"6n",sg=F+"E",ag=F+"F",og=F+"?25l",lg=F+"?25h",cg=e=>{let t="";for(let r=0;r<e;r++)t+=Nl+(r<e-1?Il():"");return e&&(t+=Ol),t},ug=F+"K",dg=F+"1K",Nl=F+"2K",fg=F+"J",hg=F+"1J",Qi=F+"2J",pg=F+"S",mg=F+"T",gg="\x1Bc",yg=Qm?`${Qi}${F}0f`:`${Qi}${F}3J${F}H`,bg=F+"?1049h",xg=F+"?1049l",wg=Ot,vg=(e,t)=>[yr,"8",or,or,t,Ot,e,yr,"8",or,or,Ot].join(""),Eg=(e,t={})=>{let r=`${yr}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+Ot},Rg={setCwd:(e=Ym())=>`${yr}50;CurrentDir=${e}${Ot}`,annotation(e,t={}){let r=`${yr}1337;`,n=t.x!==void 0,i=t.y!==void 0;if((n||i)&&!(n&&i&&t.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Ot}},Ss=V(M0(),1);function br(e,t,{target:r="stdout",...n}={}){return Ss.default[r]?$l.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (\u200B${t}\u200B)`}br.isSupported=Ss.default.stdout;br.stderr=(e,t,r={})=>br(e,t,{target:"stderr",...r});br.stderr.isSupported=Ss.default.stderr;function Sg(e){return br(e,e,{fallback:ve})}var Pg=U0(),Ag=Pg.version;function Yi(e){return $g()||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":Tg(e))}function $g(){let e=process.env.PRISMA_CLIENT_ENGINE_TYPE;return e==="library"?"library":e==="binary"?"binary":e==="client"?"client":void 0}function Tg(e){return e?.previewFeatures.includes("queryCompiler")?"client":"library"}function _l(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}function Ps(e){return{ok:!0,value:e,map(t){return Ps(t(e))},flatMap(t){return t(e)}}}function Nt(e){return{ok:!1,error:e,map(){return Nt(e)},flatMap(){return Nt(e)}}}var ql=ue("driver-adapter-utils"),Ig=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;this.registeredErrors[t]!==void 0;)t++;return this.registeredErrors[t]={error:e},t}},vo=(e,t=new Ig)=>{let r={adapterName:e.adapterName,errorRegistry:t,queryRaw:Be(t,e.queryRaw.bind(e)),executeRaw:Be(t,e.executeRaw.bind(e)),executeScript:Be(t,e.executeScript.bind(e)),dispose:Be(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...n)=>(await Be(t,e.startTransaction.bind(e))(...n)).map(i=>Og(t,i))};return e.getConnectionInfo&&(r.getConnectionInfo=Ng(t,e.getConnectionInfo.bind(e))),r},Og=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:Be(e,t.queryRaw.bind(t)),executeRaw:Be(e,t.executeRaw.bind(t)),commit:Be(e,t.commit.bind(t)),rollback:Be(e,t.rollback.bind(t))});function Be(e,t){return async(...r)=>{try{return Ps(await t(...r))}catch(n){if(ql("[error@wrapAsync]",n),_l(n))return Nt(n.cause);let i=e.registerNewError(n);return Nt({kind:"GenericJs",id:i})}}}function Ng(e,t){return(...r)=>{try{return Ps(t(...r))}catch(n){if(ql("[error@wrapSync]",n),_l(n))return Nt(n.cause);let i=e.registerNewError(n);return Nt({kind:"GenericJs",id:i})}}}var q4=V(bs()),K=V(require("node:path")),C4=V(bs()),j4=ue("prisma:engines");function _g(){return K.default.join(__dirname,"../")}K.default.join(__dirname,"../query-engine-darwin");K.default.join(__dirname,"../query-engine-darwin-arm64");K.default.join(__dirname,"../query-engine-debian-openssl-1.0.x");K.default.join(__dirname,"../query-engine-debian-openssl-1.1.x");K.default.join(__dirname,"../query-engine-debian-openssl-3.0.x");K.default.join(__dirname,"../query-engine-linux-static-x64");K.default.join(__dirname,"../query-engine-linux-static-arm64");K.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x");K.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x");K.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x");K.default.join(__dirname,"../libquery_engine-darwin.dylib.node");K.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");K.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");K.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");K.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-musl.so.node");K.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");K.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");K.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");K.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");K.default.join(__dirname,"../query_engine-windows.dll.node");var Eo=V(require("node:fs")),Ro=ws("chmodPlusX");function qg(e){if(process.platform==="win32")return;let t=Eo.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){Ro(`Execution permissions of ${e} are fine`);return}let n=r.toString(8).slice(-3);Ro(`Have to call chmodPlusX on ${e}`),Eo.default.chmodSync(e,n)}function Cg(e){let t=e.e,r=o=>`Prisma cannot find the required \`${o}\` system library in your system`,n=t.message.includes("cannot open shared object file"),i=`Please refer to the documentation about Prisma's system requirements: ${Sg("https://pris.ly/d/system-requirements")}`,s=`Unable to require(\`${Er(e.id)}\`).`,a=An({message:t.message,code:t.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:o})=>n&&o.includes("libz"),()=>`${r("libz")}. Please install it and try again.`).when(({message:o})=>n&&o.includes("libgcc_s"),()=>`${r("libgcc_s")}. Please install it and try again.`).when(({message:o})=>n&&o.includes("libssl"),()=>{let o=e.platformInfo.libssl?`openssl-${e.platformInfo.libssl}`:"openssl";return`${r("libssl")}. Please install ${o} and try again.`}).when(({message:o})=>o.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${i}`).when(({message:o})=>e.platformInfo.platform==="linux"&&o.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${e.platformInfo.originalDistro} on (${e.platformInfo.archFromUname}) which uses the \`${e.platformInfo.binaryTarget}\` binaryTarget by default. ${i}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${i}`);return`${s}
${a}

Details: ${t.message}`}var jg=V(B0(),1);function Dg(e){let t=(0,jg.default)(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}var kg="prisma+postgres",Cl=`${kg}:`;function jl(e){return e?.toString().startsWith(`${Cl}//`)??!1}function Lg(e){if(!jl(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Fg=V(fl());function Vg(e){return String(new Mg(e))}var Mg=class{constructor(e){this.config=e}toString(){let{config:e}=this,t=e.provider.fromEnvVar?`env("${e.provider.fromEnvVar}")`:e.provider.value,r=JSON.parse(JSON.stringify({provider:t,binaryTargets:Ug(e.binaryTargets)}));return`generator ${e.name} {
${(0,Fg.default)(Bg(r),2)}
}`}};function Ug(e){let t;if(e.length>0){let r=e.find(n=>n.fromEnvVar!==null);r?t=`env("${r.fromEnvVar}")`:t=e.map(n=>n.native?"native":n.value)}else t=void 0;return t}function Bg(e){let t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${Hg(n)}`).join(`
`)}function Hg(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}var zi={};xt(zi,{error:()=>Kg,info:()=>Wg,log:()=>Gg,query:()=>Jg,should:()=>Dl,tags:()=>Pr,warn:()=>kl});var Pr={error:yt("prisma:error"),warn:Rr("prisma:warn"),info:gt("prisma:info"),query:cr("prisma:query")},Dl={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Gg(...e){console.log(...e)}function kl(e,...t){Dl.warn()&&console.warn(`${Pr.warn} ${e}`,...t)}function Wg(e,...t){console.info(`${Pr.info} ${e}`,...t)}function Kg(e,...t){console.error(`${Pr.error} ${e}`,...t)}function Jg(e,...t){console.log(`${Pr.query} ${e}`,...t)}function So(e,t){if(!e)throw new Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function $n(e,t){throw new Error(t)}var sn=V(require("node:path"));function Qg(e){return sn.default.sep===sn.default.posix.sep?e:e.split(sn.default.sep).join(sn.default.posix.sep)}var Ll=V(W0()),Xi=V(require("node:fs")),xr=V(require("node:path"));function Yg(e){let t=e.ignoreProcessEnv?{}:process.env,r=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(i,s){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(s);if(!a)return i;let o=a[1],l,c;if(o==="\\")c=a[0],l=c.replace("\\$","$");else{let u=a[2];c=a[0].substring(o.length),l=Object.hasOwnProperty.call(t,u)?t[u]:e.parsed[u]||"",l=r(l)}return i.replace(c,l)},n)??n;for(let n in e.parsed){let i=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=r(i)}for(let n in e.parsed)t[n]=e.parsed[n];return e}var Zi=ws("prisma:tryLoadEnv");function Fl({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let n=Po(e);r.conflictCheck!=="none"&&zg(n,t,r.conflictCheck);let i=null;return Vl(n?.path,t)||(i=Po(t)),!n&&!i&&Zi("No Environment variables loaded"),i?.dotenvResult.error?console.error(yt($e("Schema Env Error: "))+i.dotenvResult.error):{message:[n?.message,i?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function zg(e,t,r){let n=e?.dotenvResult.parsed,i=!Vl(e?.path,t);if(n&&t&&i&&Xi.default.existsSync(t)){let s=Ll.default.parse(Xi.default.readFileSync(t)),a=[];for(let o in s)n[o]===s[o]&&a.push(o);if(a.length>0){let o=xr.default.relative(process.cwd(),e.path),l=xr.default.relative(process.cwd(),t);if(r==="error"){let c=`There is a conflict between env var${a.length>1?"s":""} in ${ve(o)} and ${ve(l)}
Conflicting env vars:
${a.map(u=>`  ${$e(u)}`).join(`
`)}

We suggest to move the contents of ${ve(l)} to ${ve(o)} to consolidate your env vars.
`;throw new Error(c)}else if(r==="warn"){let c=`Conflict for env var${a.length>1?"s":""} ${a.map(u=>$e(u)).join(", ")} in ${ve(o)} and ${ve(l)}
Env vars from ${ve(l)} overwrite the ones from ${ve(o)}
      `;console.warn(`${Rr("warn(prisma)")} ${c}`)}}}}function Po(e){if(Xg(e)){Zi(`Environment variables loaded from ${e}`);let t=Ll.default.config({path:e,debug:process.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:Yg(t),message:Er(`Environment variables loaded from ${xr.default.relative(process.cwd(),e)}`),path:e}}else Zi(`Environment variables not found at ${e}`);return null}function Vl(e,t){return e&&t&&xr.default.resolve(e)===xr.default.resolve(t)}function Xg(e){return!!(e&&Xi.default.existsSync(e))}function Zg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function As(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function ey(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function X(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Ao=new Set,Ml=(e,t,...r)=>{Ao.has(e)||(Ao.add(e),kl(t,...r))},ee=class Ul extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(Ul)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};X(ee,"PrismaClientInitializationError");var nt=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};X(nt,"PrismaClientKnownRequestError");var tt=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};X(tt,"PrismaClientRustPanicError");var we=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};X(we,"PrismaClientUnknownRequestError");var He=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};X(He,"PrismaClientValidationError");var It=9e15,st=1e9,es="0123456789abcdef",xn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ts={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-It,maxE:It,crypto:!1},Bl,Ge,T=!0,Tn="[DecimalError] ",it=Tn+"Invalid argument: ",Hl=Tn+"Precision limit exceeded",Gl=Tn+"crypto unavailable",Wl="[object Decimal]",ae=Math.floor,re=Math.pow,ty=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ry=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ny=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Kl=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Te=1e7,S=7,iy=9007199254740991,sy=xn.length-1,rs=wn.length-1,g={toStringTag:Wl};g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),v(e)};g.ceil=function(){return v(new this.constructor(this),this.e+1,2)};g.clampedTo=g.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(it+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};g.comparedTo=g.cmp=function(e){var t,r,n,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,l=s.s,c=e.s;if(!a||!o)return!l||!c?NaN:l!==c?l:a===o?0:!a^l<0?1:-1;if(!a[0]||!o[0])return a[0]?l:o[0]?-c:0;if(l!==c)return l;if(s.e!==e.e)return s.e>e.e^l<0?1:-1;for(n=a.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};g.cosine=g.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+S,n.rounding=1,r=ay(n,Xl(n,r)),n.precision=e,n.rounding=t,v(Ge==2||Ge==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};g.cubeRoot=g.cbrt=function(){var e,t,r,n,i,s,a,o,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(T=!1,s=u.s*re(u.s*u,1/3),!s||Math.abs(s)==1/0?(r=ie(u.d),e=u.e,(s=(e-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=re(r,1/3),e=ae((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new d(r),n.s=u.s):n=new d(s.toString()),a=(e=d.precision)+3;;)if(o=n,l=o.times(o).times(o),c=l.plus(u),n=B(c.plus(u).times(o),c.plus(l),a+2,1),ie(o.d).slice(0,a)===(r=ie(n.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!i&&r=="4999"){if(!i&&(v(o,e+1,0),o.times(o).times(o).eq(u))){n=o;break}a+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(v(n,e+1,1),t=!n.times(n).times(n).eq(u));break}return T=!0,v(n,e,d.rounding,t)};g.decimalPlaces=g.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-ae(this.e/S))*S,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};g.dividedBy=g.div=function(e){return B(this,new this.constructor(e))};g.dividedToIntegerBy=g.divToInt=function(e){var t=this,r=t.constructor;return v(B(t,new r(e),0,1,1),r.precision,r.rounding)};g.equals=g.eq=function(e){return this.cmp(e)===0};g.floor=function(){return v(new this.constructor(this),this.e+1,3)};g.greaterThan=g.gt=function(e){return this.cmp(e)>0};g.greaterThanOrEqualTo=g.gte=function(e){var t=this.cmp(e);return t==1||t===0};g.hyperbolicCosine=g.cosh=function(){var e,t,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,i=s.d.length,i<32?(e=Math.ceil(i/3),t=(1/On(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=_t(a,1,s.times(t),new a(1),!0);for(var l,c=e,u=new a(8);c--;)l=s.times(s),s=o.minus(l.times(u.minus(l.times(u))));return v(s,a.precision=r,a.rounding=n,!0)};g.hyperbolicSine=g.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=_t(s,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/On(5,e)),i=_t(s,2,i,i,!0);for(var a,o=new s(5),l=new s(16),c=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(l.times(a).plus(c))))}return s.precision=t,s.rounding=r,v(i,t,r,!0)};g.hyperbolicTangent=g.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,B(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};g.inverseCosine=g.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?De(t,n,i):new t(0):new t(NaN):e.isZero()?De(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};g.inverseHyperbolicCosine=g.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,T=!1,r=r.times(r).minus(1).sqrt().plus(r),T=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};g.inverseHyperbolicSine=g.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,T=!1,r=r.times(r).plus(1).sqrt().plus(r),T=!0,n.precision=e,n.rounding=t,r.ln())};g.inverseHyperbolicTangent=g.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?v(new s(i),e,t,!0):(s.precision=r=n-i.e,i=B(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)};g.inverseSine=g.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,t!==-1?t===0?(e=De(s,r+4,n).times(.5),e.s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))};g.inverseTangent=g.atan=function(){var e,t,r,n,i,s,a,o,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=rs)return a=De(u,d+4,f).times(.25),a.s=c.s,a}else{if(!c.s)return new u(NaN);if(d+4<=rs)return a=De(u,d+4,f).times(.5),a.s=c.s,a}for(u.precision=o=d+10,u.rounding=1,r=Math.min(28,o/S+2|0),e=r;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(T=!1,t=Math.ceil(o/S),n=1,l=c.times(c),a=new u(c),i=c;e!==-1;)if(i=i.times(l),s=a.minus(i.div(n+=2)),i=i.times(l),a=s.plus(i.div(n+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===s.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),T=!0,v(a,u.precision=d,u.rounding=f,!0)};g.isFinite=function(){return!!this.d};g.isInteger=g.isInt=function(){return!!this.d&&ae(this.e/S)>this.d.length-2};g.isNaN=function(){return!this.s};g.isNegative=g.isNeg=function(){return this.s<0};g.isPositive=g.isPos=function(){return this.s>0};g.isZero=function(){return!!this.d&&this.d[0]===0};g.lessThan=g.lt=function(e){return this.cmp(e)<0};g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1};g.logarithm=g.log=function(e){var t,r,n,i,s,a,o,l,c=this,u=c.constructor,d=u.precision,f=u.rounding,h=5;if(e==null)e=new u(10),t=!0;else{if(e=new u(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new u(r&&!r[0]?-1/0:c.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(i=r[0];i%10===0;)i/=10;s=i!==1}if(T=!1,o=d+h,a=et(c,o),n=t?vn(u,o+10):et(e,o),l=B(a,n,o,1),wr(l.d,i=d,f))do if(o+=10,a=et(c,o),n=t?vn(u,o+10):et(e,o),l=B(a,n,o,1),!s){+ie(l.d).slice(i+1,i+15)+1==1e14&&(l=v(l,d+1,0));break}while(wr(l.d,i+=10,f));return T=!0,v(l,d,f)};g.minus=g.sub=function(e){var t,r,n,i,s,a,o,l,c,u,d,f,h=this,m=h.constructor;if(e=new m(e),!h.d||!e.d)return!h.s||!e.s?e=new m(NaN):h.d?e.s=-e.s:e=new m(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(c=h.d,f=e.d,o=m.precision,l=m.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else if(c[0])e=new m(h);else return new m(l===3?-0:0);return T?v(e,o,l):e}if(r=ae(e.e/S),u=ae(h.e/S),c=c.slice(),s=u-r,s){for(d=s<0,d?(t=c,s=-s,a=f.length):(t=f,r=u,a=c.length),n=Math.max(Math.ceil(o/S),a)+2,s>n&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for(n=c.length,a=f.length,d=n<a,d&&(a=n),n=0;n<a;n++)if(c[n]!=f[n]){d=c[n]<f[n];break}s=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),a=c.length,n=f.length-a;n>0;--n)c[a++]=0;for(n=f.length;n>s;){if(c[--n]<f[n]){for(i=n;i&&c[--i]===0;)c[i]=Te-1;--c[i],c[n]+=Te}c[n]-=f[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=In(c,r),T?v(e,o,l):e):new m(l===3?-0:0)};g.modulo=g.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?v(new n(r),n.precision,n.rounding):(T=!1,n.modulo==9?(t=B(r,e.abs(),0,3,1),t.s*=e.s):t=B(r,e,0,n.modulo,1),t=t.times(e),T=!0,r.minus(t))};g.naturalExponential=g.exp=function(){return ns(this)};g.naturalLogarithm=g.ln=function(){return et(this)};g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s,v(e)};g.plus=g.add=function(e){var t,r,n,i,s,a,o,l,c,u,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return!d.s||!e.s?e=new f(NaN):d.d||(e=new f(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,u=e.d,o=f.precision,l=f.rounding,!c[0]||!u[0])return u[0]||(e=new f(d)),T?v(e,o,l):e;if(s=ae(d.e/S),n=ae(e.e/S),c=c.slice(),i=s-n,i){for(i<0?(r=c,i=-i,a=u.length):(r=u,n=s,a=c.length),s=Math.ceil(o/S),a=s>a?s+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=c.length,i=u.length,a-i<0&&(i=a,r=u,u=c,c=r),t=0;i;)t=(c[--i]=c[i]+u[i]+t)/Te|0,c[i]%=Te;for(t&&(c.unshift(t),++n),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=In(c,n),T?v(e,o,l):e};g.precision=g.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(it+e);return r.d?(t=Jl(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};g.round=function(){var e=this,t=e.constructor;return v(new t(e),e.e+1,t.rounding)};g.sine=g.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+S,n.rounding=1,r=ly(n,Xl(n,r)),n.precision=e,n.rounding=t,v(Ge>2?r.neg():r,e,t,!0)):new n(NaN)};g.squareRoot=g.sqrt=function(){var e,t,r,n,i,s,a=this,o=a.d,l=a.e,c=a.s,u=a.constructor;if(c!==1||!o||!o[0])return new u(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);for(T=!1,c=Math.sqrt(+a),c==0||c==1/0?(t=ie(o),(t.length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=ae((l+1)/2)-(l<0||l%2),c==1/0?t="5e"+l:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new u(t)):n=new u(c.toString()),r=(l=u.precision)+3;;)if(s=n,n=s.plus(B(a,s,r+2,1)).times(.5),ie(s.d).slice(0,r)===(t=ie(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(v(s,l+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(v(n,l+1,1),e=!n.times(n).eq(a));break}return T=!0,v(n,l,u.rounding,e)};g.tangent=g.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=B(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,v(Ge==2||Ge==4?r.neg():r,e,t,!0)):new n(NaN)};g.times=g.mul=function(e){var t,r,n,i,s,a,o,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(e.s*=u.s,!f||!f[0]||!h||!h[0])return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:!f||!h?e.s/0:e.s*0);for(r=ae(u.e/S)+ae(e.e/S),l=f.length,c=h.length,l<c&&(s=f,f=h,h=s,a=l,l=c,c=a),s=[],a=l+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=s[i]+h[n]*f[i-n-1]+t,s[i--]=o%Te|0,t=o/Te|0;s[i]=(s[i]+t)%Te|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=In(s,r),T?v(e,d.precision,d.rounding):e};g.toBinary=function(e,t){return $s(this,2,e,t)};g.toDecimalPlaces=g.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pe(e,0,st),t===void 0?t=n.rounding:pe(t,0,8),v(r,e+r.e+1,t))};g.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Le(n,!0):(pe(e,0,st),t===void 0?t=i.rounding:pe(t,0,8),n=v(new i(n),e+1,t),r=Le(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};g.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?r=Le(i):(pe(e,0,st),t===void 0?t=s.rounding:pe(t,0,8),n=v(new s(i),e+i.e+1,t),r=Le(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};g.toFraction=function(e){var t,r,n,i,s,a,o,l,c,u,d,f,h=this,m=h.d,p=h.constructor;if(!m)return new p(h);if(c=r=new p(1),n=l=new p(0),t=new p(n),s=t.e=Jl(m)-h.e-1,a=s%S,t.d[0]=re(10,a<0?S+a:a),e==null)e=s>0?t:c;else{if(o=new p(e),!o.isInt()||o.lt(c))throw Error(it+o);e=o.gt(t)?s>0?t:c:o}for(T=!1,o=new p(ie(m)),u=p.precision,p.precision=s=m.length*S*2;d=B(o,t,0,1,1),i=r.plus(d.times(n)),i.cmp(e)!=1;)r=n,n=i,i=c,c=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=B(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=h.s,f=B(c,n,s,1).minus(h).abs().cmp(B(l,r,s,1).minus(h).abs())<1?[c,n]:[l,r],p.precision=u,T=!0,f};g.toHexadecimal=g.toHex=function(e,t){return $s(this,16,e,t)};g.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:pe(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(T=!1,r=B(r,e,0,t,1).times(e),T=!0,v(r)):(e.s=r.s,r=e),r};g.toNumber=function(){return+this};g.toOctal=function(e,t){return $s(this,8,e,t)};g.toPower=g.pow=function(e){var t,r,n,i,s,a,o=this,l=o.constructor,c=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(re(+o,c));if(o=new l(o),o.eq(1))return o;if(n=l.precision,s=l.rounding,e.eq(1))return v(o,n,s);if(t=ae(e.e/S),t>=e.d.length-1&&(r=c<0?-c:c)<=iy)return i=Ql(l,o,r,n),e.s<0?new l(1).div(i):v(i,n,s);if(a=o.s,a<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(a=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=a,o}return r=re(+o,c),t=r==0||!isFinite(r)?ae(c*(Math.log("0."+ie(o.d))/Math.LN10+o.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(T=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),i=ns(e.times(et(o,n+r)),n),i.d&&(i=v(i,n+5,1),wr(i.d,n,s)&&(t=n+10,i=v(ns(e.times(et(o,t+r)),t),t+5,1),+ie(i.d).slice(n+1,n+15)+1==1e14&&(i=v(i,n+1,0)))),i.s=a,T=!0,l.rounding=s,v(i,n,s))};g.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Le(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(pe(e,1,st),t===void 0?t=i.rounding:pe(t,0,8),n=v(new i(n),e,t),r=Le(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};g.toSignificantDigits=g.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pe(e,1,st),t===void 0?t=n.rounding:pe(t,0,8)),v(new n(r),e,t)};g.toString=function(){var e=this,t=e.constructor,r=Le(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};g.truncated=g.trunc=function(){return v(new this.constructor(this),this.e+1,1)};g.valueOf=g.toJSON=function(){var e=this,t=e.constructor,r=Le(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function ie(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=S-n.length,r&&(s+=Ze(r)),s+=n;a=e[t],n=a+"",r=S-n.length,r&&(s+=Ze(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}function pe(e,t,r){if(e!==~~e||e<t||e>r)throw Error(it+e)}function wr(e,t,r,n){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=S,i=0):(i=Math.ceil((t+1)/S),t%=S),s=re(10,S-t),o=e[i]%s|0,n==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),a=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(e[i+1]/s/100|0)==re(10,t-2)-1||(o==s/2||o==0)&&(e[i+1]/s/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),a=(n||r<4)&&o==9999||!n&&r>3&&o==4999):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==re(10,t-3)-1,a}function un(e,t,r){for(var n,i=[0],s,a=0,o=e.length;a<o;){for(s=i.length;s--;)i[s]*=t;for(i[0]+=es.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function ay(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/On(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=_t(e,1,t.times(i),new e(1));for(var s=r;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}var B=function(){function e(n,i,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%s|0,o=a/s|0;return o&&n.unshift(o),n}function t(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s,a){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*a+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a,o,l){var c,u,d,f,h,m,p,E,I,O,P,U,se,$,y,A,R,D,C,q,k=n.constructor,Q=n.s==i.s?1:-1,M=n.d,j=i.d;if(!M||!M[0]||!j||!j[0])return new k(!n.s||!i.s||(M?j&&M[0]==j[0]:!j)?NaN:M&&M[0]==0||!j?Q*0:Q/0);for(l?(h=1,u=n.e-i.e):(l=Te,h=S,u=ae(n.e/h)-ae(i.e/h)),C=j.length,R=M.length,I=new k(Q),O=I.d=[],d=0;j[d]==(M[d]||0);d++);if(j[d]>(M[d]||0)&&u--,s==null?($=s=k.precision,a=k.rounding):o?$=s+(n.e-i.e)+1:$=s,$<0)O.push(1),m=!0;else{if($=$/h+2|0,d=0,C==1){for(f=0,j=j[0],$++;(d<R||f)&&$--;d++)y=f*l+(M[d]||0),O[d]=y/j|0,f=y%j|0;m=f||d<R}else{for(f=l/(j[0]+1)|0,f>1&&(j=e(j,f,l),M=e(M,f,l),C=j.length,R=M.length),A=C,P=M.slice(0,C),U=P.length;U<C;)P[U++]=0;q=j.slice(),q.unshift(0),D=j[0],j[1]>=l/2&&++D;do f=0,c=t(j,P,C,U),c<0?(se=P[0],C!=U&&(se=se*l+(P[1]||0)),f=se/D|0,f>1?(f>=l&&(f=l-1),p=e(j,f,l),E=p.length,U=P.length,c=t(p,P,E,U),c==1&&(f--,r(p,C<E?q:j,E,l))):(f==0&&(c=f=1),p=j.slice()),E=p.length,E<U&&p.unshift(0),r(P,p,U,l),c==-1&&(U=P.length,c=t(j,P,C,U),c<1&&(f++,r(P,C<U?q:j,U,l))),U=P.length):c===0&&(f++,P=[0]),O[d++]=f,c&&P[0]?P[U++]=M[A]||0:(P=[M[A]],U=1);while((A++<R||P[0]!==void 0)&&$--);m=P[0]!==void 0}O[0]||O.shift()}if(h==1)I.e=u,Bl=m;else{for(d=1,f=O[0];f>=10;f/=10)d++;I.e=d+u*h-1,v(I,o?s+I.e+1:s,a,m)}return I}}();function v(e,t,r,n){var i,s,a,o,l,c,u,d,f,h=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(i=1,o=d[0];o>=10;o/=10)i++;if(s=t-i,s<0)s+=S,a=t,u=d[f=0],l=u/re(10,i-a-1)%10|0;else if(f=Math.ceil((s+1)/S),o=d.length,f>=o)if(n){for(;o++<=f;)d.push(0);u=l=0,i=1,s%=S,a=s-S+1}else break e;else{for(u=o=d[f],i=1;o>=10;o/=10)i++;s%=S,a=s-S+i,l=a<0?0:u/re(10,i-a-1)%10|0}if(n=n||t<0||d[f+1]!==void 0||(a<0?u:u%re(10,i-a-1)),c=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(s>0?a>0?u/re(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=re(10,(S-t%S)%S),e.e=-t||0):d[0]=e.e=0,e;if(s==0?(d.length=f,o=1,f--):(d.length=f+1,o=re(10,S-s),d[f]=a>0?(u/re(10,i-a)%re(10,a)|0)*o:0),c)for(;;)if(f==0){for(s=1,a=d[0];a>=10;a/=10)s++;for(a=d[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,d[0]==Te&&(d[0]=1));break}else{if(d[f]+=o,d[f]!=Te)break;d[f--]=0,o=1}for(s=d.length;d[--s]===0;)d.pop()}return T&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function Le(e,t,r){if(!e.isFinite())return zl(e);var n,i=e.e,s=ie(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ze(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+Ze(-i-1)+s,r&&(n=r-a)>0&&(s+=Ze(n))):i>=a?(s+=Ze(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Ze(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Ze(n))),s}function In(e,t){var r=e[0];for(t*=S;r>=10;r/=10)t++;return t}function vn(e,t,r){if(t>sy)throw T=!0,r&&(e.precision=r),Error(Hl);return v(new e(xn),t,1,!0)}function De(e,t,r){if(t>rs)throw Error(Hl);return v(new e(wn),t,r,!0)}function Jl(e){var t=e.length-1,r=t*S+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Ze(e){for(var t="";e--;)t+="0";return t}function Ql(e,t,r,n){var i,s=new e(1),a=Math.ceil(n/S+4);for(T=!1;;){if(r%2&&(s=s.times(t),To(s.d,a)&&(i=!0)),r=ae(r/2),r===0){r=s.d.length-1,i&&s.d[r]===0&&++s.d[r];break}t=t.times(t),To(t.d,a)}return T=!0,s}function $o(e){return e.d[e.d.length-1]&1}function Yl(e,t,r){for(var n,i,s=new e(t[0]),a=0;++a<t.length;){if(i=new e(t[a]),!i.s){s=i;break}n=s.cmp(i),(n===r||n===0&&s.s===r)&&(s=i)}return s}function ns(e,t){var r,n,i,s,a,o,l,c=0,u=0,d=0,f=e.constructor,h=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(T=!1,l=m):l=t,o=new f(.03125);e.e>-2;)e=e.times(o),d+=5;for(n=Math.log(re(2,d))/Math.LN10*2+5|0,l+=n,r=s=a=new f(1),f.precision=l;;){if(s=v(s.times(e),l,1),r=r.times(++u),o=a.plus(B(s,r,l,1)),ie(o.d).slice(0,l)===ie(a.d).slice(0,l)){for(i=d;i--;)a=v(a.times(a),l,1);if(t==null)if(c<3&&wr(a.d,l-n,h,c))f.precision=l+=10,r=s=o=new f(1),u=0,c++;else return v(a,f.precision=m,h,T=!0);else return f.precision=m,a}a=o}}function et(e,t){var r,n,i,s,a,o,l,c,u,d,f,h=1,m=10,p=e,E=p.d,I=p.constructor,O=I.rounding,P=I.precision;if(p.s<0||!E||!E[0]||!p.e&&E[0]==1&&E.length==1)return new I(E&&!E[0]?-1/0:p.s!=1?NaN:E?0:p);if(t==null?(T=!1,u=P):u=t,I.precision=u+=m,r=ie(E),n=r.charAt(0),Math.abs(s=p.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ie(p.d),n=r.charAt(0),h++;s=p.e,n>1?(p=new I("0."+r),s++):p=new I(n+"."+r.slice(1))}else return c=vn(I,u+2,P).times(s+""),p=et(new I(n+"."+r.slice(1)),u-m).plus(c),I.precision=P,t==null?v(p,P,O,T=!0):p;for(d=p,l=a=p=B(p.minus(1),p.plus(1),u,1),f=v(p.times(p),u,1),i=3;;){if(a=v(a.times(f),u,1),c=l.plus(B(a,new I(i),u,1)),ie(c.d).slice(0,u)===ie(l.d).slice(0,u))if(l=l.times(2),s!==0&&(l=l.plus(vn(I,u+2,P).times(s+""))),l=B(l,new I(h),u,1),t==null)if(wr(l.d,u-m,O,o))I.precision=u+=m,c=a=p=B(d.minus(1),d.plus(1),u,1),f=v(p.times(p),u,1),i=o=1;else return v(l,I.precision=P,O,T=!0);else return I.precision=P,l;l=c,i+=2}}function zl(e){return String(e.s*e.s/0)}function dn(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%S,r<0&&(n+=S),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=S;n<i;)e.d.push(+t.slice(n,n+=S));t=t.slice(n),n=S-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),T&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function oy(e,t){var r,n,i,s,a,o,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Kl.test(t))return dn(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ry.test(t))r=16,t=t.toLowerCase();else if(ty.test(t))r=2;else if(ny.test(t))r=8;else throw Error(it+t);for(s=t.search(/p/i),s>0?(l=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),a=s>=0,n=e.constructor,a&&(t=t.replace(".",""),o=t.length,s=o-s,i=Ql(n,new n(r),s,s*2)),c=un(t,r,Te),u=c.length-1,s=u;c[s]===0;--s)c.pop();return s<0?new n(e.s*0):(e.e=In(c,u),e.d=c,T=!1,a&&(e=B(e,i,o*4)),l&&(e=e.times(Math.abs(l)<54?re(2,l):jt.pow(2,l))),T=!0,e)}function ly(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:_t(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/On(5,r)),t=_t(e,2,t,t);for(var i,s=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}function _t(e,t,r,n,i){var s,a,o,l,c=1,u=e.precision,d=Math.ceil(u/S);for(T=!1,l=r.times(r),o=new e(n);;){if(a=B(o.times(l),new e(t++*t++),u,1),o=i?n.plus(a):n.minus(a),n=B(a.times(l),new e(t++*t++),u,1),a=o.plus(n),a.d[d]!==void 0){for(s=d;a.d[s]===o.d[s]&&s--;);if(s==-1)break}s=o,o=n,n=a,a=s,c++}return T=!0,a.d.length=d+1,a}function On(e,t){for(var r=e;--t;)r*=e;return r}function Xl(e,t){var r,n=t.s<0,i=De(e,e.precision,1),s=i.times(.5);if(t=t.abs(),t.lte(s))return Ge=n?4:1,t;if(r=t.divToInt(i),r.isZero())Ge=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(s))return Ge=$o(r)?n?2:3:n?4:1,t;Ge=$o(r)?n?1:4:n?3:2}return t.minus(i).abs()}function $s(e,t,r,n){var i,s,a,o,l,c,u,d,f,h=e.constructor,m=r!==void 0;if(m?(pe(r,1,st),n===void 0?n=h.rounding:pe(n,0,8)):(r=h.precision,n=h.rounding),!e.isFinite())u=zl(e);else{for(u=Le(e),a=u.indexOf("."),m?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,a>=0&&(u=u.replace(".",""),f=new h(1),f.e=u.length-a,f.d=un(Le(f),10,i),f.e=f.d.length),d=un(u,10,i),s=l=d.length;d[--l]==0;)d.pop();if(!d[0])u=m?"0p+0":"0";else{if(a<0?s--:(e=new h(e),e.d=d,e.e=s,e=B(e,f,r,n,0,i),d=e.d,s=e.e,c=Bl),a=d[r],o=i/2,c=c||d[r+1]!==void 0,c=n<4?(a!==void 0||c)&&(n===0||n===(e.s<0?3:2)):a>o||a===o&&(n===4||c||n===6&&d[r-1]&1||n===(e.s<0?8:7)),d.length=r,c)for(;++d[--r]>i-1;)d[r]=0,r||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(a=0,u="";a<l;a++)u+=es.charAt(d[a]);if(m){if(l>1)if(t==16||t==8){for(a=t==16?4:3,--l;l%a;l++)u+="0";for(d=un(u,i,t),l=d.length;!d[l-1];--l);for(a=1,u="1.";a<l;a++)u+=es.charAt(d[a])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return e.s<0?"-"+u:u}function To(e,t){if(e.length>t)return e.length=t,!0}function cy(e){return new this(e).abs()}function uy(e){return new this(e).acos()}function dy(e){return new this(e).acosh()}function fy(e,t){return new this(e).plus(t)}function hy(e){return new this(e).asin()}function py(e){return new this(e).asinh()}function my(e){return new this(e).atan()}function gy(e){return new this(e).atanh()}function yy(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=De(this,s,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?De(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=De(this,s,1).times(.5),r.s=e.s):t.s<0?(this.precision=s,this.rounding=1,r=this.atan(B(e,t,s,1)),t=De(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(B(e,t,s,1)),r}function by(e){return new this(e).cbrt()}function xy(e){return v(e=new this(e),e.e+1,2)}function wy(e,t,r){return new this(e).clamp(t,r)}function vy(e){if(!e||typeof e!="object")throw Error(Tn+"Object expected");var t,r,n,i=e.defaults===!0,s=["precision",1,st,"rounding",0,8,"toExpNeg",-It,0,"toExpPos",0,It,"maxE",0,It,"minE",-It,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],i&&(this[r]=ts[r]),(n=e[r])!==void 0)if(ae(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(it+r+": "+n);if(r="crypto",i&&(this[r]=ts[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Gl);else this[r]=!1;else throw Error(it+r+": "+n);return this}function Ey(e){return new this(e).cos()}function Ry(e){return new this(e).cosh()}function Zl(e){var t,r,n;function i(s){var a,o,l,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,Io(s)){c.s=s.s,T?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d);return}if(l=typeof s,l==="number"){if(s===0){c.s=1/s<0?-1:1,c.e=0,c.d=[0];return}if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(a=0,o=s;o>=10;o/=10)a++;T?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[s]):(c.e=a,c.d=[s]);return}if(s*0!==0){s||(c.s=NaN),c.e=NaN,c.d=null;return}return dn(c,s.toString())}if(l==="string")return(o=s.charCodeAt(0))===45?(s=s.slice(1),c.s=-1):(o===43&&(s=s.slice(1)),c.s=1),Kl.test(s)?dn(c,s):oy(c,s);if(l==="bigint")return s<0?(s=-s,c.s=-1):c.s=1,dn(c,s.toString());throw Error(it+s)}if(i.prototype=g,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=vy,i.clone=Zl,i.isDecimal=Io,i.abs=cy,i.acos=uy,i.acosh=dy,i.add=fy,i.asin=hy,i.asinh=py,i.atan=my,i.atanh=gy,i.atan2=yy,i.cbrt=by,i.ceil=xy,i.clamp=wy,i.cos=Ey,i.cosh=Ry,i.div=Sy,i.exp=Py,i.floor=Ay,i.hypot=$y,i.ln=Ty,i.log=Iy,i.log10=Ny,i.log2=Oy,i.max=_y,i.min=qy,i.mod=Cy,i.mul=jy,i.pow=Dy,i.random=ky,i.round=Ly,i.sign=Fy,i.sin=Vy,i.sinh=My,i.sqrt=Uy,i.sub=By,i.sum=Hy,i.tan=Gy,i.tanh=Wy,i.trunc=Ky,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Sy(e,t){return new this(e).div(t)}function Py(e){return new this(e).exp()}function Ay(e){return v(e=new this(e),e.e+1,3)}function $y(){var e,t,r=new this(0);for(T=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return T=!0,new this(1/0);r=t}return T=!0,r.sqrt()}function Io(e){return e instanceof jt||e&&e.toStringTag===Wl||!1}function Ty(e){return new this(e).ln()}function Iy(e,t){return new this(e).log(t)}function Oy(e){return new this(e).log(2)}function Ny(e){return new this(e).log(10)}function _y(){return Yl(this,arguments,-1)}function qy(){return Yl(this,arguments,1)}function Cy(e,t){return new this(e).mod(t)}function jy(e,t){return new this(e).mul(t)}function Dy(e,t){return new this(e).pow(t)}function ky(e){var t,r,n,i,s=0,a=new this(1),o=[];if(e===void 0?e=this.precision:pe(e,1,st),n=Math.ceil(e/S),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)i=t[s],i>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);s<n;)i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=n/4}else throw Error(Gl);else for(;s<n;)o[s++]=Math.random()*1e7|0;for(n=o[--s],e%=S,n&&e&&(i=re(10,S-e),o[s]=(n/i|0)*i);o[s]===0;s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=S)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<S&&(r-=S-n)}return a.e=r,a.d=o,a}function Ly(e){return v(e=new this(e),e.e+1,this.rounding)}function Fy(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Vy(e){return new this(e).sin()}function My(e){return new this(e).sinh()}function Uy(e){return new this(e).sqrt()}function By(e,t){return new this(e).sub(t)}function Hy(){var e=0,t=arguments,r=new this(t[e]);for(T=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return T=!0,v(r,this.precision,this.rounding)}function Gy(e){return new this(e).tan()}function Wy(e){return new this(e).tanh()}function Ky(e){return v(e=new this(e),e.e+1,1)}g[Symbol.for("nodejs.util.inspect.custom")]=g.toString;g[Symbol.toStringTag]="Decimal";var jt=g.constructor=Zl(ts);xn=new jt(xn);wn=new jt(wn);var Ar=jt;function En(e){return e===null?e:Array.isArray(e)?e.map(En):typeof e=="object"?Jy(e)?Qy(e):e.constructor!==null&&e.constructor.name!=="Object"?e:As(e,En):e}function Jy(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Qy({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new Ar(t);case"Json":return JSON.parse(t);default:$n(t,"Unknown tagged value")}}var fr=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function Nn(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function Yy(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}function is(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function zy(e){return{models:qi(e.models),enums:qi(e.enums),types:qi(e.types)}}function qi(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function Ts(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ec(e){return e.toString()!=="Invalid Date"}function Is(e){return jt.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}var tc={};xt(tc,{ModelAction:()=>_n,datamodelEnumToSchemaEnum:()=>Xy});function Xy(e){return{name:e.name,values:e.values.map(t=>t.name)}}var _n=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(_n||{}),Zy=V(fl()),eb=V(require("node:fs")),tb={keyword:gt,entity:gt,value:e=>$e(cr(e)),punctuation:cr,directive:gt,function:gt,variable:e=>$e(cr(e)),string:e=>$e(mr(e)),boolean:Rr,number:gt,comment:xs},rb=e=>e,an={},nb=0,_={manual:an.Prism&&an.Prism.manual,disableWorkerMessageHandler:an.Prism&&an.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof Ce){let t=e;return new Ce(t.type,_.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(_.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++nb}),e.__id},clone:function e(t,r){let n,i,s=_.util.type(t);switch(r=r||{},s){case"Object":if(i=_.util.objId(t),r[i])return r[i];n={},r[i]=n;for(let a in t)t.hasOwnProperty(a)&&(n[a]=e(t[a],r));return n;case"Array":return i=_.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(a,o){n[o]=e(a,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=_.util.clone(_.languages[e]);for(let n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||_.languages;let i=n[e],s={};for(let o in i)if(i.hasOwnProperty(o)){if(o==t)for(let l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);r.hasOwnProperty(o)||(s[o]=i[o])}let a=n[e];return n[e]=s,_.languages.DFS(_.languages,function(o,l){l===a&&o!=e&&(this[o]=s)}),s},DFS:function e(t,r,n,i){i=i||{};let s=_.util.objId;for(let a in t)if(t.hasOwnProperty(a)){r.call(t,a,t[a],n||a);let o=t[a],l=_.util.type(o);l==="Object"&&!i[s(o)]?(i[s(o)]=!0,e(o,r,null,i)):l==="Array"&&!i[s(o)]&&(i[s(o)]=!0,e(o,r,a,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return _.hooks.run("before-tokenize",n),n.tokens=_.tokenize(n.code,n.grammar),_.hooks.run("after-tokenize",n),Ce.stringify(_.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,s,a){for(let p in r){if(!r.hasOwnProperty(p)||!r[p])continue;if(p==a)return;let E=r[p];E=_.util.type(E)==="Array"?E:[E];for(let I=0;I<E.length;++I){let O=E[I],P=O.inside,U=!!O.lookbehind,se=!!O.greedy,$=0,y=O.alias;if(se&&!O.pattern.global){let A=O.pattern.toString().match(/[imuy]*$/)[0];O.pattern=RegExp(O.pattern.source,A+"g")}O=O.pattern||O;for(let A=n,R=i;A<t.length;R+=t[A].length,++A){let D=t[A];if(t.length>e.length)return;if(D instanceof Ce)continue;if(se&&A!=t.length-1){O.lastIndex=R;var d=O.exec(e);if(!d)break;var u=d.index+(U?d[1].length:0),f=d.index+d[0].length,o=A,l=R;for(let j=t.length;o<j&&(l<f||!t[o].type&&!t[o-1].greedy);++o)l+=t[o].length,u>=l&&(++A,R=l);if(t[A]instanceof Ce)continue;c=o-A,D=e.slice(R,l),d.index-=R}else{O.lastIndex=0;var d=O.exec(D),c=1}if(!d){if(s)break;continue}U&&($=d[1]?d[1].length:0);var u=d.index+$,d=d[0].slice($),f=u+d.length,h=D.slice(0,u),m=D.slice(f);let C=[A,c];h&&(++A,R+=h.length,C.push(h));let q=new Ce(p,P?_.tokenize(d,P):d,y,d,se);if(C.push(q),m&&C.push(m),Array.prototype.splice.apply(t,C),c!=1&&_.matchGrammar(e,t,r,A,R,!0,p),s)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let i in n)t[i]=n[i];delete t.rest}return _.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=_.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=_.hooks.all[e];if(!(!r||!r.length))for(var n=0,i;i=r[n++];)i(t)}},Token:Ce};_.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};_.languages.javascript=_.languages.extend("clike",{"class-name":[_.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});_.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;_.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:_.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:_.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:_.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:_.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});_.languages.markup&&_.languages.markup.tag.addInlined("script","javascript");_.languages.js=_.languages.javascript;_.languages.typescript=_.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});_.languages.ts=_.languages.typescript;function Ce(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}Ce.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return Ce.stringify(r,t)}).join(""):ib(e.type)(e.content)};function ib(e){return tb[e]||rb}function sb(e){return ab(e,_.languages.javascript)}function ab(e,t){return _.tokenize(e,t).map(r=>Ce.stringify(r)).join("")}function ob(e){return Dg(e)}var lb=class pt{firstLineNumber;lines;static read(t){let r;try{r=eb.default.readFileSync(t,"utf-8")}catch{return null}return pt.fromContent(r)}static fromContent(t){let r=t.split(/\r?\n/);return new pt(1,r)}constructor(t,r){this.firstLineNumber=t,this.lines=r}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new pt(this.firstLineNumber,i)}mapLines(t){return new pt(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,r){return this.mapLines((n,i)=>i===t?`${r} ${n}`:`  ${n}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new pt(t,ob(n).split(`
`))}highlight(){let t=sb(this.toString());return new pt(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}},cb={red:yt,gray:xs,dim:Er,bold:$e,underline:ve,highlightSource:e=>e.highlight()},ub={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function db({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function fb({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},s){let a=db({message:t,originalMethod:r,isPanic:n,callArguments:i});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return a;let o=e.getLocation();if(!o||!o.lineNumber||!o.columnNumber)return a;let l=Math.max(1,o.lineNumber-3),c=lb.read(o.fileName)?.slice(l,o.lineNumber),u=c?.lineAt(o.lineNumber);if(c&&u){let d=pb(u),f=hb(u);if(!f)return a;a.functionName=`${f.code})`,a.location=o,n||(c=c.mapLineAt(o.lineNumber,m=>m.slice(0,f.openingBraceIndex))),c=s.highlightSource(c);let h=String(c.lastLineNumber).length;if(a.contextLines=c.mapLines((m,p)=>s.gray(String(p).padStart(h))+" "+m).mapLines(m=>s.dim(m)).prependSymbolAt(o.lineNumber,s.bold(s.red("\u2192"))),i){let m=d+h+1;m+=2,a.callArguments=(0,Zy.default)(i,m).slice(m)}}return a}function hb(e){let t=Object.keys(_n).join("|"),r=new RegExp(String.raw`\.(${t})\(`).exec(e);if(r){let n=r.index+r[0].length,i=e.lastIndexOf(" ",r.index)+1;return{code:e.slice(i,n),openingBraceIndex:n}}return null}function pb(e){let t=0;for(let r=0;r<e.length;r++){if(e.charAt(r)!==" ")return t;t++}return t}function mb({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:s},a){let o=[""],l=t?" in":":";if(n?(o.push(a.red(`Oops, an unknown error occurred! This is ${a.bold("on us")}, you did nothing wrong.`)),o.push(a.red(`It occurred in the ${a.bold(`\`${e}\``)} invocation${l}`))):o.push(a.red(`Invalid ${a.bold(`\`${e}\``)} invocation${l}`)),t&&o.push(a.underline(gb(t))),i){o.push("");let c=[i.toString()];s&&(c.push(s),c.push(a.dim(")"))),o.push(c.join("")),s&&o.push("")}else o.push(""),s&&o.push(s),o.push("");return o.push(r),o.join(`
`)}function gb(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function rc(e){let t=e.showColors?cb:ub,r;return r=fb(e,t),mb(r,t)}var yb=V(pl());function bb(e,t,r){let n=nc(e),i=xb(n),s=vb(i);s?cc(s,t,r):t.addErrorMessage(()=>"Unknown error")}function nc(e){return e.errors.flatMap(t=>t.kind==="Union"?nc(t):[t])}function xb(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,s=t.get(i);s?t.set(i,{...n,argument:{...n.argument,typeNames:wb(s.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function wb(e,t){return[...new Set(e.concat(t))]}function vb(e){return ey(e,(t,r)=>{let n=Oo(t),i=Oo(r);return n!==i?n-i:No(t)-No(r)})}function Oo(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function No(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var Fe=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),typeof this.value=="string"?e.write(t(this.value)):e.write(this.value)}};Q0();var ic=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return typeof e=="string"?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(n,i)=>i.write(n)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};J0();var Eb=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},on=e=>e,sc={bold:on,red:on,green:on,dim:on,enabled:!1},Rb={bold:$e,red:yt,green:mr,dim:Er,enabled:!0},Os={write(e){e.writeLine(",")}},qn=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},Ns=class{hasError=!1;markAsError(){return this.hasError=!0,this}},ac=class extends Ns{items=[];addItem(e){return this.items.push(new Eb(e)),this}getField(e){return this.items[e]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(this.items.length===0){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new qn("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(Os,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},oc=class fn extends Ns{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let s=i;for(let a of n){let o;if(s.value instanceof fn?o=s.value.getField(a):s.value instanceof ac&&(o=s.value.getField(Number(a))),!o)return;s=o}return s}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof fn))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let s=n.value.getFieldValue(i);if(!s||!(s instanceof fn))return;let a=s.getSelectionParent();if(!a)return;n=a}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(r=>r.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new qn("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(Os,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}},he=class extends Ns{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new qn(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},lc=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(Os,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function cc(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Sb(e,t);break;case"IncludeOnScalar":Pb(e,t);break;case"EmptySelection":Ab(e,t,r);break;case"UnknownSelectionField":Ob(e,t);break;case"InvalidSelectionValue":Nb(e,t);break;case"UnknownArgument":_b(e,t);break;case"UnknownInputField":qb(e,t);break;case"RequiredArgumentMissing":Cb(e,t);break;case"InvalidArgumentType":jb(e,t);break;case"InvalidArgumentValue":Db(e,t);break;case"ValueTooLarge":kb(e,t);break;case"SomeFieldsMissing":Lb(e,t);break;case"TooManyFieldsGiven":Fb(e,t);break;case"Union":bb(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function Sb(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function Pb(e,t){let[r,n]=qt(e.selectionPath),i=e.outputType,s=t.arguments.getDeepSelectionParent(r)?.value;if(s&&(s.getField(n)?.markAsError(),i))for(let a of i.fields)a.isRelation&&s.addSuggestion(new Fe(a.name,"true"));t.addErrorMessage(a=>{let o=`Invalid scalar field ${a.red(`\`${n}\``)} for ${a.bold("include")} statement`;return i?o+=` on model ${a.bold(i.name)}. ${$r(a)}`:o+=".",o+=`
Note that ${a.bold("include")} statements only accept relation fields.`,o})}function Ab(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){$b(e,t,i);return}if(n.hasField("select")){Tb(e,t);return}}if(r?.[Nn(e.outputType.name)]){Ib(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function $b(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new Fe(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Tb(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),fc(n,r)),t.addErrorMessage(s=>i?`The ${s.red("`select`")} statement for type ${s.bold(r.name)} must not be empty. ${$r(s)}`:`The ${s.red("`select`")} statement for type ${s.bold(r.name)} needs ${s.bold("at least one truthy value")}.`)}function Ib(e,t){let r=new lc;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new Fe("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,s]=qt(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(s);if(a){let o=a?.value.asObject()??new oc;o.addSuggestion(n),a.value=o}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Ob(e,t){let r=hc(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":fc(n,e.outputType);break;case"include":Vb(n,e.outputType);break;case"omit":Mb(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push($r(n)),i.join(" ")})}function Nb(e,t){let r=hc(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function _b(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Ub(n,e.arguments)),t.addErrorMessage(i=>uc(i,r,e.arguments.map(s=>s.name)))}function qb(e,t){let[r,n]=qt(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let s=i.getDeepFieldValue(r)?.asObject();s&&pc(s,e.inputType)}t.addErrorMessage(s=>uc(s,n,e.inputType.fields.map(a=>a.name)))}function uc(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Hb(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push($r(e)),n.join(" ")}function Cb(e,t){let r;t.addErrorMessage(l=>r?.value instanceof he&&r.value.text==="null"?`Argument \`${l.green(s)}\` must not be ${l.red("null")}.`:`Argument \`${l.green(s)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,s]=qt(e.argumentPath),a=new lc,o=n.getDeepFieldValue(i)?.asObject();if(o){if(r=o.getField(s),r&&o.removeField(s),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let l of e.inputTypes[0].fields)a.addField(l.name,l.typeNames.join(" | "));o.addSuggestion(new Fe(s,a).makeRequired())}else{let l=e.inputTypes.map(dc).join(" | ");o.addSuggestion(new Fe(s,l).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,l]=qt(e.dependentArgumentPath);t.addErrorMessage(c=>`Argument \`${c.green(s)}\` is required because argument \`${c.green(l)}\` was provided.`)}}}function dc(e){return e.kind==="list"?`${dc(e.elementType)}[]`:e.name}function jb(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let s=Cn("or",e.argument.typeNames.map(a=>i.green(a)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${s}, provided ${i.red(e.inferredType)}.`})}function Db(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let s=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&s.push(`: ${e.underlyingError}`),s.push("."),e.argument.typeNames.length>0){let a=Cn("or",e.argument.typeNames.map(o=>i.green(o)));s.push(` Expected ${a}.`)}return s.join("")})}function kb(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof he&&(i=s.text)}t.addErrorMessage(s=>{let a=["Unable to fit value"];return i&&a.push(s.red(i)),a.push(`into a 64-bit signed integer for field \`${s.bold(r)}\``),a.join(" ")})}function Lb(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&pc(i,e.inputType)}t.addErrorMessage(i=>{let s=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?s.push(`${i.green("at least one of")} ${Cn("or",e.constraints.requiredFields.map(a=>`\`${i.bold(a)}\``))} arguments.`):s.push(`${i.green("at least one")} argument.`):s.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),s.push($r(i)),s.join(" ")})}function Fb(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let s=n.getDeepFieldValue(e.argumentPath)?.asObject();s&&(s.markAsError(),i=Object.keys(s.getFields()))}t.addErrorMessage(s=>{let a=[`Argument \`${s.bold(r)}\` of type ${s.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?a.push(`${s.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?a.push(`${s.green("at most one")} argument,`):a.push(`${s.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),a.push(`but you provided ${Cn("and",i.map(o=>s.red(o)))}. Please choose`),e.constraints.maxFieldCount===1?a.push("one."):a.push(`${e.constraints.maxFieldCount}.`),a.join(" ")})}function fc(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new Fe(r.name,"true"))}function Vb(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new Fe(r.name,"true"))}function Mb(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new Fe(r.name,"true"))}function Ub(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new Fe(r.name,r.typeNames.join(" | ")))}function hc(e,t){let[r,n]=qt(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let s=i.getFieldValue("select")?.asObject(),a=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=s?.getField(n);return s&&l?{parentKind:"select",parent:s,field:l,fieldName:n}:(l=a?.getField(n),a&&l?{parentKind:"include",field:l,parent:a,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function pc(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new Fe(r.name,r.typeNames.join(" | ")))}function qt(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function $r({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Cn(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var Bb=3;function Hb(e,t){let r=1/0,n;for(let i of t){let s=(0,yb.default)(e,i);s>Bb||s<r&&(r=s,n=i)}return n}var mc=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function _s(e){return e instanceof mc}var hn=Symbol(),Ci=new WeakMap,jn=class{constructor(e){e===hn?Ci.set(this,`Prisma.${this._getName()}`):Ci.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return Ci.get(this)}},qs=class extends jn{_getNamespace(){return"NullTypes"}},ss=class extends qs{#t};Cs(ss,"DbNull");var as=class extends qs{#t};Cs(as,"JsonNull");var os=class extends qs{#t};Cs(os,"AnyNull");var gc={classes:{DbNull:ss,JsonNull:as,AnyNull:os},instances:{DbNull:new ss(hn),JsonNull:new as(hn),AnyNull:new os(hn)}};function Cs(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var _o=": ",Gb=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+_o.length}write(e){let t=new qn(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(_o).write(this.value)}},Wb=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function js(e){return new Wb(yc(e))}function yc(e){let t=new oc;for(let[r,n]of Object.entries(e)){let i=new Gb(r,bc(n));t.addField(i)}return t}function bc(e){if(typeof e=="string")return new he(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new he(String(e));if(typeof e=="bigint")return new he(`${e}n`);if(e===null)return new he("null");if(e===void 0)return new he("undefined");if(Is(e))return new he(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new he(`Buffer.alloc(${e.byteLength})`):new he(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=ec(e)?e.toISOString():"Invalid Date";return new he(`new Date("${t}")`)}return e instanceof jn?new he(`Prisma.${e._getName()}`):_s(e)?new he(`prisma.${Nn(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?Kb(e):typeof e=="object"?yc(e):new he(Object.prototype.toString.call(e))}function Kb(e){let t=new ac;for(let r of e)t.addItem(bc(r));return t}function xc(e,t){let r=t==="pretty"?Rb:sc,n=e.renderAllMessages(r),i=new ic(0,{colors:r}).write(e).toString();return{message:n,args:i}}function wc({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:s,globalOmit:a}){let o=js(e);for(let d of t)cc(d,o,a);let{message:l,args:c}=xc(o,r),u=rc({message:l,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:c});throw new He(u,{clientVersion:s})}function Tr(e){return e.replace(/^./,t=>t.toLowerCase())}function Jb(e,t,r){let n=Tr(r);return!t.result||!(t.result.$allModels||t.result[n])?e:Qb({...e,...qo(t.name,e,t.result.$allModels),...qo(t.name,e,t.result[n])})}function Qb(e){let t=new fr,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(s=>r(s,i)):[n]));return As(e,n=>({...n,needs:r(n.name,new Set)}))}function qo(e,t,r){return r?As(r,({needs:n,compute:i},s)=>({name:s,needs:n?Object.keys(n).filter(a=>n[a]):[],compute:Yb(t,s,i)})):{}}function Yb(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function zb(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function Xb(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var Co=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new fr;modelExtensionsCache=new fr;queryCallbacksCache=new fr;clientExtensions=is(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=is(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>Jb(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=Tr(e);return!this.extension.model||!(this.extension.model[t]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(e):{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return!i||!(i[e]||i.$allModels||i[t]||i.$allOperations)?r:(i[e]!==void 0&&(i[e][t]!==void 0&&n.push(i[e][t]),i[e].$allOperations!==void 0&&n.push(i[e].$allOperations)),e!=="$none"&&i.$allModels!==void 0&&(i.$allModels[t]!==void 0&&n.push(i.$allModels[t]),i.$allModels.$allOperations!==void 0&&n.push(i.$allModels.$allOperations)),i[t]!==void 0&&n.push(i[t]),i.$allOperations!==void 0&&n.push(i.$allOperations),r.concat(n))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},vc=class pn{constructor(t){this.head=t}static empty(){return new pn}static single(t){return new pn(new Co(t))}isEmpty(){return this.head===void 0}append(t){return new pn(new Co(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},Ec=class{constructor(e){this.name=e}};function Zb(e){return e instanceof Ec}function ex(e){return new Ec(e)}var Rc=Symbol(),Sc=class{constructor(e){if(e!==Rc)throw new Error("Skip instance can not be constructed directly")}ifUndefined(e){return e===void 0?Pc:e}},Pc=new Sc(Rc);function bt(e){return e instanceof Sc}var tx={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},Ac="explicitly `undefined` values are not allowed";function $c({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=vc.empty(),callsite:s,clientMethod:a,errorFormat:o,clientVersion:l,previewFeatures:c,globalOmit:u}){let d=new ux({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:s,extensions:i,selectionPath:[],argumentPath:[],originalMethod:a,errorFormat:o,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:tx[t],query:vr(r,d)}}function vr({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:Ic(r,n),selection:rx(e,t,i,n)}}function rx(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),ax(e,n)):nx(n,t,r)}function nx(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&ix(n,t,e),sx(n,r,e),n}function ix(e,t,r){for(let[n,i]of Object.entries(t)){if(bt(i))continue;let s=r.nestSelection(n);if(Ds(i,s),i===!1||i===void 0){e[n]=!1;continue}let a=r.findField(n);if(a&&a.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),a){e[n]=vr(i===!0?{}:i,s);continue}if(i===!0){e[n]=!0;continue}e[n]=vr(i,s)}}function sx(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},s=Xb(i,n);for(let[a,o]of Object.entries(s)){if(bt(o))continue;Ds(o,r.nestSelection(a));let l=r.findField(a);n?.[a]&&!l||(e[a]=!o)}}function ax(e,t){let r={},n=t.getComputedFields(),i=zb(e,n);for(let[s,a]of Object.entries(i)){if(bt(a))continue;let o=t.nestSelection(s);Ds(a,o);let l=t.findField(s);if(!(n?.[s]&&!l)){if(a===!1||a===void 0||bt(a)){r[s]=!1;continue}if(a===!0){l?.kind==="object"?r[s]=vr({},o):r[s]=!0;continue}r[s]=vr(a,o)}}return r}function Tc(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(Ts(e)){if(ec(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(Zb(e))return{$type:"Param",value:e.name};if(_s(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return ox(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:Buffer.from(r,n,i).toString("base64")}}if(lx(e))return e.values;if(Is(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof jn){if(e!==gc.instances[e._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(cx(e))return e.toJSON();if(typeof e=="object")return Ic(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function Ic(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],s=t.nestArgument(n);bt(i)||(i!==void 0?r[n]=Tc(i,s):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:s.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:Ac}))}return r}function ox(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),s=e[n];if(s===void 0||bt(s)){let a=s===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${a}\` value within array. Use \`null\` or filter out \`${a}\` values`})}r.push(Tc(s,i))}return r}function lx(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function cx(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function Ds(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:Ac})}var ux=class ls{constructor(t){this.params=t,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){wc({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new ls({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Nn(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:$n(this.params.action,"Unknown action")}}nestArgument(t){return new ls({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function jo(e){if(!e._hasPreviewFlag("metrics"))throw new He("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var Oc=class{_client;constructor(e){this._client=e}prometheus(e){return jo(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return jo(this._client),this._client._engine.metrics({format:"json",...e})}};function dx(e,t){let r=is(()=>fx(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function fx(e){return{datamodel:{models:ji(e.models),enums:ji(e.enums),types:ji(e.types)}}}function ji(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}var Di=new WeakMap,Rn="$$PrismaTypedSql",Nc=class{constructor(e,t){Di.set(this,{sql:e,values:t}),Object.defineProperty(this,Rn,{value:Rn})}get sql(){return Di.get(this).sql}get values(){return Di.get(this).values}};function hx(e){return(...t)=>new Nc(e,t)}function _c(e){return e!=null&&e[Rn]===Rn}var px=V(dl()),mx=require("node:async_hooks"),gx=require("node:events"),yx=V(require("node:fs")),ki=V(require("node:path")),at=class cs{constructor(t,r){if(t.length-1!==r.length)throw t.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((a,o)=>a+(o instanceof cs?o.values.length:1),0);this.values=new Array(n),this.strings=new Array(n+1),this.strings[0]=t[0];let i=0,s=0;for(;i<r.length;){let a=r[i++],o=t[i];if(a instanceof cs){this.strings[s]+=a.strings[0];let l=0;for(;l<a.values.length;)this.values[s++]=a.values[l++],this.strings[s]=a.strings[l];this.strings[s]+=o}else this.values[s++]=a,this.strings[s]=o}}get sql(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`?${this.strings[r++]}`;return n}get statement(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`:${r}${this.strings[r++]}`;return n}get text(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`$${r}${this.strings[r++]}`;return n}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function bx(e,t=",",r="",n=""){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new at([r,...Array(e.length-1).fill(t),n],e)}function qc(e){return new at([e],[])}var xx=qc("");function wx(e,...t){return new at(e,t)}function Cc(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function ke(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function ks(e){let t=new fr;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}var us={enumerable:!0,configurable:!0,writable:!0};function jc(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>us,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var Do=Symbol.for("nodejs.util.inspect.custom");function Ct(e,t){let r=vx(t),n=new Set,i=new Proxy(e,{get(s,a){if(n.has(a))return s[a];let o=r.get(a);return o?o.getPropertyValue(a):s[a]},has(s,a){if(n.has(a))return!0;let o=r.get(a);return o?o.has?.(a)??!0:Reflect.has(s,a)},ownKeys(s){let a=ko(Reflect.ownKeys(s),r),o=ko(Array.from(r.keys()),r);return[...new Set([...a,...o,...n])]},set(s,a,o){return r.get(a)?.getPropertyDescriptor?.(a)?.writable===!1?!1:(n.add(a),Reflect.set(s,a,o))},getOwnPropertyDescriptor(s,a){let o=Reflect.getOwnPropertyDescriptor(s,a);if(o&&!o.configurable)return o;let l=r.get(a);return l?l.getPropertyDescriptor?{...us,...l?.getPropertyDescriptor(a)}:us:o},defineProperty(s,a,o){return n.add(a),Reflect.defineProperty(s,a,o)},getPrototypeOf:()=>Object.prototype});return i[Do]=function(){let s={...this};return delete s[Do],s},i}function vx(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function ko(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function ds(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function Ls(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function Ex(e){if(e===void 0)return"";let t=js(e);return new ic(0,{colors:sc}).write(t).toString()}var Rx="P2037";function Fs({error:e,user_facing_error:t},r,n){return t.error_code?new nt(Sx(t,n),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new we(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}function Sx(e,t){let r=e.message;return(t==="postgresql"||t==="postgres"||t==="mysql")&&e.error_code===Rx&&(r+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),r}var Ir="<unknown>";function Px(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=Tx(n)||Ox(n)||qx(n)||kx(n)||jx(n);return i&&r.push(i),r},[])}var Ax=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$x=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Tx(e){var t=Ax.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=$x.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||Ir,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var Ix=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ox(e){var t=Ix.exec(e);return t?{file:t[2],methodName:t[1]||Ir,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Nx=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,_x=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function qx(e){var t=Nx.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=_x.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||Ir,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Cx=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function jx(e){var t=Cx.exec(e);return t?{file:t[3],methodName:t[1]||Ir,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Dx=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function kx(e){var t=Dx.exec(e);return t?{file:t[2],methodName:t[1]||Ir,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Lx=class{getLocation(){return null}},Fx=class{_error;constructor(){this._error=new Error}getLocation(){let e=this._error.stack;if(!e)return null;let t=Px(e).find(r=>{if(!r.file)return!1;let n=Qg(r.file);return n!=="<anonymous>"&&!n.includes("@prisma")&&!n.includes("/packages/client/src/runtime/")&&!n.endsWith("/runtime/binary.js")&&!n.endsWith("/runtime/library.js")&&!n.endsWith("/runtime/edge.js")&&!n.endsWith("/runtime/edge-esm.js")&&!n.startsWith("internal/")&&!r.methodName.includes("new ")&&!r.methodName.includes("getCallSite")&&!r.methodName.includes("Proxy.")&&r.methodName.split(".").length<4});return!t||!t.file?null:{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}}};function hr(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Lx:new Fx}var Vx={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Sn(e={}){let t=Mx(e);return Object.entries(t).reduce((r,[n,i])=>(Vx[n]!==void 0?r.select[n]={select:i}:r[n]=i,r),{select:{}})}function Mx(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function fs(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function Ux(e,t){let r=fs(e);return t({action:"aggregate",unpacker:r,argsMapper:Sn})(e)}function Bx(e={}){let{select:t,...r}=e;return Sn(typeof t=="object"?{...r,_count:t}:{...r,_count:{_all:!0}})}function Hx(e={}){return typeof e.select=="object"?t=>fs(e)(t)._count:t=>fs(e)(t)._count._all}function Gx(e,t){return t({action:"count",unpacker:Hx(e),argsMapper:Bx})(e)}function Wx(e={}){let t=Sn(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function Kx(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function Jx(e,t){return t({action:"groupBy",unpacker:Kx(e),argsMapper:Wx})(e)}function Qx(e,t,r){if(t==="aggregate")return n=>Ux(n,r);if(t==="count")return n=>Gx(n,r);if(t==="groupBy")return n=>Jx(n,r)}function Yx(e,t){let r=t.fields.filter(i=>!i.relationName),n=Yy(r,"name");return new Proxy({},{get(i,s){if(s in i||typeof s=="symbol")return i[s];let a=n[s];if(a)return new mc(e,s,a.type,a.isList,a.kind==="enum")},...jc(Object.keys(n))})}var Dc=e=>Array.isArray(e)?e:e.split("."),kc=(e,t)=>Dc(t).reduce((r,n)=>r&&r[n],e),zx=(e,t,r)=>Dc(t).reduceRight((n,i,s,a)=>Object.assign({},kc(e,a.slice(0,s)),{[i]:n}),r);function Xx(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function Zx(e,t,r){return t===void 0?e??{}:zx(t,r,e||!0)}function Lc(e,t,r,n,i,s){let a=e._runtimeDataModel.models[t].fields.reduce((o,l)=>({...o,[l.name]:l}),{});return o=>{let l=hr(e._errorFormat),c=Xx(n,i),u=Zx(o,s,c),d=r({dataPath:c,callsite:l})(u),f=e1(e,t);return new Proxy(d,{get(h,m){if(!f.includes(m))return h[m];let p=[a[m].type,r,m],E=[c,u];return Lc(e,...p,...E)},...jc([...f,...Object.getOwnPropertyNames(d)])})}}function e1(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var t1=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],r1=["aggregate","count","groupBy"];function Lo(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[n1(e,t),s1(e,t),Cc(r),ke("name",()=>t),ke("$name",()=>t),ke("$parent",()=>e._appliedParent)];return Ct({},n)}function n1(e,t){let r=Tr(t),n=Object.keys(_n).concat("count");return{getKeys(){return n},getPropertyValue(i){let s=i,a=o=>l=>{let c=hr(e._errorFormat);return e._createPrismaPromise(u=>{let d={args:l,dataPath:[],action:s,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:u,callsite:c};return e._request({...d,...o})},{action:s,args:l,model:t})};return t1.includes(s)?Lc(e,t,a):i1(i)?Qx(e,i,a):a({})}}}function i1(e){return r1.includes(e)}function s1(e,t){return ks(ke("fields",()=>{let r=e._runtimeDataModel.models[t];return Yx(t,r)}))}function a1(e){return e.replace(/^./,t=>t.toUpperCase())}var hs=Symbol();function ps(e){let t=[o1(e),l1(e),ke(hs,()=>e),ke("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(Cc(r)),Ct(e,t)}function o1(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function l1(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Tr),n=[...new Set(t.concat(r))];return ks({getKeys(){return n},getPropertyValue(i){let s=a1(i);if(e._runtimeDataModel.models[s]!==void 0)return Lo(e,s);if(e._runtimeDataModel.models[i]!==void 0)return Lo(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function c1(e){return e[hs]?e[hs]:e}function u1(e){if(typeof e=="function")return e(this);if(e.client?.__AccelerateEngine){let r=e.client.__AccelerateEngine;this._originalClient._engine=new r(this._originalClient._accelerateEngineConfig)}let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$use:{value:void 0},$on:{value:void 0}});return ps(t)}function d1({result:e,modelName:t,select:r,omit:n,extensions:i}){let s=i.getAllComputedFields(t);if(!s)return e;let a=[],o=[];for(let l of Object.values(s)){if(n){if(n[l.name])continue;let c=l.needs.filter(u=>n[u]);c.length>0&&o.push(ds(c))}else if(r){if(!r[l.name])continue;let c=l.needs.filter(u=>!r[u]);c.length>0&&o.push(ds(c))}f1(e,l.needs)&&a.push(h1(l,Ct(e,a)))}return a.length>0||o.length>0?Ct(e,[...a,...o]):e}function f1(e,t){return t.every(r=>Zg(e,r))}function h1(e,t){return ks(ke(e.name,()=>e.compute(t)))}function Vs({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=Vs({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let s=e(t,i,r)??t;return r.include&&Fo({includeOrSelect:r.include,result:s,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Fo({includeOrSelect:r.select,result:s,parentModelName:i,runtimeDataModel:n,visitor:e}),s}function Fo({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[s,a]of Object.entries(e)){if(!a||t[s]==null||bt(a))continue;let o=n.models[r].fields.find(c=>c.name===s);if(!o||o.kind!=="object"||!o.relationName)continue;let l=typeof a=="object"?a:{};t[s]=Vs({visitor:i,result:t[s],args:l,modelName:o.type,runtimeDataModel:n})}}function p1({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:s}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:Vs({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,o,l)=>{let c=Tr(o);return d1({result:a,modelName:c,select:l.select,omit:l.select?void 0:{...s?.[c],...l.omit},extensions:n})}})}var m1=["$connect","$disconnect","$on","$transaction","$use","$extends"],g1=m1;function y1(e){if(e instanceof at)return b1(e);if(_c(e))return x1(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=pr(e[n]);return r}let t={};for(let r in e)t[r]=pr(e[r]);return t}function b1(e){return new at(e.strings,e.values)}function x1(e){return new Nc(e.sql,e.values)}function pr(e){if(typeof e!="object"||e==null||e instanceof jn||_s(e))return e;if(Is(e))return new Ar(e.toFixed());if(Ts(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=pr(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:pr(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=pr(e[r]);return t}$n(e,"Unknown value")}function Fc(e,t,r,n=0){return e._createPrismaPromise(i=>{let s=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:y1(t.args??{}),__internalParams:t,query:(a,o=t)=>{let l=o.customDataProxyFetch;return o.customDataProxyFetch=Mc(s,l),o.args=a,Fc(e,o,r,n+1)}})})}function w1(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,s=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(r??"$none",s);return Fc(e,t,a)}function v1(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Vc(r,n,0,e):e(r)}}function Vc(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,s=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(a=>({model:a.modelName,operation:a.action,args:a.args})),transaction:s?{isolationLevel:s.kind==="batch"?s.isolationLevel:void 0}:void 0},__internalParams:e,query(a,o=e){let l=o.customDataProxyFetch;return o.customDataProxyFetch=Mc(i,l),Vc(o,t,r+1,n)}})}var Vo=e=>e;function Mc(e=Vo,t=Vo){return r=>e(t(r))}var Mo=ue("prisma:client"),Uo={Vercel:"vercel","Netlify CI":"netlify"};function E1({postinstall:e,ciName:t,clientVersion:r}){if(Mo("checkPlatformCaching:postinstall",e),Mo("checkPlatformCaching:ciName",t),e===!0&&t&&t in Uo){let n=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${Uo[t]}-build`;throw console.error(n),new ee(n,r)}}function R1(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}var S1=()=>globalThis.process?.release?.name==="node",P1=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,A1=()=>!!globalThis.Deno,$1=()=>typeof globalThis.Netlify=="object",T1=()=>typeof globalThis.EdgeRuntime=="object",I1=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function O1(){return[[$1,"netlify"],[T1,"edge-light"],[I1,"workerd"],[A1,"deno"],[P1,"bun"],[S1,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??""}var N1={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Uc(){let e=O1();return{id:e,prettyName:N1[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var _1=V(require("node:fs")),mn=V(require("node:path"));function Bc(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${q1(e)}`}function q1(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:n}=e,i={fromEnvVar:null,value:n},s=[...r,i];return Vg({...t,binaryTargets:s})}function Dn(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function kn(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(r=>`  ${r}`).join(`
`)}`}function C1(e){let{runtimeBinaryTarget:t}=e;return`${Dn(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${Bc(e)}

${kn(e)}`}function Hc(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function Gc(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function j1(e){let{queryEngineName:t}=e;return`${Dn(e)}${Gc(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${Hc("engine-not-found-bundler-investigation")}

${kn(e)}`}function D1(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,n=r.find(i=>i.native);return`${Dn(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${Bc(e)}

${kn(e)}`}function k1(e){let{queryEngineName:t}=e;return`${Dn(e)}${Gc(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${Hc("engine-not-found-tooling-investigation")}

${kn(e)}`}var L1=ue("prisma:client:engines:resolveEnginePath"),F1=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function V1(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(r!==void 0)return r;let{enginePath:n,searchedLocations:i}=await M1(e,t);if(L1("enginePath",n),n!==void 0&&e==="binary"&&qg(n),n!==void 0)return t.prismaPath=n;let s=await vs(),a=t.generator?.binaryTargets??[],o=a.some(f=>f.native),l=!a.some(f=>f.value===s),c=__filename.match(F1())===null,u={searchedLocations:i,generatorBinaryTargets:a,generator:t.generator,runtimeBinaryTarget:s,queryEngineName:Wc(e,s),expectedLocation:mn.default.relative(process.cwd(),t.dirname),errorStack:new Error().stack},d;throw o&&l?d=D1(u):l?d=C1(u):c?d=j1(u):d=k1(u),new ee(d,t.clientVersion)}async function M1(e,t){let r=await vs(),n=[],i=[t.dirname,mn.default.resolve(__dirname,".."),t.generator?.output?.value??__dirname,mn.default.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];__filename.includes("resolveEnginePath")&&i.push(_g());for(let s of i){let a=Wc(e,r),o=mn.default.join(s,a);if(n.push(s),_1.default.existsSync(o))return{enginePath:o,searchedLocations:n}}return{enginePath:void 0,searchedLocations:n}}function Wc(e,t){return e==="library"?Pm(t,"fs"):`query-engine-${t}${t==="windows"?".exe":""}`}var Bo=V(hl());function U1(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function B1(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var H1=V(K0());function G1({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,H1.default)({user:t,repo:r,template:n,title:e,body:i})}function W1({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:s,query:a}){let o=wm(6e3-(a?.length??0)),l=B1((0,Bo.default)(o)),c=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=(0,Bo.default)(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${s?.padEnd(19)}|

${c}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${a?U1(a):""}
\`\`\`
`),d=G1({title:r,body:u});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${ve(d)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}var K1="6.13.0";function Ms({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,s=Object.keys(e)[0],a=e[s]?.url,o=t[s]?.url;if(s===void 0?i=void 0:o?i=o:a?.value?i=a.value:a?.fromEnvVar&&(i=r[a.fromEnvVar]),a?.fromEnvVar!==void 0&&i===void 0)throw new ee(`error: Environment variable not found: ${a.fromEnvVar}.`,n);if(i===void 0)throw new ee("error: Missing URL environment variable, value, or override.",n);return i}var J1=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},Dt=class extends J1{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function oe(e,t){return{...e,isRetryable:t}}var gn=class extends Dt{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,oe(t,!1))}};X(gn,"InvalidDatasourceError");function Q1(e){let t={clientVersion:e.clientVersion},r=Object.keys(e.inlineDatasources)[0],n=Ms({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,...typeof process<"u"?process.env:{}}}),i;try{i=new URL(n)}catch{throw new gn(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:s,searchParams:a}=i;if(s!=="prisma:"&&s!==Cl)throw new gn(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let o=a.get("api_key");if(o===null||o.length<1)throw new gn(`Error validating datasource \`${r}\`: the URL must contain a valid API key`,t);let l=Lg(i)?"http:":"https:",c=new URL(i.href.replace(s,l));return{apiKey:o,url:c}}var Y1=V(bs()),z1=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Y1.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let n=this.#t();return n.length>0&&(r["X-Capture-Telemetry"]=n.join(", ")),r}#t(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function X1(e){return e[0]*1e3+e[1]/1e6}function Ho(e){return new Date(X1(e))}var ms=class extends Dt{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",oe(e,!0))}};X(ms,"ForcedRetryError");var Us=class extends Dt{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,oe(t,!1))}};X(Us,"NotImplementedYetError");var Re=class extends Dt{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let n=`(The request id was: ${r})`;this.message=this.message+" "+n}}},Bs=class extends Re{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",oe(e,!0))}};X(Bs,"SchemaMissingError");var Kc="This request could not be understood by the server",Jc=class extends Re{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||Kc,oe(e,!1)),r&&(this.code=r)}};X(Jc,"BadRequestError");var Qc=class extends Re{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",oe(e,!0)),this.logs=t}};X(Qc,"HealthcheckTimeoutError");var Yc=class extends Re{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,oe(e,!0)),this.logs=r}};X(Yc,"EngineStartupError");var zc=class extends Re{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",oe(e,!1))}};X(zc,"EngineVersionNotSupportedError");var Xc="Request timed out",Zc=class extends Re{name="GatewayTimeoutError";code="P5009";constructor(e,t=Xc){super(t,oe(e,!1))}};X(Zc,"GatewayTimeoutError");var Z1="Interactive transaction error",eu=class extends Re{name="InteractiveTransactionError";code="P5015";constructor(e,t=Z1){super(t,oe(e,!1))}};X(eu,"InteractiveTransactionError");var ew="Request parameters are invalid",tu=class extends Re{name="InvalidRequestError";code="P5011";constructor(e,t=ew){super(t,oe(e,!1))}};X(tu,"InvalidRequestError");var ru="Requested resource does not exist",nu=class extends Re{name="NotFoundError";code="P5003";constructor(e,t=ru){super(t,oe(e,!1))}};X(nu,"NotFoundError");var iu="Unknown server error",gs=class extends Re{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||iu,oe(e,!0)),this.logs=r}};X(gs,"ServerError");var su="Unauthorized, check your connection string",au=class extends Re{name="UnauthorizedError";code="P5007";constructor(e,t=su){super(t,oe(e,!1))}};X(au,"UnauthorizedError");var ou="Usage exceeded, retry again later",lu=class extends Re{name="UsageExceededError";code="P5008";constructor(e,t=ou){super(t,oe(e,!0))}};X(lu,"UsageExceededError");async function tw(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let r=JSON.parse(t);if(typeof r=="string")switch(r){case"InternalDataProxyError":return{type:"DataProxyError",body:r};default:return{type:"UnknownTextError",body:r}}if(typeof r=="object"&&r!==null){if("is_panic"in r&&"message"in r&&"error_code"in r)return{type:"QueryEngineError",body:r};if("EngineNotStarted"in r||"InteractiveTransactionMisrouted"in r||"InvalidRequestError"in r){let n=Object.values(r)[0].reason;return typeof n=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(n)?{type:"UnknownJsonError",body:r}:{type:"DataProxyError",body:r}}}return{type:"UnknownJsonError",body:r}}catch{return t===""?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function ln(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await tw(e);if(n.type==="QueryEngineError")throw new nt(n.body.message,{code:n.body.error_code,clientVersion:t});if(n.type==="DataProxyError"){if(n.body==="InternalDataProxyError")throw new gs(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if(n.body.EngineNotStarted.reason==="SchemaMissing")return new Bs(r);if(n.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new zc(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:i,logs:s}=n.body.EngineNotStarted.reason.EngineStartupError;throw new Yc(r,i,s)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:i,error_code:s}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new ee(i,t,s)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:i}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new Qc(r,i)}}if("InteractiveTransactionMisrouted"in n.body){let i={IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"};throw new eu(r,i[n.body.InteractiveTransactionMisrouted.reason])}if("InvalidRequestError"in n.body)throw new tu(r,n.body.InvalidRequestError.reason)}if(e.status===401||e.status===403)throw new au(r,$t(su,n));if(e.status===404)return new nu(r,$t(ru,n));if(e.status===429)throw new lu(r,$t(ou,n));if(e.status===504)throw new Zc(r,$t(Xc,n));if(e.status>=500)throw new gs(r,$t(iu,n));if(e.status>=400)throw new Jc(r,$t(Kc,n))}function $t(e,t){return t.type==="EmptyError"?e:`${e}: ${JSON.stringify(t)}`}function rw(e){let t=Math.pow(2,e)*50,r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(i=>setTimeout(()=>i(n),n))}var Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function nw(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,i=n%3,s=n-i,a,o,l,c,u;for(let d=0;d<s;d=d+3)u=t[d]<<16|t[d+1]<<8|t[d+2],a=(u&16515072)>>18,o=(u&258048)>>12,l=(u&4032)>>6,c=u&63,r+=Ue[a]+Ue[o]+Ue[l]+Ue[c];return i==1?(u=t[s],a=(u&252)>>2,o=(u&3)<<4,r+=Ue[a]+Ue[o]+"=="):i==2&&(u=t[s]<<8|t[s+1],a=(u&64512)>>10,o=(u&1008)>>4,l=(u&15)<<2,r+=Ue[a]+Ue[o]+Ue[l]+"="),r}function iw(e){if(e.generator?.previewFeatures.some(t=>t.toLowerCase().includes("metrics")))throw new ee("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}var sw={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.13.0-35.361e86d0ea4987e9f53a565309b3eed797a6bcbd","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},cu=class extends Dt{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,oe(t,!0))}};X(cu,"RequestError");async function lr(e,t,r=n=>n){let{clientVersion:n,...i}=t,s=r(fetch);try{return await s(e,i)}catch(a){let o=a.message??"Unknown error";throw new cu(o,{clientVersion:n,cause:a})}}var aw=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,uu=ue("prisma:client:dataproxyEngine");async function ow(e,t){let r=sw["@prisma/engines-version"],n=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&n!=="0.0.0"&&n!=="in-memory")return n;let[i,s]=n?.split("-")??[];if(s===void 0&&aw.test(i))return i;if(s!==void 0||n==="0.0.0"||n==="in-memory"){let[a]=r.split("-")??[],[o,l,c]=a.split("."),u=cw(`<=${o}.${l}.${c}`),d=await lr(u,{clientVersion:n});if(!d.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${d.status} ${d.statusText}, response body: ${await d.text()||"<empty body>"}`);let f=await d.text();uu("length of body fetched from unpkg.com",f.length);let h;try{h=JSON.parse(f)}catch(m){throw console.error("JSON.parse error: body fetched from unpkg.com: ",f),m}return h.version}throw new Us("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function lw(e,t){let r=await ow(e,t);return uu("version",r),r}function cw(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var Go=3,sr=ue("prisma:client:dataproxyEngine"),uw=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){iw(e),this.config=e,this.env=e.env,this.inlineSchema=nw(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new z1({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await lw(this.host,this.config),sr("host",this.host),sr("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(t=>{switch(t.level){case"debug":case"trace":sr(t);break;case"error":case"warn":case"info":{this.logEmitter.emit(t.level,{timestamp:Ho(t.timestamp),message:t.attributes.message??"",target:t.target});break}case"query":{this.logEmitter.emit("query",{query:t.attributes.query??"",timestamp:Ho(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target});break}default:t.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){let e={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(e,async()=>{let t=await lr(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});t.ok||sr("schema response status",t.status);let r=await ln(t,this.clientVersion);if(r)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${r.message}`,timestamp:new Date,target:""}),r;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i=r?.kind==="itx"?r.options:void 0,s=Ls(e,r);return(await this.requestInternal({body:s,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t})).map(a=>(a.extensions&&this.propagateResponseExtensions(a.extensions),"errors"in a?this.convertProtocolErrorsToClientError(a.errors):a))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let s=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(s);let a=await lr(s,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);a.ok||sr("graphql response status",a.status),await this.handleError(await ln(a,this.clientVersion));let o=await a.json();if(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o)throw this.convertProtocolErrorsToClientError(o.errors);return"batchResult"in o?o.batchResult:o}})}async transaction(e,t,r){let n={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${n[e]} transaction`,callback:async({logHttpCall:i})=>{if(e==="start"){let s=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),a=await this.url("transaction/start");i(a);let o=await lr(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:s,clientVersion:this.clientVersion});await this.handleError(await ln(o,this.clientVersion));let l=await o.json(),{extensions:c}=l;c&&this.propagateResponseExtensions(c);let u=l.id,d=l["data-proxy"].endpoint;return{id:u,payload:{endpoint:d}}}else{let s=`${r.payload.endpoint}/${e}`;i(s);let a=await lr(s,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await ln(a,this.clientVersion));let o=await a.json(),{extensions:l}=o;l&&this.propagateResponseExtensions(l);return}}})}getURLAndAPIKey(){return Q1({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new Us("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=n=>{this.logEmitter.emit("info",{message:`Calling ${n} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof Dt)||!n.isRetryable)throw n;if(t>=Go)throw n instanceof ms?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${Go} failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let i=await rw(t);this.logEmitter.emit("warn",{message:`Retrying after ${i}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof Bs)throw await this.uploadSchema(),new ms({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return e.length===1?Fs(e[0],this.config.clientVersion,this.config.activeProvider):new we(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function dw(e){if(e?.kind==="itx")return e.options.id}var Wo=V(require("node:os")),fw=V(require("node:path")),Li=Symbol("PrismaLibraryEngineCache");function hw(){let e=globalThis;return e[Li]===void 0&&(e[Li]={}),e[Li]}function pw(e){let t=hw();if(t[e]!==void 0)return t[e];let r=fw.default.toNamespacedPath(e),n={exports:{}},i=0;return process.platform!=="win32"&&(i=Wo.default.constants.dlopen.RTLD_LAZY|Wo.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(n,r,i),t[e]=n.exports,n.exports}var mw={async loadLibrary(e){let t=await Gm(),r=await V1("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>pw(r))}catch(n){let i=Cg({e:n,platformInfo:t,id:r});throw new ee(i,e.clientVersion)}}},Fi,gw={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(r===void 0)throw new ee(`The \`adapter\` option for \`PrismaClient\` is required in this context (${Uc().prettyName})`,t);if(n===void 0)throw new ee("WASM engine was unexpectedly `undefined`",t);Fi===void 0&&(Fi=(async()=>{let s=await n.getRuntime(),a=await n.getQueryEngineWasmModule();if(a==null)throw new ee("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let o={"./query_engine_bg.js":s},l=new WebAssembly.Instance(a,o),c=l.exports.__wbindgen_start;return s.__wbg_set_wasm(l.exports),c(),s.QueryEngine})());let i=await Fi;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:i}}},yw="P2036",Ne=ue("prisma:client:libraryEngine");function bw(e){return e.item_type==="query"&&"query"in e}function xw(e){return"level"in e?e.level==="error"&&e.message==="PANIC":!1}var Ko=[...Sm,"native"],ww=0xffffffffffffffffn,Vi=1n;function vw(){let e=Vi++;return Vi>ww&&(Vi=1n),e}var Jo=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??mw,e.engineWasm!==void 0&&(this.libraryLoader=t??gw),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;r!==void 0&&n!==void 0&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r=vw().toString();try{return await e(...t,r)}finally{if(this.tracingHelper.isEnabled()){let n=await this.engine?.trace(r);if(n){let i=JSON.parse(n);this.tracingHelper.dispatchEngineSpans(i.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){await this.start();let n=await this.adapterPromise,i=JSON.stringify(t),s;if(e==="start"){let o=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});s=await this.engine?.startTransaction(o,i)}else e==="commit"?s=await this.engine?.commitTransaction(r.id,i):e==="rollback"&&(s=await this.engine?.rollbackTransaction(r.id,i));let a=this.parseEngineResponse(s);if(Ew(a)){let o=this.getExternalAdapterError(a,n?.errorRegistry);throw o?o.error:new nt(a.message,{code:a.error_code,clientVersion:this.config.clientVersion,meta:a.meta})}else if(typeof a.message=="string")throw new we(a.message,{clientVersion:this.config.clientVersion});return a}async instantiateLibrary(){if(Ne("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;Rm(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>vs());if(!Ko.includes(e))throw new ee(`Unknown ${yt("PRISMA_QUERY_ENGINE_LIBRARY")} ${yt($e(e))}. Possible binaryTargets: ${mr(Ko.join(", "))} or a path to the query engine library.
You may have to run ${mr("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new we("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new we("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(vo));let t=await this.adapterPromise;t&&Ne("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},r=>{e.deref()?.logger(r)},t))}catch(e){let t=e,r=this.parseInitError(t.message);throw typeof r=="string"?t:new ee(r.message,this.config.clientVersion,r.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown",bw(t)?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):xw(t)?this.loggerRustPanic=new tt(Mi(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return Ne(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{Ne("library starting");try{let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(t)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(vo)),await this.adapterPromise,Ne("library started")}catch(t){let r=this.parseInitError(t.message);throw typeof r=="string"?t:new ee(r.message,this.config.clientVersion,r.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return Ne("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(r=>setImmediate(r)),Ne("library stopping");let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(t)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,Ne("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){Ne(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let s=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let a=this.parseEngineResponse(await this.executingQueryPromise);if(a.errors)throw a.errors.length===1?this.buildQueryError(a.errors[0],s?.errorRegistry):new we(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:a}}catch(s){if(s instanceof ee)throw s;if(s.code==="GenericFailure"&&s.message?.startsWith("PANIC:"))throw new tt(Mi(this,s.message),this.config.clientVersion);let a=this.parseRequestError(s.message);throw typeof a=="string"?s:new we(`${a.message}
${a.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){Ne("requestBatch");let n=Ls(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),dw(t));let s=await this.executingQueryPromise,a=this.parseEngineResponse(s);if(a.errors)throw a.errors.length===1?this.buildQueryError(a.errors[0],i?.errorRegistry):new we(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});let{batchResult:o,errors:l}=a;if(Array.isArray(o))return o.map(c=>c.errors&&c.errors.length>0?this.loggerRustPanic??this.buildQueryError(c.errors[0],i?.errorRegistry):{data:c});throw l&&l.length===1?new Error(l[0].error):new Error(JSON.stringify(a))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new tt(Mi(this,e.user_facing_error.message),this.config.clientVersion);let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:Fs(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if(e.error_code===yw&&t){let r=e.meta?.id;So(typeof r=="number","Malformed external JS error received from the engine");let n=t.consumeError(r);return So(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return e.format==="prometheus"?t:this.parseEngineResponse(t)}};function Ew(e){return typeof e=="object"&&e!==null&&e.error_code!==void 0}function Mi(e,t){return W1({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function Rw({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let i=[],s=[],a=p=>{i.push({_tag:"warning",value:p})},o=p=>{let E=p.join(`
`);s.push({_tag:"error",value:E})},l=!!e?.startsWith("prisma://"),c=jl(e),u=!!t,d=l||c;!u&&r&&d&&a(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let f=d||!r;u&&(f||n==="edge")&&(n==="edge"?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):r?l&&o(["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]):o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let h={accelerate:f,ppg:c,driverAdapters:u};function m(p){return p.length>0}return m(s)?{ok:!1,diagnostics:{warnings:i,errors:s},isUsing:h}:{ok:!0,diagnostics:{warnings:i},isUsing:h}}function Sw({copyEngine:e=!0},t){let r;try{r=Ms({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:i,diagnostics:s}=Rw({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let d of s.warnings)Ml(...d.value);if(!n){let d=s.errors[0];throw new He(d.value,{clientVersion:t.clientVersion})}let a=Yi(t.generator),o=a==="library",l=a==="binary",c=a==="client",u=(i.accelerate||i.ppg)&&!i.driverAdapters;return i.accelerate?new uw(t):(i.driverAdapters,o?new Jo(t):(i.accelerate,new Jo(t)))}function du({generator:e}){return e?.previewFeatures??[]}var Pw=e=>({command:e}),Aw=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);function ar(e){try{return Qo(e,"fast")}catch{return Qo(e,"slow")}}function Qo(e,t){return JSON.stringify(e.map(r=>fu(r,t)))}function fu(e,t){if(Array.isArray(e))return e.map(r=>fu(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(Ts(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Ar.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if($w(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?hu(e):e}function $w(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function hu(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(Yo);let t={};for(let r of Object.keys(e))t[r]=Yo(e[r]);return t}function Yo(e){return typeof e=="bigint"?e.toString():hu(e)}var Tw=/^(\s*alter\s)/i,zo=ue("prisma:client");function Xo(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&Tw.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Zo=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(_c(r))n=r.sql,i={values:ar(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[s,...a]=r;n=s,i={values:ar(a||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:ar(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:ar(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Aw(r),i={values:ar(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?zo(`prisma.${e}(${n}, ${i.values})`):zo(`prisma.${e}(${n})`),{query:n,parameters:i}},Iw={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new at(t,r)}},Ow={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function el(e){return function(t,r){let n,i=(s=e)=>{try{return s===void 0||s?.kind==="itx"?n??=tl(t(s)):tl(t(s))}catch(a){return Promise.reject(a)}};return{get spec(){return r},then(s,a){return i().then(s,a)},catch(s){return i().catch(s)},finally(s){return i().finally(s)},requestTransaction(s){let a=i(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function tl(e){return typeof e.then=="function"?e:Promise.resolve(e)}var Nw=Ag.split(".")[0],_w={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},qw=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${Nw}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??_w}};function Cw(){return new qw}function jw(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}function Dw(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}var kw=class{_middlewares=[];use(e){this._middlewares.push(e)}get(e){return this._middlewares[e]}has(e){return!!this._middlewares[e]}length(){return this._middlewares.length}},Lw=V(hl());function pu(e){return typeof e.batchRequestIdx=="number"}function Fw(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(ys(e.query.arguments)),t.push(ys(e.query.selection)),t.join("")}function ys(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return typeof r=="object"&&r!==null?`(${t} ${ys(r)})`:t}).join(" ")})`}var Vw={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function rl(e){return Vw[e]}var Mw=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):(t.sort((r,n)=>this.options.batchOrder(r.request,n.request)),this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){let i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function mt(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Ar(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>mt("bigint",r));case"bytes-array":return t.map(r=>mt("bytes",r));case"decimal-array":return t.map(r=>mt("decimal",r));case"datetime-array":return t.map(r=>mt("datetime",r));case"date-array":return t.map(r=>mt("date",r));case"time-array":return t.map(r=>mt("time",r));default:return t}}function mu(e){let t=[],r=Uw(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],s={...r};for(let a=0;a<i.length;a++)s[e.columns[a]]=mt(e.types[a],i[a]);t.push(s)}return t}function Uw(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Bw=ue("prisma:client:request_handler"),Hw=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new Mw({batchLoader:v1(async({requests:r,customDataProxyFetch:n})=>{let{transaction:i,otelParentCtx:s}=r[0],a=r.map(c=>c.protocolQuery),o=this.client._tracingHelper.getTraceParent(s),l=r.some(c=>rl(c.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:o,transaction:Gw(i),containsWrite:l,customDataProxyFetch:n})).map((c,u)=>{if(c instanceof Error)return c;try{return this.mapQueryEngineResult(r[u],c)}catch(d){return d}})}),singleLoader:async r=>{let n=r.transaction?.kind==="itx"?gu(r.transaction):void 0,i=await this.client._engine.request(r.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:n,isWrite:rl(r.protocolQuery.action),customDataProxyFetch:r.customDataProxyFetch});return this.mapQueryEngineResult(r,i)},batchBy:r=>r.transaction?.id?`transaction-${r.transaction.id}`:Fw(r.protocolQuery),batchOrder(r,n){return r.transaction?.kind==="batch"&&n.transaction?.kind==="batch"?r.transaction.index-n.transaction.index:0}})}async request(e){try{return await this.dataloader.request(e)}catch(t){let{clientMethod:r,callsite:n,transaction:i,args:s,modelName:a}=e;this.handleAndLogRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:s,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:s,globalOmit:a}){if(Bw(e),Ww(e,n))throw e;if(e instanceof nt&&Kw(e)){let l=yu(e.meta);wc({args:i,errors:[l],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:a})}let o=e.message;if(r&&(o=rc({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:this.client._errorFormat==="pretty",message:o})),o=this.sanitizeMessage(o),e.code){let l=s?{modelName:s,...e.meta}:e.meta;throw new nt(o,{code:e.code,clientVersion:this.client._clientVersion,meta:l,batchRequestIdx:e.batchRequestIdx})}else{if(e.isPanic)throw new tt(o,this.client._clientVersion);if(e instanceof we)throw new we(o,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof ee)throw new ee(o,this.client._clientVersion);if(e instanceof tt)throw new tt(o,this.client._clientVersion)}throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?(0,Lw.default)(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=Object.values(e)[0],s=t.filter(l=>l!=="select"&&l!=="include"),a=kc(i,s),o=n==="queryRaw"?mu(a):En(a);return r?r(o):o}get[Symbol.toStringTag](){return"RequestHandler"}};function Gw(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:gu(e)};$n(e,"Unknown transaction kind")}}function gu(e){return{id:e.id,payload:e.payload}}function Ww(e,t){return pu(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Kw(e){return e.code==="P2009"||e.code==="P2012"}function yu(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(yu)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var Jw=K1,Qw=V(pl()),H=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};X(H,"PrismaClientConstructorValidationError");var nl=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],il=["pretty","colorless","minimal"],sl=["info","query","warn","error"],Yw={datasources:(e,{datasourceNames:t})=>{if(e){if(typeof e!="object"||Array.isArray(e))throw new H(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let i=Tt(r,t)||` Available datasources: ${t.join(", ")}`;throw new H(`Unknown datasource ${r} provided to PrismaClient constructor.${i}`)}if(typeof n!="object"||Array.isArray(n))throw new H(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&typeof n=="object")for(let[i,s]of Object.entries(n)){if(i!=="url")throw new H(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof s!="string")throw new H(`Invalid value ${JSON.stringify(s)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&Yi(t.generator)==="client")throw new H('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(e!==null){if(e===void 0)throw new H('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!du(t).includes("driverAdapters"))throw new H('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if(Yi(t.generator)==="binary")throw new H('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if(typeof e<"u"&&typeof e!="string")throw new H(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if(typeof e!="string")throw new H(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!il.includes(e)){let t=Tt(e,il);throw new H(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new H(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!sl.includes(r)){let n=Tt(r,sl);throw new H(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let s=["stdout","event"];if(!s.includes(i)){let a=Tt(i,s);throw new H(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${a}`)}}};if(r&&typeof r=="object")for(let[i,s]of Object.entries(r))if(n[i])n[i](s);else throw new H(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new H(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new H(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new H('"omit" option is expected to be an object.');if(e===null)throw new H('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let s=Zw(n,t.runtimeDataModel);if(!s){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[a,o]of Object.entries(i)){let l=s.fields.find(c=>c.name===a);if(!l){r.push({kind:"UnknownField",modelKey:n,fieldName:a});continue}if(l.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:a});continue}typeof o!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:a})}}if(r.length>0)throw new H(ev(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new H(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Tt(r,t);throw new H(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function zw(e,t){for(let[r,n]of Object.entries(e)){if(!nl.includes(r)){let i=Tt(r,nl);throw new H(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}Yw[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new H('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Tt(e,t){if(t.length===0||typeof e!="string")return"";let r=Xw(e,t);return r?` Did you mean "${r}"?`:""}function Xw(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,Qw.default)(e,i)}));r.sort((i,s)=>i.distance<s.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Zw(e,t){return al(t.models,e)??al(t.types,e)}function al(e,t){let r=Object.keys(e).find(n=>Nn(n)===t);if(r)return e[r]}function ev(e,t){let r=js(e);for(let s of t)switch(s.kind){case"UnknownModel":r.arguments.getField(s.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${s.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([s.modelKey,s.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${s.modelKey}" does not have a field named "${s.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([s.modelKey,s.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([s.modelKey,s.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=xc(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}function tv(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,s=!1,a=0,o=()=>{s||(a++,a===e.length&&(s=!0,i?r(i):t(n)))},l=c=>{s||(s=!0,r(c))};for(let c=0;c<e.length;c++)e[c].then(u=>{n[c]=u,o()},u=>{if(!pu(u)){l(u);return}u.batchRequestIdx===c?l(u):(i||(i=u),o())})})}var Je=ue("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var rv={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},nv=Symbol.for("prisma.client.transaction.id"),iv={id:0,nextId(){return++this.id}};function sv(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_middlewares=new kw;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=el();constructor(n){e=n?.__internal?.configOverride?.(e)??e,E1(e),n&&zw(n,e);let i=new gx.EventEmitter().on("error",()=>{});this._extensions=vc.empty(),this._previewFeatures=du(e),this._clientVersion=e.clientVersion??Jw,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Cw();let s=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&ki.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&ki.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},a;if(n?.adapter){a=n.adapter;let l=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(a.provider!==l)throw new ee(`The Driver Adapter \`${a.adapterName}\`, based on \`${a.provider}\`, is not compatible with the provider \`${l}\` specified in the Prisma schema.`,this._clientVersion);if(n.datasources||n.datasourceUrl!==void 0)throw new ee("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let o=!a&&s&&Fl(s,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let l=n??{},c=l.__internal??{},u=c.debug===!0;u&&ue.enable("prisma:client");let d=ki.default.resolve(e.dirname,e.relativePath);yx.default.existsSync(d)||(d=e.dirname),Je("dirname",e.dirname),Je("relativePath",e.relativePath),Je("cwd",d);let f=c.engine||{};if(l.errorFormat?this._errorFormat=l.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:d,dirname:e.dirname,enableDebugLogs:u,allowTriggerPanic:f.allowTriggerPanic,prismaPath:f.binaryPath??void 0,engineEndpoint:f.endpoint,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:l.log&&Dw(l.log),logQueries:l.log&&!!(typeof l.log=="string"?l.log==="query":l.log.find(h=>typeof h=="string"?h==="query":h.level==="query")),env:o?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:R1(l,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:l.transactionOptions?.maxWait??2e3,timeout:l.transactionOptions?.timeout??5e3,isolationLevel:l.transactionOptions?.isolationLevel},logEmitter:i,isBundled:e.isBundled,adapter:a},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:Ms,getBatchRequestPayload:Ls,prismaGraphQLToJSError:Fs,PrismaClientUnknownRequestError:we,PrismaClientInitializationError:ee,PrismaClientKnownRequestError:nt,debug:ue("prisma:client:accelerateEngine"),engineVersion:px.version,clientVersion:e.clientVersion}},Je("clientVersion",e.clientVersion),this._engine=Sw(e,this._engineConfig),this._requestHandler=new Hw(this,i),l.log)for(let h of l.log){let m=typeof h=="string"?h:h.emit==="stdout"?h.level:null;m&&this.$on(m,p=>{zi.log(`${zi.tags[m]??""}`,p.message||p.query)})}}catch(l){throw l.clientVersion=this._clientVersion,l}return this._appliedParent=ps(this)}get[Symbol.toStringTag](){return"PrismaClient"}$use(n){this._middlewares.use(n)}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{vm()}}$executeRawInternal(n,i,s,a){let o=this._activeProvider;return this._request({action:"executeRaw",args:s,transaction:n,clientMethod:i,argsMapper:Zo({clientMethod:i,activeProvider:o}),callsite:hr(this._errorFormat),dataPath:[],middlewareArgsMapper:a})}$executeRaw(n,...i){return this._createPrismaPromise(s=>{if(n.raw!==void 0||n.sql!==void 0){let[a,o]=ol(n,i);return Xo(this._activeProvider,a.text,a.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(s,"$executeRaw",a,o)}throw new He("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(s=>(Xo(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(s,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new He(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Pw,callsite:hr(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,s,a){let o=this._activeProvider;return this._request({action:"queryRaw",args:s,transaction:n,clientMethod:i,argsMapper:Zo({clientMethod:i,activeProvider:o}),callsite:hr(this._errorFormat),dataPath:[],middlewareArgsMapper:a})}$queryRaw(n,...i){return this._createPrismaPromise(s=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(s,"$queryRaw",...ol(n,i));throw new He("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new He("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(s=>this.$queryRawInternal(s,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let s=iv.nextId(),a=jw(n.length),o=n.map((l,c)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let u=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,d={kind:"batch",id:s,index:c,isolationLevel:u,lock:a};return l.requestTransaction?.(d)??l});return tv(o)}async _transactionWithCallback({callback:n,options:i}){let s={traceparent:this._tracingHelper.getTraceParent()},a={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},o=await this._engine.transaction("start",s,a),l;try{let c={kind:"itx",...o};l=await n(this._createItxClient(c)),await this._engine.transaction("commit",s,o)}catch(c){throw await this._engine.transaction("rollback",s,o).catch(()=>{}),c}return l}_createItxClient(n){return Ct(ps(Ct(c1(this),[ke("_appliedParent",()=>this._appliedParent._createItxClient(n)),ke("_createPrismaPromise",()=>el(n)),ke(nv,()=>n.id)])),[ds(g1)])}$transaction(n,i){let s;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?s=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:s=()=>this._transactionWithCallback({callback:n,options:i}):s=()=>this._transactionWithArray({promises:n,options:i});let a={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(a,s)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??rv,s={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},a={middleware:{name:"middleware",middleware:!0,attributes:{method:"$use"},active:!1},operation:{name:"operation",attributes:{method:s.action,model:s.model,name:s.model?`${s.model}.${s.action}`:s.action}}},o=-1,l=async c=>{let u=this._middlewares.get(++o);if(u)return this._tracingHelper.runInChildSpan(a.middleware,E=>u(c,I=>(E?.end(),l(I))));let{runInTransaction:d,args:f,...h}=c,m={...n,...h};f&&(m.args=i.middlewareArgsToRequestArgs(f)),n.transaction!==void 0&&d===!1&&delete m.transaction;let p=await w1(this,m);return m.model?p1({result:p,modelName:m.model,args:m.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):p};return this._tracingHelper.runInChildSpan(a.operation,()=>new mx.AsyncResource("prisma-client-request").runInAsyncScope(()=>l(s)))}async _executeRequest({args:n,clientMethod:i,dataPath:s,callsite:a,action:o,model:l,argsMapper:c,transaction:u,unpacker:d,otelParentCtx:f,customDataProxyFetch:h}){try{n=c?c(n):n;let m={name:"serialize"},p=this._tracingHelper.runInChildSpan(m,()=>$c({modelName:l,runtimeDataModel:this._runtimeDataModel,action:o,args:n,clientMethod:i,callsite:a,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return ue.enabled("prisma:client")&&(Je("Prisma Client call:"),Je(`prisma.${i}(${Ex(n)})`),Je("Generated request:"),Je(JSON.stringify(p,null,2)+`
`)),u?.kind==="batch"&&await u.lock,this._requestHandler.request({protocolQuery:p,modelName:l,action:o,clientMethod:i,dataPath:s,callsite:a,args:n,extensions:this._extensions,transaction:u,unpacker:d,otelParentCtx:f,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:h})}catch(m){throw m.clientVersion=this._clientVersion,m}}$metrics=new Oc(this);_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=u1}return t}function ol(e,t){return av(e)?[new at(e,t),Iw]:[e,Ow]}function av(e){return Array.isArray(e)&&Array.isArray(e.raw)}var ov=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function lv(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!ov.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}function cv(e){Fl(e,{conflictCheck:"warn"})}});var vu=b(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});var{PrismaClientKnownRequestError:uv,PrismaClientUnknownRequestError:dv,PrismaClientRustPanicError:fv,PrismaClientInitializationError:hv,PrismaClientValidationError:pv,getPrismaClient:mv,sqltag:gv,empty:yv,join:bv,raw:xv,skip:M5,Decimal:wv,Debug:U5,objectEnumValues:kt,makeStrictEnum:vv,Extensions:wu,warnOnce:B5,defineDmmfProperty:Ev,Public:Rv,getRuntime:H5,createParam:G5}=Hs(),te={};ne.Prisma=te;ne.$Enums={};te.prismaVersion={client:"6.13.0",engine:"361e86d0ea4987e9f53a565309b3eed797a6bcbd"};te.PrismaClientKnownRequestError=uv;te.PrismaClientUnknownRequestError=dv;te.PrismaClientRustPanicError=fv;te.PrismaClientInitializationError=hv;te.PrismaClientValidationError=pv;te.Decimal=wv;te.sql=gv;te.empty=yv;te.join=bv;te.raw=xv;te.validator=Rv.validator;te.getExtensionContext=wu.getExtensionContext;te.defineExtension=wu.defineExtension;te.DbNull=kt.instances.DbNull;te.JsonNull=kt.instances.JsonNull;te.AnyNull=kt.instances.AnyNull;te.NullTypes={DbNull:kt.classes.DbNull,JsonNull:kt.classes.JsonNull,AnyNull:kt.classes.AnyNull};var Ke=require("path");ne.Prisma.TransactionIsolationLevel=vv({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"});ne.Prisma.UserScalarFieldEnum={id:"id",email:"email",password:"password",name:"name",createdAt:"createdAt",updatedAt:"updatedAt"};ne.Prisma.RoleScalarFieldEnum={id:"id",name:"name"};ne.Prisma.UserRoleScalarFieldEnum={id:"id",userId:"userId",roleId:"roleId"};ne.Prisma.PermissionScalarFieldEnum={id:"id",name:"name",description:"description",module:"module",action:"action",createdAt:"createdAt",updatedAt:"updatedAt"};ne.Prisma.RolePermissionScalarFieldEnum={id:"id",roleId:"roleId",permissionId:"permissionId"};ne.Prisma.ProductCategoryScalarFieldEnum={id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",createdById:"createdById"};ne.Prisma.ProductScalarFieldEnum={id:"id",name:"name",description:"description",price:"price",stock:"stock",categoryId:"categoryId",createdAt:"createdAt",updatedAt:"updatedAt",createdById:"createdById"};ne.Prisma.SortOrder={asc:"asc",desc:"desc"};ne.Prisma.QueryMode={default:"default",insensitive:"insensitive"};ne.Prisma.NullsOrder={first:"first",last:"last"};ne.Prisma.ModelName={User:"User",Role:"Role",UserRole:"UserRole",Permission:"Permission",RolePermission:"RolePermission",ProductCategory:"ProductCategory",Product:"Product"};var ge={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"D:\\psp\\sample_projects\\hono-inventory\\src\\generated\\prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"D:\\psp\\sample_projects\\hono-inventory\\prisma\\schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.13.0",engineVersion:"361e86d0ea4987e9f53a565309b3eed797a6bcbd",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id        String     @id @default(uuid())
  email     String     @unique
  password  String
  name      String?
  roles     UserRole[]
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt

  products          Product[]         @relation("ProductCreatedBy")
  productCategories ProductCategory[] @relation("CategoryCreatedBy")
}

model Role {
  id          String           @id @default(uuid())
  name        String           @unique // e.g. 'admin', 'manager', 'sales'
  users       UserRole[]
  permissions RolePermission[]
}

model UserRole {
  id     String @id @default(uuid())
  user   User   @relation(fields: [userId], references: [id])
  userId String

  role   Role   @relation(fields: [roleId], references: [id])
  roleId String

  @@unique([userId, roleId])
}

model Permission {
  id          String   @id @default(uuid())
  name        String   @unique
  description String?
  module      String
  action      String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  roles RolePermission[]
}

model RolePermission {
  id           String     @id @default(uuid())
  role         Role       @relation(fields: [roleId], references: [id])
  roleId       String
  permission   Permission @relation(fields: [permissionId], references: [id])
  permissionId String

  @@unique([roleId, permissionId])
}

model ProductCategory {
  id          String    @id @default(uuid())
  name        String
  products    Product[]
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  createdById String?
  createdBy   User?     @relation("CategoryCreatedBy", fields: [createdById], references: [id])
}

model Product {
  id          String          @id @default(uuid())
  name        String
  description String?
  price       Float
  stock       Int
  categoryId  String
  category    ProductCategory @relation(fields: [categoryId], references: [id])

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  createdById String?
  createdBy   User?    @relation("ProductCreatedBy", fields: [createdById], references: [id])
}
`,inlineSchemaHash:"1a0d452c3136a62fb9ffb49f3e35c770e19325aecad2111655bdca46cb5dac42",copyEngine:!0},xu=require("fs");ge.dirname=__dirname;if(!xu.existsSync(Ke.join(__dirname,"schema.prisma"))){let e=["src/generated/prisma","generated/prisma"],t=e.find(r=>xu.existsSync(Ke.join(process.cwd(),r,"schema.prisma")))??e[0];ge.dirname=Ke.join(process.cwd(),t),ge.isBundled=!0}ge.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"roles","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserRole","nativeType":null,"relationName":"UserToUserRole","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"products","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Product","nativeType":null,"relationName":"ProductCreatedBy","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"productCategories","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ProductCategory","nativeType":null,"relationName":"CategoryCreatedBy","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Role":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"users","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserRole","nativeType":null,"relationName":"RoleToUserRole","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"permissions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"RolePermission","nativeType":null,"relationName":"RoleToRolePermission","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"UserRole":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UserToUserRole","relationFromFields":["userId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Role","nativeType":null,"relationName":"RoleToUserRole","relationFromFields":["roleId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"roleId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["userId","roleId"]],"uniqueIndexes":[{"name":null,"fields":["userId","roleId"]}],"isGenerated":false},"Permission":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"module","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"action","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"roles","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"RolePermission","nativeType":null,"relationName":"PermissionToRolePermission","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"RolePermission":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Role","nativeType":null,"relationName":"RoleToRolePermission","relationFromFields":["roleId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"roleId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"permission","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Permission","nativeType":null,"relationName":"PermissionToRolePermission","relationFromFields":["permissionId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"permissionId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["roleId","permissionId"]],"uniqueIndexes":[{"name":null,"fields":["roleId","permissionId"]}],"isGenerated":false},"ProductCategory":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"products","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Product","nativeType":null,"relationName":"ProductToProductCategory","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"createdById","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdBy","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"CategoryCreatedBy","relationFromFields":["createdById"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Product":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"stock","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"categoryId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"category","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ProductCategory","nativeType":null,"relationName":"ProductToProductCategory","relationFromFields":["categoryId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"createdById","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdBy","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ProductCreatedBy","relationFromFields":["createdById"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}');Ev(ne.Prisma,ge.runtimeDataModel);ge.engineWasm=void 0;ge.compilerWasm=void 0;var{warnEnvConflicts:Sv}=Hs();Sv({rootEnvPath:ge.relativeEnvPaths.rootEnvPath&&Ke.resolve(ge.dirname,ge.relativeEnvPaths.rootEnvPath),schemaEnvPath:ge.relativeEnvPaths.schemaEnvPath&&Ke.resolve(ge.dirname,ge.relativeEnvPaths.schemaEnvPath)});var Pv=mv(ge);ne.PrismaClient=Pv;Object.assign(ne,te);Ke.join(__dirname,"query_engine-windows.dll.node");Ke.join(process.cwd(),"src/generated/prisma/query_engine-windows.dll.node");Ke.join(__dirname,"schema.prisma");Ke.join(process.cwd(),"src/generated/prisma/schema.prisma")});var Lt=b((Gs,_u)=>{var Ln=require("buffer"),Ve=Ln.Buffer;function Nu(e,t){for(var r in e)t[r]=e[r]}Ve.from&&Ve.alloc&&Ve.allocUnsafe&&Ve.allocUnsafeSlow?_u.exports=Ln:(Nu(Ln,Gs),Gs.Buffer=wt);function wt(e,t,r){return Ve(e,t,r)}wt.prototype=Object.create(Ve.prototype);Nu(Ve,wt);wt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ve(e,t,r)};wt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ve(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};wt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ve(e)};wt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ln.SlowBuffer(e)}});var Ws=b((Q5,qu)=>{var Fn=Lt().Buffer,Iv=require("stream"),Ov=require("util");function Vn(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=Fn.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=Fn.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}Ov.inherits(Vn,Iv);Vn.prototype.write=function(t){this.buffer=Fn.concat([this.buffer,Fn.from(t)]),this.emit("data",t)};Vn.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};qu.exports=Vn});var ju=b((Y5,Cu)=>{"use strict";function Ks(e){var t=(e/8|0)+(e%8===0?0:1);return t}var Nv={ES256:Ks(256),ES384:Ks(384),ES512:Ks(521)};function _v(e){var t=Nv[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}Cu.exports=_v});var Uu=b((z5,Mu)=>{"use strict";var Mn=Lt().Buffer,ku=ju(),Un=128,Lu=0,qv=32,Cv=16,jv=2,Fu=Cv|qv|Lu<<6,Bn=jv|Lu<<6;function Dv(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vu(e){if(Mn.isBuffer(e))return e;if(typeof e=="string")return Mn.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function kv(e,t){e=Vu(e);var r=ku(t),n=r+1,i=e.length,s=0;if(e[s++]!==Fu)throw new Error('Could not find expected "seq"');var a=e[s++];if(a===(Un|1)&&(a=e[s++]),i-s<a)throw new Error('"seq" specified length of "'+a+'", only "'+(i-s)+'" remaining');if(e[s++]!==Bn)throw new Error('Could not find expected "int" for "r"');var o=e[s++];if(i-s-2<o)throw new Error('"r" specified length of "'+o+'", only "'+(i-s-2)+'" available');if(n<o)throw new Error('"r" specified length of "'+o+'", max of "'+n+'" is acceptable');var l=s;if(s+=o,e[s++]!==Bn)throw new Error('Could not find expected "int" for "s"');var c=e[s++];if(i-s!==c)throw new Error('"s" specified length of "'+c+'", expected "'+(i-s)+'"');if(n<c)throw new Error('"s" specified length of "'+c+'", max of "'+n+'" is acceptable');var u=s;if(s+=c,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');var d=r-o,f=r-c,h=Mn.allocUnsafe(d+o+f+c);for(s=0;s<d;++s)h[s]=0;e.copy(h,s,l+Math.max(-d,0),l+o),s=r;for(var m=s;s<m+f;++s)h[s]=0;return e.copy(h,s,u+Math.max(-f,0),u+c),h=h.toString("base64"),h=Dv(h),h}function Du(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var i=e[t+n]>=Un;return i&&--n,n}function Lv(e,t){e=Vu(e);var r=ku(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=Du(e,0,r),s=Du(e,r,e.length),a=r-i,o=r-s,l=2+a+1+1+o,c=l<Un,u=Mn.allocUnsafe((c?2:3)+l),d=0;return u[d++]=Fu,c?u[d++]=l:(u[d++]=Un|1,u[d++]=l&255),u[d++]=Bn,u[d++]=a,i<0?(u[d++]=0,d+=e.copy(u,d,0,r)):d+=e.copy(u,d,i,r),u[d++]=Bn,u[d++]=o,s<0?(u[d++]=0,e.copy(u,d,r)):e.copy(u,d,r+s),u}Mu.exports={derToJose:kv,joseToDer:Lv}});var Hu=b((X5,Bu)=>{"use strict";var Or=require("buffer").Buffer,Js=require("buffer").SlowBuffer;Bu.exports=Hn;function Hn(e,t){if(!Or.isBuffer(e)||!Or.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}Hn.install=function(){Or.prototype.equal=Js.prototype.equal=function(t){return Hn(this,t)}};var Fv=Or.prototype.equal,Vv=Js.prototype.equal;Hn.restore=function(){Or.prototype.equal=Fv,Js.prototype.equal=Vv}});var Xs=b((Z5,Zu)=>{var Vt=Lt().Buffer,Se=require("crypto"),Wu=Uu(),Gu=require("util"),Mv=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,Nr="secret must be a string or buffer",Ft="key must be a string or a buffer",Uv="key must be a string, a buffer or an object",Ys=typeof Se.createPublicKey=="function";Ys&&(Ft+=" or a KeyObject",Nr+="or a KeyObject");function Ku(e){if(!Vt.isBuffer(e)&&typeof e!="string"&&(!Ys||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw Ie(Ft)}function Ju(e){if(!Vt.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw Ie(Uv)}function Bv(e){if(!Vt.isBuffer(e)){if(typeof e=="string")return e;if(!Ys||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw Ie(Nr)}}function zs(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qu(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function Ie(e){var t=[].slice.call(arguments,1),r=Gu.format.bind(Gu,e).apply(null,t);return new TypeError(r)}function Hv(e){return Vt.isBuffer(e)||typeof e=="string"}function _r(e){return Hv(e)||(e=JSON.stringify(e)),e}function Yu(e){return function(r,n){Bv(n),r=_r(r);var i=Se.createHmac("sha"+e,n),s=(i.update(r),i.digest("base64"));return zs(s)}}var Qs,Gv="timingSafeEqual"in Se?function(t,r){return t.byteLength!==r.byteLength?!1:Se.timingSafeEqual(t,r)}:function(t,r){return Qs||(Qs=Hu()),Qs(t,r)};function Wv(e){return function(r,n,i){var s=Yu(e)(r,i);return Gv(Vt.from(n),Vt.from(s))}}function zu(e){return function(r,n){Ju(n),r=_r(r);var i=Se.createSign("RSA-SHA"+e),s=(i.update(r),i.sign(n,"base64"));return zs(s)}}function Xu(e){return function(r,n,i){Ku(i),r=_r(r),n=Qu(n);var s=Se.createVerify("RSA-SHA"+e);return s.update(r),s.verify(i,n,"base64")}}function Kv(e){return function(r,n){Ju(n),r=_r(r);var i=Se.createSign("RSA-SHA"+e),s=(i.update(r),i.sign({key:n,padding:Se.constants.RSA_PKCS1_PSS_PADDING,saltLength:Se.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return zs(s)}}function Jv(e){return function(r,n,i){Ku(i),r=_r(r),n=Qu(n);var s=Se.createVerify("RSA-SHA"+e);return s.update(r),s.verify({key:i,padding:Se.constants.RSA_PKCS1_PSS_PADDING,saltLength:Se.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function Qv(e){var t=zu(e);return function(){var n=t.apply(null,arguments);return n=Wu.derToJose(n,"ES"+e),n}}function Yv(e){var t=Xu(e);return function(n,i,s){i=Wu.joseToDer(i,"ES"+e).toString("base64");var a=t(n,i,s);return a}}function zv(){return function(){return""}}function Xv(){return function(t,r){return r===""}}Zu.exports=function(t){var r={hs:Yu,rs:zu,ps:Kv,es:Qv,none:zv},n={hs:Wv,rs:Xu,ps:Jv,es:Yv,none:Xv},i=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw Ie(Mv,t);var s=(i[1]||i[3]).toLowerCase(),a=i[2];return{sign:r[s](a),verify:n[s](a)}}});var Zs=b((eA,ed)=>{var Zv=require("buffer").Buffer;ed.exports=function(t){return typeof t=="string"?t:typeof t=="number"||Zv.isBuffer(t)?t.toString():JSON.stringify(t)}});var ad=b((tA,sd)=>{var eE=Lt().Buffer,td=Ws(),tE=Xs(),rE=require("stream"),rd=Zs(),ea=require("util");function nd(e,t){return eE.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nE(e,t,r){r=r||"utf8";var n=nd(rd(e),"binary"),i=nd(rd(t),r);return ea.format("%s.%s",n,i)}function id(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,s=tE(t.alg),a=nE(t,r,i),o=s.sign(a,n);return ea.format("%s.%s",a,o)}function Gn(e){var t=e.secret||e.privateKey||e.key,r=new td(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new td(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}ea.inherits(Gn,rE);Gn.prototype.sign=function(){try{var t=id({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};Gn.sign=id;sd.exports=Gn});var gd=b((rA,md)=>{var ld=Lt().Buffer,od=Ws(),iE=Xs(),sE=require("stream"),cd=Zs(),aE=require("util"),oE=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function lE(e){return Object.prototype.toString.call(e)==="[object Object]"}function cE(e){if(lE(e))return e;try{return JSON.parse(e)}catch{return}}function ud(e){var t=e.split(".",1)[0];return cE(ld.from(t,"base64").toString("binary"))}function uE(e){return e.split(".",2).join(".")}function dd(e){return e.split(".")[2]}function dE(e,t){t=t||"utf8";var r=e.split(".")[1];return ld.from(r,"base64").toString(t)}function fd(e){return oE.test(e)&&!!ud(e)}function hd(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=cd(e);var i=dd(e),s=uE(e),a=iE(t);return a.verify(s,i,r)}function pd(e,t){if(t=t||{},e=cd(e),!fd(e))return null;var r=ud(e);if(!r)return null;var n=dE(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:dd(e)}}function Mt(e){e=e||{};var t=e.secret||e.publicKey||e.key,r=new od(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new od(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}aE.inherits(Mt,sE);Mt.prototype.verify=function(){try{var t=hd(this.signature.buffer,this.algorithm,this.key.buffer),r=pd(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};Mt.decode=pd;Mt.isValid=fd;Mt.verify=hd;md.exports=Mt});var Kn=b(ot=>{var yd=ad(),Wn=gd(),fE=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];ot.ALGORITHMS=fE;ot.sign=yd.sign;ot.verify=Wn.verify;ot.decode=Wn.decode;ot.isValid=Wn.isValid;ot.createSign=function(t){return new yd(t)};ot.createVerify=function(t){return new Wn(t)}});var ta=b((iA,bd)=>{var hE=Kn();bd.exports=function(e,t){t=t||{};var r=hE.decode(e,t);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i)}catch{}return t.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var qr=b((sA,xd)=>{var Jn=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};Jn.prototype=Object.create(Error.prototype);Jn.prototype.constructor=Jn;xd.exports=Jn});var ra=b((aA,vd)=>{var wd=qr(),Qn=function(e,t){wd.call(this,e),this.name="NotBeforeError",this.date=t};Qn.prototype=Object.create(wd.prototype);Qn.prototype.constructor=Qn;vd.exports=Qn});var na=b((oA,Rd)=>{var Ed=qr(),Yn=function(e,t){Ed.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};Yn.prototype=Object.create(Ed.prototype);Yn.prototype.constructor=Yn;Rd.exports=Yn});var Pd=b((lA,Sd)=>{var Ut=1e3,Bt=Ut*60,Ht=Bt*60,vt=Ht*24,pE=vt*7,mE=vt*365.25;Sd.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return gE(e);if(r==="number"&&isFinite(e))return t.long?bE(e):yE(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function gE(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*mE;case"weeks":case"week":case"w":return r*pE;case"days":case"day":case"d":return r*vt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ht;case"minutes":case"minute":case"mins":case"min":case"m":return r*Bt;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ut;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function yE(e){var t=Math.abs(e);return t>=vt?Math.round(e/vt)+"d":t>=Ht?Math.round(e/Ht)+"h":t>=Bt?Math.round(e/Bt)+"m":t>=Ut?Math.round(e/Ut)+"s":e+"ms"}function bE(e){var t=Math.abs(e);return t>=vt?zn(e,t,vt,"day"):t>=Ht?zn(e,t,Ht,"hour"):t>=Bt?zn(e,t,Bt,"minute"):t>=Ut?zn(e,t,Ut,"second"):e+" ms"}function zn(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var ia=b((cA,Ad)=>{var xE=Pd();Ad.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=xE(e);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof e=="number"?r+e:void 0}});var Cr=b((uA,$d)=>{"use strict";var wE="2.0.0",vE=Number.MAX_SAFE_INTEGER||9007199254740991,EE=16,RE=250,SE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];$d.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:EE,MAX_SAFE_BUILD_LENGTH:RE,MAX_SAFE_INTEGER:vE,RELEASE_TYPES:SE,SEMVER_SPEC_VERSION:wE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var jr=b((dA,Td)=>{"use strict";var PE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Td.exports=PE});var Gt=b((Me,Id)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:sa,MAX_SAFE_BUILD_LENGTH:AE,MAX_LENGTH:$E}=Cr(),TE=jr();Me=Id.exports={};var IE=Me.re=[],OE=Me.safeRe=[],x=Me.src=[],NE=Me.safeSrc=[],w=Me.t={},_E=0,aa="[a-zA-Z0-9-]",qE=[["\\s",1],["\\d",$E],[aa,AE]],CE=e=>{for(let[t,r]of qE)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},N=(e,t,r)=>{let n=CE(t),i=_E++;TE(e,i,t),w[e]=i,x[i]=t,NE[i]=n,IE[i]=new RegExp(t,r?"g":void 0),OE[i]=new RegExp(n,r?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","\\d+");N("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${aa}*`);N("MAINVERSION",`(${x[w.NUMERICIDENTIFIER]})\\.(${x[w.NUMERICIDENTIFIER]})\\.(${x[w.NUMERICIDENTIFIER]})`);N("MAINVERSIONLOOSE",`(${x[w.NUMERICIDENTIFIERLOOSE]})\\.(${x[w.NUMERICIDENTIFIERLOOSE]})\\.(${x[w.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASEIDENTIFIER",`(?:${x[w.NONNUMERICIDENTIFIER]}|${x[w.NUMERICIDENTIFIER]})`);N("PRERELEASEIDENTIFIERLOOSE",`(?:${x[w.NONNUMERICIDENTIFIER]}|${x[w.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASE",`(?:-(${x[w.PRERELEASEIDENTIFIER]}(?:\\.${x[w.PRERELEASEIDENTIFIER]})*))`);N("PRERELEASELOOSE",`(?:-?(${x[w.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${x[w.PRERELEASEIDENTIFIERLOOSE]})*))`);N("BUILDIDENTIFIER",`${aa}+`);N("BUILD",`(?:\\+(${x[w.BUILDIDENTIFIER]}(?:\\.${x[w.BUILDIDENTIFIER]})*))`);N("FULLPLAIN",`v?${x[w.MAINVERSION]}${x[w.PRERELEASE]}?${x[w.BUILD]}?`);N("FULL",`^${x[w.FULLPLAIN]}$`);N("LOOSEPLAIN",`[v=\\s]*${x[w.MAINVERSIONLOOSE]}${x[w.PRERELEASELOOSE]}?${x[w.BUILD]}?`);N("LOOSE",`^${x[w.LOOSEPLAIN]}$`);N("GTLT","((?:<|>)?=?)");N("XRANGEIDENTIFIERLOOSE",`${x[w.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);N("XRANGEIDENTIFIER",`${x[w.NUMERICIDENTIFIER]}|x|X|\\*`);N("XRANGEPLAIN",`[v=\\s]*(${x[w.XRANGEIDENTIFIER]})(?:\\.(${x[w.XRANGEIDENTIFIER]})(?:\\.(${x[w.XRANGEIDENTIFIER]})(?:${x[w.PRERELEASE]})?${x[w.BUILD]}?)?)?`);N("XRANGEPLAINLOOSE",`[v=\\s]*(${x[w.XRANGEIDENTIFIERLOOSE]})(?:\\.(${x[w.XRANGEIDENTIFIERLOOSE]})(?:\\.(${x[w.XRANGEIDENTIFIERLOOSE]})(?:${x[w.PRERELEASELOOSE]})?${x[w.BUILD]}?)?)?`);N("XRANGE",`^${x[w.GTLT]}\\s*${x[w.XRANGEPLAIN]}$`);N("XRANGELOOSE",`^${x[w.GTLT]}\\s*${x[w.XRANGEPLAINLOOSE]}$`);N("COERCEPLAIN",`(^|[^\\d])(\\d{1,${sa}})(?:\\.(\\d{1,${sa}}))?(?:\\.(\\d{1,${sa}}))?`);N("COERCE",`${x[w.COERCEPLAIN]}(?:$|[^\\d])`);N("COERCEFULL",x[w.COERCEPLAIN]+`(?:${x[w.PRERELEASE]})?(?:${x[w.BUILD]})?(?:$|[^\\d])`);N("COERCERTL",x[w.COERCE],!0);N("COERCERTLFULL",x[w.COERCEFULL],!0);N("LONETILDE","(?:~>?)");N("TILDETRIM",`(\\s*)${x[w.LONETILDE]}\\s+`,!0);Me.tildeTrimReplace="$1~";N("TILDE",`^${x[w.LONETILDE]}${x[w.XRANGEPLAIN]}$`);N("TILDELOOSE",`^${x[w.LONETILDE]}${x[w.XRANGEPLAINLOOSE]}$`);N("LONECARET","(?:\\^)");N("CARETTRIM",`(\\s*)${x[w.LONECARET]}\\s+`,!0);Me.caretTrimReplace="$1^";N("CARET",`^${x[w.LONECARET]}${x[w.XRANGEPLAIN]}$`);N("CARETLOOSE",`^${x[w.LONECARET]}${x[w.XRANGEPLAINLOOSE]}$`);N("COMPARATORLOOSE",`^${x[w.GTLT]}\\s*(${x[w.LOOSEPLAIN]})$|^$`);N("COMPARATOR",`^${x[w.GTLT]}\\s*(${x[w.FULLPLAIN]})$|^$`);N("COMPARATORTRIM",`(\\s*)${x[w.GTLT]}\\s*(${x[w.LOOSEPLAIN]}|${x[w.XRANGEPLAIN]})`,!0);Me.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE",`^\\s*(${x[w.XRANGEPLAIN]})\\s+-\\s+(${x[w.XRANGEPLAIN]})\\s*$`);N("HYPHENRANGELOOSE",`^\\s*(${x[w.XRANGEPLAINLOOSE]})\\s+-\\s+(${x[w.XRANGEPLAINLOOSE]})\\s*$`);N("STAR","(<|>)?=?\\s*\\*");N("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");N("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Xn=b((fA,Od)=>{"use strict";var jE=Object.freeze({loose:!0}),DE=Object.freeze({}),kE=e=>e?typeof e!="object"?jE:e:DE;Od.exports=kE});var oa=b((hA,qd)=>{"use strict";var Nd=/^[0-9]+$/,_d=(e,t)=>{let r=Nd.test(e),n=Nd.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},LE=(e,t)=>_d(t,e);qd.exports={compareIdentifiers:_d,rcompareIdentifiers:LE}});var le=b((pA,jd)=>{"use strict";var Zn=jr(),{MAX_LENGTH:Cd,MAX_SAFE_INTEGER:ei}=Cr(),{safeRe:ti,t:ri}=Gt(),FE=Xn(),{compareIdentifiers:Wt}=oa(),la=class e{constructor(t,r){if(r=FE(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Cd)throw new TypeError(`version is longer than ${Cd} characters`);Zn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?ti[ri.LOOSE]:ti[ri.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ei||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ei||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ei||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<ei)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Zn("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Wt(this.major,t.major)||Wt(this.minor,t.minor)||Wt(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(Zn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wt(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(Zn("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wt(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?ti[ri.PRERELEASELOOSE]:ti[ri.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Wt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};jd.exports=la});var Et=b((mA,kd)=>{"use strict";var Dd=le(),VE=(e,t,r=!1)=>{if(e instanceof Dd)return e;try{return new Dd(e,t)}catch(n){if(!r)return null;throw n}};kd.exports=VE});var Fd=b((gA,Ld)=>{"use strict";var ME=Et(),UE=(e,t)=>{let r=ME(e,t);return r?r.version:null};Ld.exports=UE});var Md=b((yA,Vd)=>{"use strict";var BE=Et(),HE=(e,t)=>{let r=BE(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};Vd.exports=HE});var Hd=b((bA,Bd)=>{"use strict";var Ud=le(),GE=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Ud(e instanceof Ud?e.version:e,r).inc(t,n,i).version}catch{return null}};Bd.exports=GE});var Kd=b((xA,Wd)=>{"use strict";var Gd=Et(),WE=(e,t)=>{let r=Gd(e,null,!0),n=Gd(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,o=s?n:r,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};Wd.exports=WE});var Qd=b((wA,Jd)=>{"use strict";var KE=le(),JE=(e,t)=>new KE(e,t).major;Jd.exports=JE});var zd=b((vA,Yd)=>{"use strict";var QE=le(),YE=(e,t)=>new QE(e,t).minor;Yd.exports=YE});var Zd=b((EA,Xd)=>{"use strict";var zE=le(),XE=(e,t)=>new zE(e,t).patch;Xd.exports=XE});var tf=b((RA,ef)=>{"use strict";var ZE=Et(),e2=(e,t)=>{let r=ZE(e,t);return r&&r.prerelease.length?r.prerelease:null};ef.exports=e2});var Pe=b((SA,nf)=>{"use strict";var rf=le(),t2=(e,t,r)=>new rf(e,r).compare(new rf(t,r));nf.exports=t2});var af=b((PA,sf)=>{"use strict";var r2=Pe(),n2=(e,t,r)=>r2(t,e,r);sf.exports=n2});var lf=b((AA,of)=>{"use strict";var i2=Pe(),s2=(e,t)=>i2(e,t,!0);of.exports=s2});var ni=b(($A,uf)=>{"use strict";var cf=le(),a2=(e,t,r)=>{let n=new cf(e,r),i=new cf(t,r);return n.compare(i)||n.compareBuild(i)};uf.exports=a2});var ff=b((TA,df)=>{"use strict";var o2=ni(),l2=(e,t)=>e.sort((r,n)=>o2(r,n,t));df.exports=l2});var pf=b((IA,hf)=>{"use strict";var c2=ni(),u2=(e,t)=>e.sort((r,n)=>c2(n,r,t));hf.exports=u2});var Dr=b((OA,mf)=>{"use strict";var d2=Pe(),f2=(e,t,r)=>d2(e,t,r)>0;mf.exports=f2});var ii=b((NA,gf)=>{"use strict";var h2=Pe(),p2=(e,t,r)=>h2(e,t,r)<0;gf.exports=p2});var ca=b((_A,yf)=>{"use strict";var m2=Pe(),g2=(e,t,r)=>m2(e,t,r)===0;yf.exports=g2});var ua=b((qA,bf)=>{"use strict";var y2=Pe(),b2=(e,t,r)=>y2(e,t,r)!==0;bf.exports=b2});var si=b((CA,xf)=>{"use strict";var x2=Pe(),w2=(e,t,r)=>x2(e,t,r)>=0;xf.exports=w2});var ai=b((jA,wf)=>{"use strict";var v2=Pe(),E2=(e,t,r)=>v2(e,t,r)<=0;wf.exports=E2});var da=b((DA,vf)=>{"use strict";var R2=ca(),S2=ua(),P2=Dr(),A2=si(),$2=ii(),T2=ai(),I2=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return R2(e,r,n);case"!=":return S2(e,r,n);case">":return P2(e,r,n);case">=":return A2(e,r,n);case"<":return $2(e,r,n);case"<=":return T2(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};vf.exports=I2});var Rf=b((kA,Ef)=>{"use strict";var O2=le(),N2=Et(),{safeRe:oi,t:li}=Gt(),_2=(e,t)=>{if(e instanceof O2)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?oi[li.COERCEFULL]:oi[li.COERCE]);else{let l=t.includePrerelease?oi[li.COERCERTLFULL]:oi[li.COERCERTL],c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",o=t.includePrerelease&&r[6]?`+${r[6]}`:"";return N2(`${n}.${i}.${s}${a}${o}`,t)};Ef.exports=_2});var Pf=b((LA,Sf)=>{"use strict";var fa=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};Sf.exports=fa});var Ae=b((FA,If)=>{"use strict";var q2=/\s+/g,ha=class e{constructor(t,r){if(r=j2(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof pa)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(q2," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!$f(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&U2(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&V2)|(this.options.loose&&M2))+":"+t,i=Af.get(n);if(i)return i;let s=this.options.loose,a=s?ye[de.HYPHENRANGELOOSE]:ye[de.HYPHENRANGE];t=t.replace(a,X2(this.options.includePrerelease)),J("hyphen replace",t),t=t.replace(ye[de.COMPARATORTRIM],k2),J("comparator trim",t),t=t.replace(ye[de.TILDETRIM],L2),J("tilde trim",t),t=t.replace(ye[de.CARETTRIM],F2),J("caret trim",t);let o=t.split(" ").map(d=>B2(d,this.options)).join(" ").split(/\s+/).map(d=>z2(d,this.options));s&&(o=o.filter(d=>(J("loose invalid filter",d,this.options),!!d.match(ye[de.COMPARATORLOOSE])))),J("range list",o);let l=new Map,c=o.map(d=>new pa(d,this.options));for(let d of c){if($f(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return Af.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Tf(n,r)&&t.set.some(i=>Tf(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new D2(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Z2(this.set[r],t,this.options))return!0;return!1}};If.exports=ha;var C2=Pf(),Af=new C2,j2=Xn(),pa=kr(),J=jr(),D2=le(),{safeRe:ye,t:de,comparatorTrimReplace:k2,tildeTrimReplace:L2,caretTrimReplace:F2}=Gt(),{FLAG_INCLUDE_PRERELEASE:V2,FLAG_LOOSE:M2}=Cr(),$f=e=>e.value==="<0.0.0-0",U2=e=>e.value==="",Tf=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},B2=(e,t)=>(J("comp",e,t),e=W2(e,t),J("caret",e),e=H2(e,t),J("tildes",e),e=J2(e,t),J("xrange",e),e=Y2(e,t),J("stars",e),e),fe=e=>!e||e.toLowerCase()==="x"||e==="*",H2=(e,t)=>e.trim().split(/\s+/).map(r=>G2(r,t)).join(" "),G2=(e,t)=>{let r=t.loose?ye[de.TILDELOOSE]:ye[de.TILDE];return e.replace(r,(n,i,s,a,o)=>{J("tilde",e,n,i,s,a,o);let l;return fe(i)?l="":fe(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:fe(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:o?(J("replaceTilde pr",o),l=`>=${i}.${s}.${a}-${o} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,J("tilde return",l),l})},W2=(e,t)=>e.trim().split(/\s+/).map(r=>K2(r,t)).join(" "),K2=(e,t)=>{J("caret",e,t);let r=t.loose?ye[de.CARETLOOSE]:ye[de.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,o,l)=>{J("caret",e,i,s,a,o,l);let c;return fe(s)?c="":fe(a)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:fe(o)?s==="0"?c=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:c=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(J("replaceCaret pr",l),s==="0"?a==="0"?c=`>=${s}.${a}.${o}-${l} <${s}.${a}.${+o+1}-0`:c=`>=${s}.${a}.${o}-${l} <${s}.${+a+1}.0-0`:c=`>=${s}.${a}.${o}-${l} <${+s+1}.0.0-0`):(J("no pr"),s==="0"?a==="0"?c=`>=${s}.${a}.${o}${n} <${s}.${a}.${+o+1}-0`:c=`>=${s}.${a}.${o}${n} <${s}.${+a+1}.0-0`:c=`>=${s}.${a}.${o} <${+s+1}.0.0-0`),J("caret return",c),c})},J2=(e,t)=>(J("replaceXRanges",e,t),e.split(/\s+/).map(r=>Q2(r,t)).join(" ")),Q2=(e,t)=>{e=e.trim();let r=t.loose?ye[de.XRANGELOOSE]:ye[de.XRANGE];return e.replace(r,(n,i,s,a,o,l)=>{J("xRange",e,n,i,s,a,o,l);let c=fe(s),u=c||fe(a),d=u||fe(o),f=d;return i==="="&&f&&(i=""),l=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(u&&(a=0),o=0,i===">"?(i=">=",u?(s=+s+1,a=0,o=0):(a=+a+1,o=0)):i==="<="&&(i="<",u?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${o}${l}`):u?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),J("xRange return",n),n})},Y2=(e,t)=>(J("replaceStars",e,t),e.trim().replace(ye[de.STAR],"")),z2=(e,t)=>(J("replaceGTE0",e,t),e.trim().replace(ye[t.includePrerelease?de.GTE0PRE:de.GTE0],"")),X2=e=>(t,r,n,i,s,a,o,l,c,u,d,f)=>(fe(n)?r="":fe(i)?r=`>=${n}.0.0${e?"-0":""}`:fe(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,fe(c)?l="":fe(u)?l=`<${+c+1}.0.0-0`:fe(d)?l=`<${c}.${+u+1}.0-0`:f?l=`<=${c}.${u}.${d}-${f}`:e?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Z2=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(J(e[n].semver),e[n].semver!==pa.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var kr=b((VA,jf)=>{"use strict";var Lr=Symbol("SemVer ANY"),ya=class e{static get ANY(){return Lr}constructor(t,r){if(r=Of(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),ga("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Lr?this.value="":this.value=this.operator+this.semver.version,ga("comp",this)}parse(t){let r=this.options.loose?Nf[_f.COMPARATORLOOSE]:Nf[_f.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new qf(n[2],this.options.loose):this.semver=Lr}toString(){return this.value}test(t){if(ga("Comparator.test",t,this.options.loose),this.semver===Lr||t===Lr)return!0;if(typeof t=="string")try{t=new qf(t,this.options)}catch{return!1}return ma(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Cf(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new Cf(this.value,r).test(t.semver):(r=Of(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||ma(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||ma(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};jf.exports=ya;var Of=Xn(),{safeRe:Nf,t:_f}=Gt(),ma=da(),ga=jr(),qf=le(),Cf=Ae()});var Fr=b((MA,Df)=>{"use strict";var eR=Ae(),tR=(e,t,r)=>{try{t=new eR(t,r)}catch{return!1}return t.test(e)};Df.exports=tR});var Lf=b((UA,kf)=>{"use strict";var rR=Ae(),nR=(e,t)=>new rR(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));kf.exports=nR});var Vf=b((BA,Ff)=>{"use strict";var iR=le(),sR=Ae(),aR=(e,t,r)=>{let n=null,i=null,s=null;try{s=new sR(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new iR(n,r))}),n};Ff.exports=aR});var Uf=b((HA,Mf)=>{"use strict";var oR=le(),lR=Ae(),cR=(e,t,r)=>{let n=null,i=null,s=null;try{s=new lR(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new oR(n,r))}),n};Mf.exports=cR});var Gf=b((GA,Hf)=>{"use strict";var ba=le(),uR=Ae(),Bf=Dr(),dR=(e,t)=>{e=new uR(e,t);let r=new ba("0.0.0");if(e.test(r)||(r=new ba("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let o=new ba(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||Bf(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||Bf(r,s))&&(r=s)}return r&&e.test(r)?r:null};Hf.exports=dR});var Kf=b((WA,Wf)=>{"use strict";var fR=Ae(),hR=(e,t)=>{try{return new fR(e,t).range||"*"}catch{return null}};Wf.exports=hR});var ci=b((KA,zf)=>{"use strict";var pR=le(),Yf=kr(),{ANY:mR}=Yf,gR=Ae(),yR=Fr(),Jf=Dr(),Qf=ii(),bR=ai(),xR=si(),wR=(e,t,r,n)=>{e=new pR(e,n),t=new gR(t,n);let i,s,a,o,l;switch(r){case">":i=Jf,s=bR,a=Qf,o=">",l=">=";break;case"<":i=Qf,s=xR,a=Jf,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(yR(e,t,n))return!1;for(let c=0;c<t.set.length;++c){let u=t.set[c],d=null,f=null;if(u.forEach(h=>{h.semver===mR&&(h=new Yf(">=0.0.0")),d=d||h,f=f||h,i(h.semver,d.semver,n)?d=h:a(h.semver,f.semver,n)&&(f=h)}),d.operator===o||d.operator===l||(!f.operator||f.operator===o)&&s(e,f.semver))return!1;if(f.operator===l&&a(e,f.semver))return!1}return!0};zf.exports=wR});var Zf=b((JA,Xf)=>{"use strict";var vR=ci(),ER=(e,t,r)=>vR(e,t,">",r);Xf.exports=ER});var th=b((QA,eh)=>{"use strict";var RR=ci(),SR=(e,t,r)=>RR(e,t,"<",r);eh.exports=SR});var ih=b((YA,nh)=>{"use strict";var rh=Ae(),PR=(e,t,r)=>(e=new rh(e,r),t=new rh(t,r),e.intersects(t,r));nh.exports=PR});var ah=b((zA,sh)=>{"use strict";var AR=Fr(),$R=Pe();sh.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((u,d)=>$R(u,d,r));for(let u of a)AR(u,t,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let o=[];for(let[u,d]of n)u===d?o.push(u):!d&&u===a[0]?o.push("*"):d?u===a[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);let l=o.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t}});var fh=b((XA,dh)=>{"use strict";var oh=Ae(),wa=kr(),{ANY:xa}=wa,Vr=Fr(),va=Pe(),TR=(e,t,r={})=>{if(e===t)return!0;e=new oh(e,r),t=new oh(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=OR(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},IR=[new wa(">=0.0.0-0")],lh=[new wa(">=0.0.0")],OR=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===xa){if(t.length===1&&t[0].semver===xa)return!0;r.includePrerelease?e=IR:e=lh}if(t.length===1&&t[0].semver===xa){if(r.includePrerelease)return!0;t=lh}let n=new Set,i,s;for(let h of e)h.operator===">"||h.operator===">="?i=ch(i,h,r):h.operator==="<"||h.operator==="<="?s=uh(s,h,r):n.add(h.semver);if(n.size>1)return null;let a;if(i&&s){if(a=va(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let h of n){if(i&&!Vr(h,String(i),r)||s&&!Vr(h,String(s),r))return null;for(let m of t)if(!Vr(h,String(m),r))return!1;return!0}let o,l,c,u,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let h of t){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(o=ch(i,h,r),o===h&&o!==i)return!1}else if(i.operator===">="&&!Vr(i.semver,String(h),r))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=uh(s,h,r),l===h&&l!==s)return!1}else if(s.operator==="<="&&!Vr(s.semver,String(h),r))return!1}if(!h.operator&&(s||i)&&a!==0)return!1}return!(i&&c&&!s&&a!==0||s&&u&&!i&&a!==0||f||d)},ch=(e,t,r)=>{if(!e)return t;let n=va(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},uh=(e,t,r)=>{if(!e)return t;let n=va(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};dh.exports=TR});var ui=b((ZA,mh)=>{"use strict";var Ea=Gt(),hh=Cr(),NR=le(),ph=oa(),_R=Et(),qR=Fd(),CR=Md(),jR=Hd(),DR=Kd(),kR=Qd(),LR=zd(),FR=Zd(),VR=tf(),MR=Pe(),UR=af(),BR=lf(),HR=ni(),GR=ff(),WR=pf(),KR=Dr(),JR=ii(),QR=ca(),YR=ua(),zR=si(),XR=ai(),ZR=da(),eS=Rf(),tS=kr(),rS=Ae(),nS=Fr(),iS=Lf(),sS=Vf(),aS=Uf(),oS=Gf(),lS=Kf(),cS=ci(),uS=Zf(),dS=th(),fS=ih(),hS=ah(),pS=fh();mh.exports={parse:_R,valid:qR,clean:CR,inc:jR,diff:DR,major:kR,minor:LR,patch:FR,prerelease:VR,compare:MR,rcompare:UR,compareLoose:BR,compareBuild:HR,sort:GR,rsort:WR,gt:KR,lt:JR,eq:QR,neq:YR,gte:zR,lte:XR,cmp:ZR,coerce:eS,Comparator:tS,Range:rS,satisfies:nS,toComparators:iS,maxSatisfying:sS,minSatisfying:aS,minVersion:oS,validRange:lS,outside:cS,gtr:uS,ltr:dS,intersects:fS,simplifyRange:hS,subset:pS,SemVer:NR,re:Ea.re,src:Ea.src,tokens:Ea.t,SEMVER_SPEC_VERSION:hh.SEMVER_SPEC_VERSION,RELEASE_TYPES:hh.RELEASE_TYPES,compareIdentifiers:ph.compareIdentifiers,rcompareIdentifiers:ph.rcompareIdentifiers}});var yh=b((e9,gh)=>{var mS=ui();gh.exports=mS.satisfies(process.version,">=15.7.0")});var xh=b((t9,bh)=>{var gS=ui();bh.exports=gS.satisfies(process.version,">=16.9.0")});var Ra=b((r9,wh)=>{var yS=yh(),bS=xh(),xS={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},wS={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};wh.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let n=xS[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(yS)switch(r){case"ec":let i=t.asymmetricKeyDetails.namedCurve,s=wS[e];if(i!==s)throw new Error(`"alg" parameter "${e}" requires curve "${s}".`);break;case"rsa-pss":if(bS){let a=parseInt(e.slice(-3),10),{hashAlgorithm:o,mgf1HashAlgorithm:l,saltLength:c}=t.asymmetricKeyDetails;if(o!==`sha${a}`||l!==o)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(c!==void 0&&c>a>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var Sa=b((n9,vh)=>{var vS=ui();vh.exports=vS.satisfies(process.version,"^6.12.0 || >=8.0.0")});var Sh=b((i9,Rh)=>{var W=qr(),ES=ra(),Eh=na(),RS=ta(),SS=ia(),PS=Ra(),AS=Sa(),$S=Kn(),{KeyObject:TS,createSecretKey:IS,createPublicKey:OS}=require("crypto"),Pa=["RS256","RS384","RS512"],NS=["ES256","ES384","ES512"],Aa=["RS256","RS384","RS512"],_S=["HS256","HS384","HS512"];AS&&(Pa.splice(Pa.length,0,"PS256","PS384","PS512"),Aa.splice(Aa.length,0,"PS256","PS384","PS512"));Rh.exports=function(e,t,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let i;if(n?i=n:i=function(u,d){if(u)throw u;return d},r.clockTimestamp&&typeof r.clockTimestamp!="number")return i(new W("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return i(new W("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return i(new W("allowInvalidAsymmetricKeyTypes must be a boolean"));let s=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return i(new W("jwt must be provided"));if(typeof e!="string")return i(new W("jwt must be a string"));let a=e.split(".");if(a.length!==3)return i(new W("jwt malformed"));let o;try{o=RS(e,{complete:!0})}catch(u){return i(u)}if(!o)return i(new W("invalid token"));let l=o.header,c;if(typeof t=="function"){if(!n)return i(new W("verify must be called asynchronous if secret or public key is provided as a callback"));c=t}else c=function(u,d){return d(null,t)};return c(l,function(u,d){if(u)return i(new W("error in secret or public key callback: "+u.message));let f=a[2].trim()!=="";if(!f&&d)return i(new W("jwt signature is required"));if(f&&!d)return i(new W("secret or public key must be provided"));if(!f&&!r.algorithms)return i(new W('please specify "none" in "algorithms" to verify unsigned tokens'));if(d!=null&&!(d instanceof TS))try{d=OS(d)}catch{try{d=IS(typeof d=="string"?Buffer.from(d):d)}catch{return i(new W("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(d.type==="secret"?r.algorithms=_S:["rsa","rsa-pss"].includes(d.asymmetricKeyType)?r.algorithms=Aa:d.asymmetricKeyType==="ec"?r.algorithms=NS:r.algorithms=Pa),r.algorithms.indexOf(o.header.alg)===-1)return i(new W("invalid algorithm"));if(l.alg.startsWith("HS")&&d.type!=="secret")return i(new W(`secretOrPublicKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)&&d.type!=="public")return i(new W(`secretOrPublicKey must be an asymmetric key when using ${l.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{PS(l.alg,d)}catch(p){return i(p)}let h;try{h=$S.verify(e,o.header.alg,d)}catch(p){return i(p)}if(!h)return i(new W("invalid signature"));let m=o.payload;if(typeof m.nbf<"u"&&!r.ignoreNotBefore){if(typeof m.nbf!="number")return i(new W("invalid nbf value"));if(m.nbf>s+(r.clockTolerance||0))return i(new ES("jwt not active",new Date(m.nbf*1e3)))}if(typeof m.exp<"u"&&!r.ignoreExpiration){if(typeof m.exp!="number")return i(new W("invalid exp value"));if(s>=m.exp+(r.clockTolerance||0))return i(new Eh("jwt expired",new Date(m.exp*1e3)))}if(r.audience){let p=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(m.aud)?m.aud:[m.aud]).some(function(O){return p.some(function(P){return P instanceof RegExp?P.test(O):P===O})}))return i(new W("jwt audience invalid. expected: "+p.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&m.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(m.iss)===-1))return i(new W("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&m.sub!==r.subject)return i(new W("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&m.jti!==r.jwtid)return i(new W("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&m.nonce!==r.nonce)return i(new W("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof m.iat!="number")return i(new W("iat required when maxAge is specified"));let p=SS(r.maxAge,m.iat);if(typeof p>"u")return i(new W('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(s>=p+(r.clockTolerance||0))return i(new Eh("maxAge exceeded",new Date(p*1e3)))}if(r.complete===!0){let p=o.signature;return i(null,{header:l,payload:m,signature:p})}return i(null,m)})}});var Oh=b((s9,Ih)=>{var Ph=1/0,$h=9007199254740991,qS=17976931348623157e292,Ah=NaN,CS="[object Arguments]",jS="[object Function]",DS="[object GeneratorFunction]",kS="[object String]",LS="[object Symbol]",FS=/^\s+|\s+$/g,VS=/^[-+]0x[0-9a-f]+$/i,MS=/^0b[01]+$/i,US=/^0o[0-7]+$/i,BS=/^(?:0|[1-9]\d*)$/,HS=parseInt;function GS(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function WS(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function KS(e,t,r){if(t!==t)return WS(e,JS,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function JS(e){return e!==e}function QS(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function YS(e,t){return GS(t,function(r){return e[r]})}function zS(e,t){return function(r){return e(t(r))}}var di=Object.prototype,Ta=di.hasOwnProperty,fi=di.toString,XS=di.propertyIsEnumerable,ZS=zS(Object.keys,Object),e3=Math.max;function t3(e,t){var r=Th(e)||a3(e)?QS(e.length,String):[],n=r.length,i=!!n;for(var s in e)(t||Ta.call(e,s))&&!(i&&(s=="length"||n3(s,n)))&&r.push(s);return r}function r3(e){if(!i3(e))return ZS(e);var t=[];for(var r in Object(e))Ta.call(e,r)&&r!="constructor"&&t.push(r);return t}function n3(e,t){return t=t??$h,!!t&&(typeof e=="number"||BS.test(e))&&e>-1&&e%1==0&&e<t}function i3(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||di;return e===r}function s3(e,t,r,n){e=Ia(e)?e:g3(e),r=r&&!n?h3(r):0;var i=e.length;return r<0&&(r=e3(i+r,0)),u3(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&KS(e,t,r)>-1}function a3(e){return o3(e)&&Ta.call(e,"callee")&&(!XS.call(e,"callee")||fi.call(e)==CS)}var Th=Array.isArray;function Ia(e){return e!=null&&c3(e.length)&&!l3(e)}function o3(e){return Oa(e)&&Ia(e)}function l3(e){var t=$a(e)?fi.call(e):"";return t==jS||t==DS}function c3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$h}function $a(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Oa(e){return!!e&&typeof e=="object"}function u3(e){return typeof e=="string"||!Th(e)&&Oa(e)&&fi.call(e)==kS}function d3(e){return typeof e=="symbol"||Oa(e)&&fi.call(e)==LS}function f3(e){if(!e)return e===0?e:0;if(e=p3(e),e===Ph||e===-Ph){var t=e<0?-1:1;return t*qS}return e===e?e:0}function h3(e){var t=f3(e),r=t%1;return t===t?r?t-r:t:0}function p3(e){if(typeof e=="number")return e;if(d3(e))return Ah;if($a(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$a(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(FS,"");var r=MS.test(e);return r||US.test(e)?HS(e.slice(2),r?2:8):VS.test(e)?Ah:+e}function m3(e){return Ia(e)?t3(e):r3(e)}function g3(e){return e?YS(e,m3(e)):[]}Ih.exports=s3});var _h=b((a9,Nh)=>{var y3="[object Boolean]",b3=Object.prototype,x3=b3.toString;function w3(e){return e===!0||e===!1||v3(e)&&x3.call(e)==y3}function v3(e){return!!e&&typeof e=="object"}Nh.exports=w3});var kh=b((o9,Dh)=>{var qh=1/0,E3=17976931348623157e292,Ch=NaN,R3="[object Symbol]",S3=/^\s+|\s+$/g,P3=/^[-+]0x[0-9a-f]+$/i,A3=/^0b[01]+$/i,$3=/^0o[0-7]+$/i,T3=parseInt,I3=Object.prototype,O3=I3.toString;function N3(e){return typeof e=="number"&&e==j3(e)}function jh(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function _3(e){return!!e&&typeof e=="object"}function q3(e){return typeof e=="symbol"||_3(e)&&O3.call(e)==R3}function C3(e){if(!e)return e===0?e:0;if(e=D3(e),e===qh||e===-qh){var t=e<0?-1:1;return t*E3}return e===e?e:0}function j3(e){var t=C3(e),r=t%1;return t===t?r?t-r:t:0}function D3(e){if(typeof e=="number")return e;if(q3(e))return Ch;if(jh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(S3,"");var r=A3.test(e);return r||$3.test(e)?T3(e.slice(2),r?2:8):P3.test(e)?Ch:+e}Dh.exports=N3});var Fh=b((l9,Lh)=>{var k3="[object Number]",L3=Object.prototype,F3=L3.toString;function V3(e){return!!e&&typeof e=="object"}function M3(e){return typeof e=="number"||V3(e)&&F3.call(e)==k3}Lh.exports=M3});var Bh=b((c9,Uh)=>{var U3="[object Object]";function B3(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function H3(e,t){return function(r){return e(t(r))}}var G3=Function.prototype,Vh=Object.prototype,Mh=G3.toString,W3=Vh.hasOwnProperty,K3=Mh.call(Object),J3=Vh.toString,Q3=H3(Object.getPrototypeOf,Object);function Y3(e){return!!e&&typeof e=="object"}function z3(e){if(!Y3(e)||J3.call(e)!=U3||B3(e))return!1;var t=Q3(e);if(t===null)return!0;var r=W3.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Mh.call(r)==K3}Uh.exports=z3});var Gh=b((u9,Hh)=>{var X3="[object String]",Z3=Object.prototype,eP=Z3.toString,tP=Array.isArray;function rP(e){return!!e&&typeof e=="object"}function nP(e){return typeof e=="string"||!tP(e)&&rP(e)&&eP.call(e)==X3}Hh.exports=nP});var Yh=b((d9,Qh)=>{var iP="Expected a function",Wh=1/0,sP=17976931348623157e292,Kh=NaN,aP="[object Symbol]",oP=/^\s+|\s+$/g,lP=/^[-+]0x[0-9a-f]+$/i,cP=/^0b[01]+$/i,uP=/^0o[0-7]+$/i,dP=parseInt,fP=Object.prototype,hP=fP.toString;function pP(e,t){var r;if(typeof t!="function")throw new TypeError(iP);return e=xP(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}function mP(e){return pP(2,e)}function Jh(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function gP(e){return!!e&&typeof e=="object"}function yP(e){return typeof e=="symbol"||gP(e)&&hP.call(e)==aP}function bP(e){if(!e)return e===0?e:0;if(e=wP(e),e===Wh||e===-Wh){var t=e<0?-1:1;return t*sP}return e===e?e:0}function xP(e){var t=bP(e),r=t%1;return t===t?r?t-r:t:0}function wP(e){if(typeof e=="number")return e;if(yP(e))return Kh;if(Jh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Jh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(oP,"");var r=cP.test(e);return r||uP.test(e)?dP(e.slice(2),r?2:8):lP.test(e)?Kh:+e}Qh.exports=mP});var sp=b((f9,ip)=>{var zh=ia(),vP=Sa(),EP=Ra(),Xh=Kn(),RP=Oh(),hi=_h(),Zh=kh(),Na=Fh(),tp=Bh(),lt=Gh(),SP=Yh(),{KeyObject:PP,createSecretKey:AP,createPrivateKey:$P}=require("crypto"),rp=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];vP&&rp.splice(3,0,"PS256","PS384","PS512");var TP={expiresIn:{isValid:function(e){return Zh(e)||lt(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return Zh(e)||lt(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return lt(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:RP.bind(null,rp),message:'"algorithm" must be a valid string enum value'},header:{isValid:tp,message:'"header" must be an object'},encoding:{isValid:lt,message:'"encoding" must be a string'},issuer:{isValid:lt,message:'"issuer" must be a string'},subject:{isValid:lt,message:'"subject" must be a string'},jwtid:{isValid:lt,message:'"jwtid" must be a string'},noTimestamp:{isValid:hi,message:'"noTimestamp" must be a boolean'},keyid:{isValid:lt,message:'"keyid" must be a string'},mutatePayload:{isValid:hi,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:hi,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:hi,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},IP={iat:{isValid:Na,message:'"iat" should be a number of seconds'},exp:{isValid:Na,message:'"exp" should be a number of seconds'},nbf:{isValid:Na,message:'"nbf" should be a number of seconds'}};function np(e,t,r,n){if(!tp(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let s=e[i];if(!s){if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(r[i]))throw new Error(s.message)})}function OP(e){return np(TP,!1,e,"options")}function NP(e){return np(IP,!0,e,"payload")}var ep={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_P=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];ip.exports=function(e,t,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let i=typeof e=="object"&&!Buffer.isBuffer(e),s=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function a(c){if(n)return n(c);throw c}if(!t&&r.algorithm!=="none")return a(new Error("secretOrPrivateKey must have a value"));if(t!=null&&!(t instanceof PP))try{t=$P(t)}catch{try{t=AP(typeof t=="string"?Buffer.from(t):t)}catch{return a(new Error("secretOrPrivateKey is not valid key material"))}}if(s.alg.startsWith("HS")&&t.type!=="secret")return a(new Error(`secretOrPrivateKey must be a symmetric key when using ${s.alg}`));if(/^(?:RS|PS|ES)/.test(s.alg)){if(t.type!=="private")return a(new Error(`secretOrPrivateKey must be an asymmetric key when using ${s.alg}`));if(!r.allowInsecureKeySizes&&!s.alg.startsWith("ES")&&t.asymmetricKeyDetails!==void 0&&t.asymmetricKeyDetails.modulusLength<2048)return a(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`))}if(typeof e>"u")return a(new Error("payload is required"));if(i){try{NP(e)}catch(c){return a(c)}r.mutatePayload||(e=Object.assign({},e))}else{let c=_P.filter(function(u){return typeof r[u]<"u"});if(c.length>0)return a(new Error("invalid "+c.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof r.expiresIn<"u")return a(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof r.notBefore<"u")return a(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{OP(r)}catch(c){return a(c)}if(!r.allowInvalidAsymmetricKeyTypes)try{EP(s.alg,t)}catch(c){return a(c)}let o=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:i&&(e.iat=o),typeof r.notBefore<"u"){try{e.nbf=zh(r.notBefore,o)}catch(c){return a(c)}if(typeof e.nbf>"u")return a(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof e=="object"){try{e.exp=zh(r.expiresIn,o)}catch(c){return a(c)}if(typeof e.exp>"u")return a(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(ep).forEach(function(c){let u=ep[c];if(typeof r[c]<"u"){if(typeof e[u]<"u")return a(new Error('Bad "options.'+c+'" option. The payload already has an "'+u+'" property.'));e[u]=r[c]}});let l=r.encoding||"utf8";if(typeof n=="function")n=n&&SP(n),Xh.createSign({header:s,privateKey:t,payload:e,encoding:l}).once("error",n).once("done",function(c){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&c.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`));n(null,c)});else{let c=Xh.sign({header:s,payload:e,secret:t,encoding:l});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&c.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`);return c}}});var _a=b((h9,ap)=>{ap.exports={decode:ta(),verify:Sh(),sign:sp(),JsonWebTokenError:qr(),NotBeforeError:ra(),TokenExpiredError:na()}});var Fa=require("http"),Va=require("http2"),Gr=require("http2"),mi=require("stream"),Ga=Zt(require("crypto"),1),ut=class extends Error{constructor(e,t){super(e,t),this.name="RequestError"}},s0=e=>e instanceof ut?e:new ut(e.message,{cause:e}),a0=global.Request,er=class extends a0{constructor(e,t){typeof e=="object"&&Pt in e&&(e=e[Pt]()),typeof t?.body?.getReader<"u"&&(t.duplex??="half"),super(e,t)}},Ma=Symbol("wrapBodyStream"),o0=(e,t,r,n)=>{let i=[],s=r.rawHeaders;for(let o=0;o<s.length;o+=2){let{[o]:l,[o+1]:c}=s;l.charCodeAt(0)!==58&&i.push([l,c])}let a={method:e,headers:i,signal:n.signal};if(e==="TRACE"){a.method="GET";let o=new er(t,a);return Object.defineProperty(o,"method",{get(){return"TRACE"}}),o}if(!(e==="GET"||e==="HEAD"))if("rawBody"in r&&r.rawBody instanceof Buffer)a.body=new ReadableStream({start(o){o.enqueue(r.rawBody),o.close()}});else if(r[Ma]){let o;a.body=new ReadableStream({async pull(l){try{o||=mi.Readable.toWeb(r).getReader();let{done:c,value:u}=await o.read();c?l.close():l.enqueue(u)}catch(c){l.error(c)}}})}else a.body=mi.Readable.toWeb(r);return new er(t,a)},Pt=Symbol("getRequestCache"),l0=Symbol("requestCache"),gi=Symbol("incomingKey"),Wr=Symbol("urlKey"),St=Symbol("abortControllerKey"),c0=Symbol("getAbortController"),Kr={get method(){return this[gi].method||"GET"},get url(){return this[Wr]},[c0](){return this[Pt](),this[St]},[Pt](){return this[St]||=new AbortController,this[l0]||=o0(this.method,this[Wr],this[gi],this[St])}};["body","bodyUsed","cache","credentials","destination","headers","integrity","mode","redirect","referrer","referrerPolicy","signal","keepalive"].forEach(e=>{Object.defineProperty(Kr,e,{get(){return this[Pt]()[e]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(e=>{Object.defineProperty(Kr,e,{value:function(){return this[Pt]()[e]()}})});Object.setPrototypeOf(Kr,er.prototype);var u0=(e,t)=>{let r=Object.create(Kr);r[gi]=e;let n=e.url||"";if(n[0]!=="/"&&(n.startsWith("http://")||n.startsWith("https://"))){if(e instanceof Gr.Http2ServerRequest)throw new ut("Absolute URL for :path is not allowed in HTTP/2");try{let o=new URL(n);r[Wr]=o.href}catch(o){throw new ut("Invalid absolute URL",{cause:o})}return r}let i=(e instanceof Gr.Http2ServerRequest?e.authority:e.headers.host)||t;if(!i)throw new ut("Missing host header");let s;if(e instanceof Gr.Http2ServerRequest){if(s=e.scheme,!(s==="http"||s==="https"))throw new ut("Unsupported scheme")}else s=e.socket&&e.socket.encrypted?"https":"http";let a=new URL(`${s}://${i}${n}`);if(a.hostname.length!==i.length&&a.hostname!==i.replace(/:\d+$/,""))throw new ut("Invalid host header");return r[Wr]=a.href,r},La=Symbol("responseCache"),Rt=Symbol("getResponseCache"),dt=Symbol("cache"),bi=global.Response,tr=class Ua{#t;#e;[Rt](){return delete this[dt],this[La]||=new bi(this.#t,this.#e)}constructor(t,r){let n;if(this.#t=t,r instanceof Ua){let i=r[La];if(i){this.#e=i,this[Rt]();return}else this.#e=r.#e,n=new Headers(r.#e.headers)}else this.#e=r;(typeof t=="string"||typeof t?.getReader<"u"||t instanceof Blob||t instanceof Uint8Array)&&(n||=r?.headers||{"content-type":"text/plain; charset=UTF-8"},this[dt]=[r?.status||200,t,n])}get headers(){let t=this[dt];return t?(t[2]instanceof Headers||(t[2]=new Headers(t[2])),t[2]):this[Rt]().headers}get status(){return this[dt]?.[0]??this[Rt]().status}get ok(){let t=this.status;return t>=200&&t<300}};["body","bodyUsed","redirected","statusText","trailers","type","url"].forEach(e=>{Object.defineProperty(tr.prototype,e,{get(){return this[Rt]()[e]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(e=>{Object.defineProperty(tr.prototype,e,{value:function(){return this[Rt]()[e]()}})});Object.setPrototypeOf(tr,bi);Object.setPrototypeOf(tr.prototype,bi.prototype);async function d0(e){return Promise.race([e,Promise.resolve().then(()=>Promise.resolve(void 0))])}function Ba(e,t,r){let n=()=>{};return t.on("error",n),(r??e.read()).then(a,i),e.closed.finally(()=>{t.off("error",n)});function i(o){o&&t.destroy(o)}function s(){e.read().then(a,i)}function a({done:o,value:l}){try{if(o)t.end();else if(!t.write(l))t.once("drain",s);else return e.read().then(a,i)}catch(c){i(c)}}}function f0(e,t){if(e.locked)throw new TypeError("ReadableStream is locked.");return t.destroyed?void 0:Ba(e.getReader(),t)}var Ha=e=>{let t={};e instanceof Headers||(e=new Headers(e??void 0));let r=[];for(let[n,i]of e)n==="set-cookie"?r.push(i):t[n]=i;return r.length>0&&(t["set-cookie"]=r),t["content-type"]??="text/plain; charset=UTF-8",t},h0="x-hono-already-sent",p0=global.fetch;typeof global.crypto>"u"&&(global.crypto=Ga.default);global.fetch=(e,t)=>(t={compress:!1,...t},p0(e,t));var xi=Symbol("outgoingEnded"),m0=()=>new Response(null,{status:400}),Wa=e=>new Response(null,{status:e instanceof Error&&(e.name==="TimeoutError"||e.constructor.name==="TimeoutError")?504:500}),yi=(e,t)=>{let r=e instanceof Error?e:new Error("unknown error",{cause:e});r.code==="ERR_STREAM_PREMATURE_CLOSE"?console.info("The user aborted a request."):(console.error(e),t.headersSent||t.writeHead(500,{"Content-Type":"text/plain"}),t.end(`Error: ${r.message}`),t.destroy(r))},Ka=e=>{"flushHeaders"in e&&e.writable&&e.flushHeaders()},Ja=async(e,t)=>{let[r,n,i]=e[dt];i instanceof Headers&&(i=Ha(i)),typeof n=="string"?i["Content-Length"]=Buffer.byteLength(n):n instanceof Uint8Array?i["Content-Length"]=n.byteLength:n instanceof Blob&&(i["Content-Length"]=n.size),t.writeHead(r,i),typeof n=="string"||n instanceof Uint8Array?t.end(n):n instanceof Blob?t.end(new Uint8Array(await n.arrayBuffer())):(Ka(t),await f0(n,t)?.catch(s=>yi(s,t))),t[xi]?.()},g0=async(e,t,r={})=>{if(e instanceof Promise)if(r.errorHandler)try{e=await e}catch(i){let s=await r.errorHandler(i);if(!s)return;e=s}else e=await e.catch(Wa);if(dt in e)return Ja(e,t);let n=Ha(e.headers);if(e.body){let i=e.body.getReader(),s=[],a=!1,o,l=2;for(let c=0;c<l;c++){o||=i.read();let u=await d0(o).catch(d=>{console.error(d),a=!0});if(!u){if(c===1&&n["transfer-encoding"]!=="chunked"){await new Promise(d=>setTimeout(d)),l=3;continue}break}if(o=void 0,u.value&&s.push(u.value),u.done){a=!0;break}}a&&!("content-length"in n)&&(n["content-length"]=s.reduce((c,u)=>c+u.length,0)),t.writeHead(e.status,n),s.forEach(c=>{t.write(c)}),a?t.end():(s.length===0&&Ka(t),await Ba(i,t,o))}else n[h0]||(t.writeHead(e.status,n),t.end());t[xi]?.()},y0=(e,t={})=>{let r=t.autoCleanupIncoming??!0;return t.overrideGlobalObjects!==!1&&global.Request!==er&&(Object.defineProperty(global,"Request",{value:er}),Object.defineProperty(global,"Response",{value:tr})),async(n,i)=>{let s,a;try{a=u0(n,t.hostname);let o=!r||n.method==="GET"||n.method==="HEAD";if(o||(n[Ma]=!0,n.on("end",()=>{o=!0}),n instanceof Va.Http2ServerRequest&&(i[xi]=()=>{o||setTimeout(()=>{o||setTimeout(()=>{n.destroy(),i.destroy()})})})),i.on("close",()=>{a[St]&&(n.errored?a[St].abort(n.errored.toString()):i.writableFinished||a[St].abort("Client connection prematurely closed.")),o||setTimeout(()=>{o||setTimeout(()=>{n.destroy()})})}),s=e(a,{incoming:n,outgoing:i}),dt in s)return Ja(s,i)}catch(o){if(s)return yi(o,i);if(t.errorHandler){if(s=await t.errorHandler(a?o:s0(o)),!s)return}else a?s=Wa(o):s=m0()}try{return await g0(s,i,t)}catch(o){return yi(o,i)}}},b0=e=>{let t=e.fetch,r=y0(t,{hostname:e.hostname,overrideGlobalObjects:e.overrideGlobalObjects,autoCleanupIncoming:e.autoCleanupIncoming});return(e.createServer||Fa.createServer)(e.serverOptions||{},r)},Qa=(e,t)=>{let r=b0(e);return r.listen(e?.port??3e3,e.hostname,()=>{let n=r.address();t&&t(n)}),r};var wi=(e,t,r)=>(n,i)=>{let s=-1;return a(0);async function a(o){if(o<=s)throw new Error("next() called multiple times");s=o;let l,c=!1,u;if(e[o]?(u=e[o][0][0],n.req.routeIndex=o):u=o===e.length&&i||void 0,u)try{l=await u(n,()=>a(o+1))}catch(d){if(d instanceof Error&&t)n.error=d,l=await t(d,n),c=!0;else throw d}else n.finalized===!1&&r&&(l=await r(n));return l&&(n.finalized===!1||c)&&(n.res=l),n}};var Ya=Symbol();var za=async(e,t=Object.create(null))=>{let{all:r=!1,dot:n=!1}=t,s=(e instanceof Jr?e.raw.headers:e.headers).get("Content-Type");return s?.startsWith("multipart/form-data")||s?.startsWith("application/x-www-form-urlencoded")?x0(e,{all:r,dot:n}):{}};async function x0(e,t){let r=await e.formData();return r?w0(r,t):{}}function w0(e,t){let r=Object.create(null);return e.forEach((n,i)=>{t.all||i.endsWith("[]")?v0(r,i,n):r[i]=n}),t.dot&&Object.entries(r).forEach(([n,i])=>{n.includes(".")&&(E0(r,n,i),delete r[n])}),r}var v0=(e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},E0=(e,t,r)=>{let n=e,i=t.split(".");i.forEach((s,a)=>{a===i.length-1?n[s]=r:((!n[s]||typeof n[s]!="object"||Array.isArray(n[s])||n[s]instanceof File)&&(n[s]=Object.create(null)),n=n[s])})};var Ei=e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},Xa=e=>{let{groups:t,path:r}=R0(e),n=Ei(r);return S0(n,t)},R0=e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let i=`@${n}`;return t.push([i,r]),i}),{groups:t,path:e}},S0=(e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let i=e.length-1;i>=0;i--)if(e[i].includes(n)){e[i]=e[i].replace(n,t[r][1]);break}}return e},Qr={},Za=(e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${e}#${t}`;return Qr[n]||(r[2]?Qr[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Qr[n]=[e,r[1],!0]),Qr[n]}return null},Yr=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},P0=e=>Yr(e,decodeURI),Ri=e=>{let t=e.url,r=t.indexOf("/",t.charCodeAt(9)===58?13:8),n=r;for(;n<t.length;n++){let i=t.charCodeAt(n);if(i===37){let s=t.indexOf("?",n),a=t.slice(r,s===-1?void 0:s);return P0(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(i===63)break}return t.slice(r,n)};var eo=e=>{let t=Ri(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},ft=(e,t,...r)=>(r.length&&(t=ft(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),zr=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],n="";return t.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);let s=i.replace("?","");n+="/"+s,r.push(n)}else n+="/"+i}),r.filter((i,s,a)=>a.indexOf(i)===s)},vi=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Yr(e,Si):e):e,to=(e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let a=e.indexOf(`?${t}`,8);for(a===-1&&(a=e.indexOf(`&${t}`,8));a!==-1;){let o=e.charCodeAt(a+t.length+1);if(o===61){let l=a+t.length+2,c=e.indexOf("&",l);return vi(e.slice(l,c===-1?void 0:c))}else if(o==38||isNaN(o))return"";a=e.indexOf(`&${t}`,a+1)}if(n=/[%+]/.test(e),!n)return}let i={};n??=/[%+]/.test(e);let s=e.indexOf("?",8);for(;s!==-1;){let a=e.indexOf("&",s+1),o=e.indexOf("=",s);o>a&&a!==-1&&(o=-1);let l=e.slice(s+1,o===-1?a===-1?void 0:a:o);if(n&&(l=vi(l)),s=a,l==="")continue;let c;o===-1?c="":(c=e.slice(o+1,a===-1?void 0:a),n&&(c=vi(c))),r?(i[l]&&Array.isArray(i[l])||(i[l]=[]),i[l].push(c)):i[l]??=c}return t?i[t]:i},ro=to,no=(e,t)=>to(e,t,!0),Si=decodeURIComponent;var io=e=>Yr(e,Si),Jr=class{raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#e=r,this.#t={}}param(e){return e?this.#r(e):this.#s()}#r(e){let t=this.#e[0][this.routeIndex][1][e],r=this.#i(t);return r?/\%/.test(r)?io(r):r:void 0}#s(){let e={},t=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of t){let n=this.#i(this.#e[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(e[r]=/\%/.test(n)?io(n):n)}return e}#i(e){return this.#e[1]?this.#e[1][e]:e}query(e){return ro(this.url,e)}queries(e){return no(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await za(this,e)}#n=e=>{let{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;let i=Object.keys(t)[0];return i?t[i].then(s=>(i==="json"&&(s=JSON.stringify(s)),new Response(s)[e]())):t[e]=r[e]()};json(){return this.#n("text").then(e=>JSON.parse(e))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(e,t){this.#t[e]=t}valid(e){return this.#t[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[Ya](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,e]])=>e)}get routePath(){return this.#e[0].map(([[,e]])=>e)[this.routeIndex].path}};var so={Stringify:1,BeforeStream:2,Stream:3},A0=(e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r};var Pi=async(e,t,r,n,i)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let s=e.callbacks;if(!s?.length)return Promise.resolve(e);i?i[0]+=e:i=[e];let a=Promise.all(s.map(o=>o({phase:t,buffer:i,context:n}))).then(o=>Promise.all(o.filter(Boolean).map(l=>Pi(l,t,!1,n,i))).then(()=>i[0]));return r?A0(await a,s):a};var $0="text/plain; charset=UTF-8",Ai=(e,t)=>({"Content-Type":e,...t}),ao=class{#t;#e;env={};#r;finalized=!1;error;#s;#i;#n;#u;#l;#c;#o;#d;#f;constructor(e,t){this.#t=e,t&&(this.#i=t.executionCtx,this.env=t.env,this.#c=t.notFoundHandler,this.#f=t.path,this.#d=t.matchResult)}get req(){return this.#e??=new Jr(this.#t,this.#f,this.#d),this.#e}get event(){if(this.#i&&"respondWith"in this.#i)return this.#i;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#i)return this.#i;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#o??=new Headers})}set res(e){if(this.#n&&e){e=new Response(e.body,e);for(let[t,r]of this.#n.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let n=this.#n.headers.getSetCookie();e.headers.delete("set-cookie");for(let i of n)e.headers.append("set-cookie",i)}else e.headers.set(t,r)}this.#n=e,this.finalized=!0}render=(...e)=>(this.#l??=t=>this.html(t),this.#l(...e));setLayout=e=>this.#u=e;getLayout=()=>this.#u;setRenderer=e=>{this.#l=e};header=(e,t,r)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));let n=this.#n?this.#n.headers:this.#o??=new Headers;t===void 0?n.delete(e):r?.append?n.append(e,t):n.set(e,t)};status=e=>{this.#s=e};set=(e,t)=>{this.#r??=new Map,this.#r.set(e,t)};get=e=>this.#r?this.#r.get(e):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#a(e,t,r){let n=this.#n?new Headers(this.#n.headers):this.#o??new Headers;if(typeof t=="object"&&"headers"in t){let s=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[a,o]of s)a.toLowerCase()==="set-cookie"?n.append(a,o):n.set(a,o)}if(r)for(let[s,a]of Object.entries(r))if(typeof a=="string")n.set(s,a);else{n.delete(s);for(let o of a)n.append(s,o)}let i=typeof t=="number"?t:t?.status??this.#s;return new Response(e,{status:i,headers:n})}newResponse=(...e)=>this.#a(...e);body=(e,t,r)=>this.#a(e,t,r);text=(e,t,r)=>!this.#o&&!this.#s&&!t&&!r&&!this.finalized?new Response(e):this.#a(e,t,Ai($0,r));json=(e,t,r)=>this.#a(JSON.stringify(e),t,Ai("application/json",r));html=(e,t,r)=>{let n=i=>this.#a(i,t,Ai("text/html; charset=UTF-8",r));return typeof e=="object"?Pi(e,so.Stringify,!1,{}).then(n):n(e)};redirect=(e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)};notFound=()=>(this.#c??=()=>new Response,this.#c(this))};var z="ALL",oo="all",lo=["get","post","put","delete","options","patch"],Xr="Can not add a route since the matcher is already built.",Zr=class extends Error{};var co="__COMPOSED_HANDLER";var T0=e=>e.text("404 Not Found",404),uo=(e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},$i=class{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(e={}){[...lo,oo].forEach(i=>{this[i]=(s,...a)=>(typeof s=="string"?this.#t=s:this.#s(i,this.#t,s),a.forEach(o=>{this.#s(i,this.#t,o)}),this)}),this.on=(i,s,...a)=>{for(let o of[s].flat()){this.#t=o;for(let l of[i].flat())a.map(c=>{this.#s(l.toUpperCase(),this.#t,c)})}return this},this.use=(i,...s)=>(typeof i=="string"?this.#t=i:(this.#t="*",s.unshift(i)),s.forEach(a=>{this.#s(z,this.#t,a)}),this);let{strict:r,...n}=e;Object.assign(this,n),this.getPath=r??!0?e.getPath??Ri:eo}#e(){let e=new $i({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=T0;errorHandler=uo;route(e,t){let r=this.basePath(e);return t.routes.map(n=>{let i;t.errorHandler===uo?i=n.handler:(i=async(s,a)=>(await wi([],t.errorHandler)(s,()=>n.handler(s,a))).res,i[co]=n.handler),r.#s(n.method,n.path,i)}),this}basePath(e){let t=this.#e();return t._basePath=ft(this._basePath,e),t}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#r=e,this);mount(e,t,r){let n,i;r&&(typeof r=="function"?i=r:(i=r.optionHandler,r.replaceRequest===!1?n=o=>o:n=r.replaceRequest));let s=i?o=>{let l=i(o);return Array.isArray(l)?l:[l]}:o=>{let l;try{l=o.executionCtx}catch{}return[o.env,l]};n||=(()=>{let o=ft(this._basePath,e),l=o==="/"?0:o.length;return c=>{let u=new URL(c.url);return u.pathname=u.pathname.slice(l)||"/",new Request(u,c)}})();let a=async(o,l)=>{let c=await t(n(o.req.raw),...s(o));if(c)return c;await l()};return this.#s(z,ft(e,"*"),a),this}#s(e,t,r){e=e.toUpperCase(),t=ft(this._basePath,t);let n={basePath:this._basePath,path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}#i(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#n(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#n(e,t,r,"GET")))();let i=this.getPath(e,{env:r}),s=this.router.match(n,i),a=new ao(e,{path:i,matchResult:s,env:r,executionCtx:t,notFoundHandler:this.#r});if(s[0].length===1){let l;try{l=s[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(c){return this.#i(c,a)}return l instanceof Promise?l.then(c=>c||(a.finalized?a.res:this.#r(a))).catch(c=>this.#i(c,a)):l??this.#r(a)}let o=wi(s[0],this.errorHandler,this.#r);return(async()=>{try{let l=await o(a);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#i(l,a)}})()}fetch=(e,...t)=>this.#n(e,t[1],t[0],e.method);request=(e,t,r,n)=>e instanceof Request?this.fetch(t?new Request(e,t):e,r,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${ft("/",e)}`,t),r,n));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#n(e.request,e,void 0,e.request.method))})}};var en="[^/]+",rr=".*",nr="(?:|/.*)",ht=Symbol(),I0=new Set(".\\+*[^]$()");function O0(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===rr||e===nr?1:t===rr||t===nr?-1:e===en?1:t===en?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var tn=class{#t;#e;#r=Object.create(null);insert(e,t,r,n,i){if(e.length===0){if(this.#t!==void 0)throw ht;if(i)return;this.#t=t;return}let[s,...a]=e,o=s==="*"?a.length===0?["","",rr]:["","",en]:s==="/*"?["","",nr]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(o){let c=o[1],u=o[2]||en;if(c&&o[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw ht;if(l=this.#r[u],!l){if(Object.keys(this.#r).some(d=>d!==rr&&d!==nr))throw ht;if(i)return;l=this.#r[u]=new tn,c!==""&&(l.#e=n.varIndex++)}!i&&c!==""&&r.push([c,l.#e])}else if(l=this.#r[s],!l){if(Object.keys(this.#r).some(c=>c.length>1&&c!==rr&&c!==nr))throw ht;if(i)return;l=this.#r[s]=new tn}l.insert(a,t,r,n,i)}buildRegExpStr(){let t=Object.keys(this.#r).sort(O0).map(r=>{let n=this.#r[r];return(typeof n.#e=="number"?`(${r})@${n.#e}`:I0.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#t=="number"&&t.unshift(`#${this.#t}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var fo=class{#t={varIndex:0};#e=new tn;insert(e,t,r){let n=[],i=[];for(let a=0;;){let o=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{let c=`@\\${a}`;return i[a]=[c,l],a++,o=!0,c}),!o)break}let s=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=i.length-1;a>=0;a--){let[o]=i[a];for(let l=s.length-1;l>=0;l--)if(s[l].indexOf(o)!==-1){s[l]=s[l].replace(o,i[a][1]);break}}return this.#e.insert(s,t,n,this.#t,r),n}buildRegExp(){let e=this.#e.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,a)=>s!==void 0?(r[++t]=Number(s),"$()"):(a!==void 0&&(n[Number(a)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var ho=[],N0=[/^$/,[],Object.create(null)],po=Object.create(null);function mo(e){return po[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function _0(){po=Object.create(null)}function q0(e){let t=new fo,r=[];if(e.length===0)return N0;let n=e.map(c=>[!/\*|\/:/.test(c[0]),...c]).sort(([c,u],[d,f])=>c?1:d?-1:u.length-f.length),i=Object.create(null);for(let c=0,u=-1,d=n.length;c<d;c++){let[f,h,m]=n[c];f?i[h]=[m.map(([E])=>[E,Object.create(null)]),ho]:u++;let p;try{p=t.insert(h,u,f)}catch(E){throw E===ht?new Zr(h):E}f||(r[u]=m.map(([E,I])=>{let O=Object.create(null);for(I-=1;I>=0;I--){let[P,U]=p[I];O[P]=U}return[E,O]}))}let[s,a,o]=t.buildRegExp();for(let c=0,u=r.length;c<u;c++)for(let d=0,f=r[c].length;d<f;d++){let h=r[c][d]?.[1];if(!h)continue;let m=Object.keys(h);for(let p=0,E=m.length;p<E;p++)h[m[p]]=o[h[m[p]]]}let l=[];for(let c in a)l[c]=r[a[c]];return[s,l,i]}function At(e,t){if(e){for(let r of Object.keys(e).sort((n,i)=>i.length-n.length))if(mo(r).test(t))return[...e[r]]}}var Ti=class{name="RegExpRouter";#t;#e;constructor(){this.#t={[z]:Object.create(null)},this.#e={[z]:Object.create(null)}}add(e,t,r){let n=this.#t,i=this.#e;if(!n||!i)throw new Error(Xr);n[e]||[n,i].forEach(o=>{o[e]=Object.create(null),Object.keys(o[z]).forEach(l=>{o[e][l]=[...o[z][l]]})}),t==="/*"&&(t="*");let s=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let o=mo(t);e===z?Object.keys(n).forEach(l=>{n[l][t]||=At(n[l],t)||At(n[z],t)||[]}):n[e][t]||=At(n[e],t)||At(n[z],t)||[],Object.keys(n).forEach(l=>{(e===z||e===l)&&Object.keys(n[l]).forEach(c=>{o.test(c)&&n[l][c].push([r,s])})}),Object.keys(i).forEach(l=>{(e===z||e===l)&&Object.keys(i[l]).forEach(c=>o.test(c)&&i[l][c].push([r,s]))});return}let a=zr(t)||[t];for(let o=0,l=a.length;o<l;o++){let c=a[o];Object.keys(i).forEach(u=>{(e===z||e===u)&&(i[u][c]||=[...At(n[u],c)||At(n[z],c)||[]],i[u][c].push([r,s-l+o+1]))})}}match(e,t){_0();let r=this.#r();return this.match=(n,i)=>{let s=r[n]||r[z],a=s[2][i];if(a)return a;let o=i.match(s[0]);if(!o)return[[],ho];let l=o.indexOf("",1);return[s[1][l],o]},this.match(e,t)}#r(){let e=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(t=>{e[t]||=this.#s(t)}),this.#t=this.#e=void 0,e}#s(e){let t=[],r=e===z;return[this.#t,this.#e].forEach(n=>{let i=n[e]?Object.keys(n[e]).map(s=>[s,n[e][s]]):[];i.length!==0?(r||=!0,t.push(...i)):e!==z&&t.push(...Object.keys(n[z]).map(s=>[s,n[z][s]]))}),r?q0(t):null}};var Ii=class{name="SmartRouter";#t=[];#e=[];constructor(e){this.#t=e.routers}add(e,t,r){if(!this.#e)throw new Error(Xr);this.#e.push([e,t,r])}match(e,t){if(!this.#e)throw new Error("Fatal error");let r=this.#t,n=this.#e,i=r.length,s=0,a;for(;s<i;s++){let o=r[s];try{for(let l=0,c=n.length;l<c;l++)o.add(...n[l]);a=o.match(e,t)}catch(l){if(l instanceof Zr)continue;throw l}this.match=o.match.bind(o),this.#t=[o],this.#e=void 0;break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};var ir=Object.create(null),Oi=class{#t;#e;#r;#s=0;#i=ir;constructor(e,t,r){if(this.#e=r||Object.create(null),this.#t=[],e&&t){let n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},this.#t=[n]}this.#r=[]}insert(e,t,r){this.#s=++this.#s;let n=this,i=Xa(t),s=[];for(let a=0,o=i.length;a<o;a++){let l=i[a],c=i[a+1],u=Za(l,c),d=Array.isArray(u)?u[0]:l;if(d in n.#e){n=n.#e[d],u&&s.push(u[1]);continue}n.#e[d]=new Oi,u&&(n.#r.push(u),s.push(u[1])),n=n.#e[d]}return n.#t.push({[e]:{handler:r,possibleKeys:s.filter((a,o,l)=>l.indexOf(a)===o),score:this.#s}}),n}#n(e,t,r,n){let i=[];for(let s=0,a=e.#t.length;s<a;s++){let o=e.#t[s],l=o[t]||o[z],c={};if(l!==void 0&&(l.params=Object.create(null),i.push(l),r!==ir||n&&n!==ir))for(let u=0,d=l.possibleKeys.length;u<d;u++){let f=l.possibleKeys[u],h=c[l.score];l.params[f]=n?.[f]&&!h?n[f]:r[f]??n?.[f],c[l.score]=!0}}return i}search(e,t){let r=[];this.#i=ir;let i=[this],s=Ei(t),a=[];for(let o=0,l=s.length;o<l;o++){let c=s[o],u=o===l-1,d=[];for(let f=0,h=i.length;f<h;f++){let m=i[f],p=m.#e[c];p&&(p.#i=m.#i,u?(p.#e["*"]&&r.push(...this.#n(p.#e["*"],e,m.#i)),r.push(...this.#n(p,e,m.#i))):d.push(p));for(let E=0,I=m.#r.length;E<I;E++){let O=m.#r[E],P=m.#i===ir?{}:{...m.#i};if(O==="*"){let R=m.#e["*"];R&&(r.push(...this.#n(R,e,m.#i)),R.#i=P,d.push(R));continue}let[U,se,$]=O;if(!c&&!($ instanceof RegExp))continue;let y=m.#e[U],A=s.slice(o).join("/");if($ instanceof RegExp){let R=$.exec(A);if(R){if(P[se]=R[0],r.push(...this.#n(y,e,m.#i,P)),Object.keys(y.#e).length){y.#i=P;let D=R[0].match(/\//)?.length??0;(a[D]||=[]).push(y)}continue}}($===!0||$.test(c))&&(P[se]=c,u?(r.push(...this.#n(y,e,P,m.#i)),y.#e["*"]&&r.push(...this.#n(y.#e["*"],e,P,m.#i))):(y.#i=P,d.push(y)))}}i=d.concat(a.shift()??[])}return r.length>1&&r.sort((o,l)=>o.score-l.score),[r.map(({handler:o,params:l})=>[o,l])]}};var Ni=class{name="TrieRouter";#t;constructor(){this.#t=new Oi}add(e,t,r){let n=zr(t);if(n){for(let i=0,s=n.length;i<s;i++)this.#t.insert(e,n[i],r);return}this.#t.insert(e,t,r)}match(e,t){return this.#t.search(e,t)}};var xe=class extends $i{constructor(e={}){super(e),this.router=e.router??new Ii({routers:[new Ti,new Ni]})}};var Eu=Zt(vu(),1),Av=new Eu.PrismaClient,Z=Av;var Ru=async()=>{try{return await Z.product.findMany({include:{category:!0}})}catch(e){throw console.error("Error fetching products:",e),e}},Su=async e=>{try{return await Z.product.create({data:{name:e.name,description:e.description||"",price:e.price,categoryId:e.categoryId,stock:e.stock}})}catch(t){throw console.error("Error creating product:",t),t}},Pu=async e=>{try{return await Z.product.update({where:{id:e.id},data:{name:e.name,description:e.description,price:e.price,categoryId:e.categoryId,stock:e.stock}})}catch(t){throw console.error("Error updating product:",t),t}},Au=async e=>{try{return await Z.product.delete({where:{id:e}})}catch(t){throw console.error("Error deleting product:",t),t}};var $u=async e=>{let t=await Ru();return e.json(t)},Tu=async e=>{let t=await e.req.json(),r=await Su(t);return e.json(r,201)},Iu=async e=>{let t=await e.req.json(),r=await Pu(t);return e.json(r)},Ou=async e=>{let{id:t}=e.req.param(),r=await Au(t);return e.json(r)};var op=Zt(_a(),1),qP=process.env.JWT_SECRET||"defaultsecret",be=async(e,t)=>{let r=e.req.header("authorization");if(!r)return e.json({error:"Unauthorized"},401);let n=r.replace("Bearer ","");try{let i=op.default.verify(n,qP);e.set("user",i),await t()}catch{return e.json({error:"Invalid token"},401)}};var Kt=new xe;Kt.use("*",be);Kt.get("/",$u);Kt.post("/",Tu);Kt.put("/:id",Iu);Kt.delete("/:id",Ou);var lp=Kt;var cp=async()=>{try{return await Z.productCategory.findMany()}catch(e){throw console.error("Error fetching categories:",e),e}},up=async e=>{try{return await Z.productCategory.create({data:e})}catch(t){throw console.error("Error creating category:",t),t}},dp=async e=>{try{return await Z.productCategory.update({where:{id:e.id},data:{name:e.name||""}})}catch(t){throw console.error("Error updating category:",t),t}},fp=async e=>{try{return await Z.productCategory.delete({where:{id:e}})}catch(t){throw console.error("Error deleting category:",t),t}};var hp=async e=>{let t=await cp();return e.json(t)},pp=async e=>{let t=await e.req.json(),r=await up(t);return e.json(r,201)},mp=async e=>{let t=await e.req.json(),r=await dp(t);return e.json(r)},gp=async e=>{let{id:t}=e.req.param(),r=await fp(t);return e.json(r)};var Jt=new xe;Jt.use("*",be);Jt.get("/",hp);Jt.post("/",pp);Jt.put("/:id",mp);Jt.delete("/:id",gp);var yp=Jt;var Ep=Zt(require("crypto"),1),qa=null;function DP(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return Ep.default.randomBytes(e)}catch{}if(!qa)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return qa(e)}function kP(e){qa=e}function ja(e,t){if(e=e||Da,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(pi(DP(Mr),Mr)),r.join("")}function Rp(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=Da;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(i){Oe(function(){try{i(null,ja(e))}catch(s){i(s)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(i,s){n(function(a,o){if(a){s(a);return}i(o)})})}function Sp(e,t){if(typeof t>"u"&&(t=Da),typeof t=="number"&&(t=ja(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Ca(e,t)}function Pp(e,t,r,n){function i(s){typeof e=="string"&&typeof t=="number"?Rp(t,function(a,o){Ca(e,o,s,n)}):typeof e=="string"&&typeof t=="string"?Ca(e,t,s,n):Oe(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);i(r)}else return new Promise(function(s,a){i(function(o,l){if(o){a(o);return}s(l)})})}function Ap(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function LP(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:Ap(Sp(e,t.substring(0,t.length-31)),t)}function FP(e,t,r,n){function i(s){if(typeof e!="string"||typeof t!="string"){Oe(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){Oe(s.bind(this,null,!1));return}Pp(e,t.substring(0,29),function(a,o){a?s(a):s(null,Ap(o,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);i(r)}else return new Promise(function(s,a){i(function(o,l){if(o){a(o);return}s(l)})})}function VP(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function MP(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function UP(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return $p(e)>72}var Oe=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function $p(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function BP(e){for(var t=0,r,n,i=new Array($p(e)),s=0,a=e.length;s<a;++s)r=e.charCodeAt(s),r<128?i[t++]=r:r<2048?(i[t++]=r>>6|192,i[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++s,i[t++]=r>>18|240,i[t++]=r>>12&63|128,i[t++]=r>>6&63|128,i[t++]=r&63|128):(i[t++]=r>>12|224,i[t++]=r>>6&63|128,i[t++]=r&63|128);return i}var Qt="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ct=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function pi(e,t){var r=0,n=[],i,s;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(i=e[r++]&255,n.push(Qt[i>>2&63]),i=(i&3)<<4,r>=t){n.push(Qt[i&63]);break}if(s=e[r++]&255,i|=s>>4&15,n.push(Qt[i&63]),i=(s&15)<<2,r>=t){n.push(Qt[i&63]);break}s=e[r++]&255,i|=s>>6&3,n.push(Qt[i&63]),n.push(Qt[s&63])}return n.join("")}function Tp(e,t){var r=0,n=e.length,i=0,s=[],a,o,l,c,u,d;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&i<t&&(d=e.charCodeAt(r++),a=d<ct.length?ct[d]:-1,d=e.charCodeAt(r++),o=d<ct.length?ct[d]:-1,!(a==-1||o==-1||(u=a<<2>>>0,u|=(o&48)>>4,s.push(String.fromCharCode(u)),++i>=t||r>=n)||(d=e.charCodeAt(r++),l=d<ct.length?ct[d]:-1,l==-1)||(u=(o&15)<<4>>>0,u|=(l&60)>>2,s.push(String.fromCharCode(u)),++i>=t||r>=n)));)d=e.charCodeAt(r++),c=d<ct.length?ct[d]:-1,u=(l&3)<<6>>>0,u|=c,s.push(String.fromCharCode(u)),++i;var f=[];for(r=0;r<i;r++)f.push(s[r].charCodeAt(0));return f}var Mr=16,Da=10,HP=16,GP=100,bp=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],xp=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Ip=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Ur(e,t,r,n){var i,s=e[t],a=e[t+1];return s^=r[0],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[1],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[2],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[3],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[4],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[5],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[6],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[7],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[8],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[9],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[10],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[11],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[12],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[13],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[14],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],a^=i^r[15],i=n[a>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i+=n[768|a&255],s^=i^r[16],e[t]=a^r[HP+1],e[t+1]=s,e}function Yt(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function wp(e,t,r){for(var n=0,i=[0,0],s=t.length,a=r.length,o,l=0;l<s;l++)o=Yt(e,n),n=o.offp,t[l]=t[l]^o.key;for(l=0;l<s;l+=2)i=Ur(i,0,t,r),t[l]=i[0],t[l+1]=i[1];for(l=0;l<a;l+=2)i=Ur(i,0,t,r),r[l]=i[0],r[l+1]=i[1]}function WP(e,t,r,n){for(var i=0,s=[0,0],a=r.length,o=n.length,l,c=0;c<a;c++)l=Yt(t,i),i=l.offp,r[c]=r[c]^l.key;for(i=0,c=0;c<a;c+=2)l=Yt(e,i),i=l.offp,s[0]^=l.key,l=Yt(e,i),i=l.offp,s[1]^=l.key,s=Ur(s,0,r,n),r[c]=s[0],r[c+1]=s[1];for(c=0;c<o;c+=2)l=Yt(e,i),i=l.offp,s[0]^=l.key,l=Yt(e,i),i=l.offp,s[1]^=l.key,s=Ur(s,0,r,n),n[c]=s[0],n[c+1]=s[1]}function vp(e,t,r,n,i){var s=Ip.slice(),a=s.length,o;if(r<4||r>31)if(o=Error("Illegal number of rounds (4-31): "+r),n){Oe(n.bind(this,o));return}else throw o;if(t.length!==Mr)if(o=Error("Illegal salt length: "+t.length+" != "+Mr),n){Oe(n.bind(this,o));return}else throw o;r=1<<r>>>0;var l,c,u=0,d;typeof Int32Array=="function"?(l=new Int32Array(bp),c=new Int32Array(xp)):(l=bp.slice(),c=xp.slice()),WP(t,e,l,c);function f(){if(i&&i(u/r),u<r)for(var m=Date.now();u<r&&(u=u+1,wp(e,l,c),wp(t,l,c),!(Date.now()-m>GP)););else{for(u=0;u<64;u++)for(d=0;d<a>>1;d++)Ur(s,d<<1,l,c);var p=[];for(u=0;u<a;u++)p.push((s[u]>>24&255)>>>0),p.push((s[u]>>16&255)>>>0),p.push((s[u]>>8&255)>>>0),p.push((s[u]&255)>>>0);if(n){n(null,p);return}else return p}n&&Oe(f)}if(typeof n<"u")f();else for(var h;;)if(typeof(h=f())<"u")return h||[]}function Ca(e,t,r,n){var i;if(typeof e!="string"||typeof t!="string")if(i=Error("Invalid string / salt: Not a string"),r){Oe(r.bind(this,i));return}else throw i;var s,a;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(i=Error("Invalid salt version: "+t.substring(0,2)),r){Oe(r.bind(this,i));return}else throw i;if(t.charAt(2)==="$")s="\0",a=3;else{if(s=t.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||t.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+t.substring(2,4)),r){Oe(r.bind(this,i));return}else throw i;a=4}if(t.charAt(a+2)>"$")if(i=Error("Missing salt rounds"),r){Oe(r.bind(this,i));return}else throw i;var o=parseInt(t.substring(a,a+1),10)*10,l=parseInt(t.substring(a+1,a+2),10),c=o+l,u=t.substring(a+3,a+25);e+=s>="a"?"\0":"";var d=BP(e),f=Tp(u,Mr);function h(m){var p=[];return p.push("$2"),s>="a"&&p.push(s),p.push("$"),c<10&&p.push("0"),p.push(c.toString()),p.push("$"),p.push(pi(f,f.length)),p.push(pi(m,Ip.length*4-1)),p.join("")}if(typeof r>"u")return h(vp(d,f,c));vp(d,f,c,function(m,p){m?r(m,null):r(null,h(p))},n)}function KP(e,t){return pi(e,t)}function JP(e,t){return Tp(e,t)}var Op={setRandomFallback:kP,genSaltSync:ja,genSalt:Rp,hashSync:Sp,hash:Pp,compareSync:LP,compare:FP,getRounds:VP,getSalt:MP,truncates:UP,encodeBase64:KP,decodeBase64:JP};var Np=Zt(_a(),1),QP=process.env.JWT_SECRET||"defaultsecret",_p=async(e,t)=>{let r=await Z.user.findUnique({where:{email:e},include:{roles:{include:{role:!0}}}});if(!r||!await Op.compare(t,r.password))throw new Error("Invalid credentials");let n=r.roles.map(s=>s.role.name);return{token:Np.default.sign({userId:r.id,email:r.email,roles:n},QP,{expiresIn:"1d"}),user:{id:r.id,email:r.email,roles:n}}};var qp=new xe;qp.post("/login",async e=>{let{email:t,password:r}=await e.req.json();try{let n=await _p(t,r);return e.json(n)}catch(n){return console.error(n),e.json({error:"Invalid credentials"},401)}});var Cp=qp;var jp=async()=>{try{return await Z.permission.findMany()}catch(e){throw console.error("Error fetching permissions:",e),e}},Dp=async e=>{try{return await Z.permission.create({data:{name:e.name,description:e.description||"",module:e.module||"",action:e.action||""}})}catch(t){throw console.error("Error creating permission:",t),t}},kp=async(e,t)=>{try{return await Z.permission.update({where:{id:e},data:{name:t.name,description:t.description||""}})}catch(r){throw console.error("Error updating permission:",r),r}},Lp=async e=>{try{return await Z.permission.delete({where:{id:e}})}catch(t){throw console.error("Error deleting permission:",t),t}};var Fp=async e=>{let t=await jp();return e.json(t)},Vp=async e=>{let t=await e.req.json(),r=await Dp(t);return e.json(r,201)},Mp=async e=>{let t=await e.req.json(),r=await kp(t.id,t);return e.json(r)},Up=async e=>{let{id:t}=e.req.param(),r=await Lp(t);return e.json(r)};var Br=new xe;Br.get("/permissions",be,Fp);Br.post("/permissions",be,Vp);Br.put("/permissions/:id",be,Mp);Br.delete("/permissions/:id",be,Up);var Bp=Br;var Hp=async()=>{try{return await Z.role.findMany()}catch(e){throw console.error("Error fetching roles:",e),e}},Gp=async e=>{try{return await Z.role.create({data:e})}catch(t){throw console.error("Error creating role:",t),t}},Wp=async e=>{try{return await Z.role.update({where:{id:e.id},data:{name:e.name||""}})}catch(t){throw console.error("Error updating role:",t),t}},Kp=async e=>{try{return await Z.role.delete({where:{id:e}})}catch(t){throw console.error("Error deleting role:",t),t}};var Jp=async e=>{let t=await Hp();return e.json(t)},Qp=async e=>{let t=await e.req.json(),r=await Gp(t);return e.json(r,201)},Yp=async e=>{let t=await e.req.json(),r=await Wp(t);return e.json(r)},zp=async e=>{let{id:t}=e.req.param(),r=await Kp(t);return e.json(r)};var Hr=new xe;Hr.get("/roles",be,Jp);Hr.post("/roles",be,Qp);Hr.put("/roles/:id",be,Yp);Hr.delete("/roles/:id",be,zp);var Xp=Hr;var zt=new xe;zt.route("/auth",Cp);zt.route("/products",lp);zt.route("/categories",yp);zt.route("/permissions",Bp);zt.route("/roles",Xp);Qa({fetch:zt.fetch,port:3e3},e=>{console.log(`Server is running on http://localhost:${e.port}`)});
/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
